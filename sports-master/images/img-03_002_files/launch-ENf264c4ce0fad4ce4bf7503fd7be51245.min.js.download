// For license information, see `https://assets.adobedtm.com/launch-ENf264c4ce0fad4ce4bf7503fd7be51245.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2024-04-12T12:45:49Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"ENf264c4ce0fad4ce4bf7503fd7be51245",stage:"production"},dataElements:{AdobeOptIns:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("OneTrustPreferences"),t=/,2,/.test(e);return{aa:t,aam:!1,ecid:t,mediaaa:t}}}},TicketingPages:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/\-(shop|lottery)\.secutix\.com|(\.|-)tickets\.fifa\.com$/.test(location.hostname)}}},sysEnv:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;window.location.hostname,navigator.userAgent;var t=new URLSearchParams(location.search.toLowerCase());return e="www.fifa."==location.hostname.substring(0,9)?location.hostname.replace(/\//g,":").split(".")[1]+location.hostname.replace(/\//g,":").split(".")[2]:location.hostname.replace(/\//g,":").replace("www.","").split(".")[0],"app"==t.get("context")||t.get("adobe_mc")?e+="AppWebView":e+="Web",e}}},userDOB:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("undefined"==typeof digitalData&&digitalData.user&&(e=(digitalData.user.dob||"").split("t")[0]),""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";if("ACCOUNT_EVENTS"===dataLayer[t].event){var n=a.dateOfBirth||"";if(""!=n){function i(e){return e<=9?"0"+e:e}var r=new Date(n);e=r.getFullYear()+"-"+i(r.getMonth()+1)+"-"+i(r.getDate())}}}return e}}},URLlinkId:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"linkId",caseInsensitive:!0}},FifaggPages:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=location.hostname,a=/^(www\.|login\.|dev\-.+?|)fifa(\.|)gg($|\-)/.test(t)||/\.fifa\.gg$/.test(t);return e&&console.log("DE FifaggPages, hostname",a,t),/^(www\.|login\.|dev\-.+?|)fifa(\.|)gg($|\-)/.test(t)||/\.fifa\.gg($|\/)/.test(t)}}},userProviderID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=(e=a.userId||"").toLowerCase())}return e}}},InsideFifaPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=/inside.fifa.com/.test(location.hostname)||/fifa.com/.test(location.hostname)&&/inside/.test(location.pathname),a=/fifa-world-ranking/.test(location.pathname),n=/fifa-rankings/.test(location.pathname),i=/terms-of-service/.test(location.pathname),r=/data-protection-portal/.test(location.pathname),o=/downloads/.test(location.pathname),s=/about-fifa/.test(location.pathname),l=/legal/.test(location.pathname),c=/technical/.test(location.pathname);return e&&console.log("#### L1 DE InsideFIFApages. :",t,location.hostname+location.pathname),t||a||n||i||r||o||s||l||c}}},LoggingL1:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/development|staging/.test(_satellite.environment.stage)}}},URLintcmp:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"intcmp",caseInsensitive:!0}},FifaPlusPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/(plus\.fifa\.com|fifaplus-.+?\.cxm\.fifa\.com|-fifaplus\.azurewebsites\.net)$/.test(location.hostname)||/^origin1904.fifa.com$/.test(location.hostname)||/(login|auth).+?fifa\.com/.test(location.hostname)||/analytics.mediacells.com\/DTMTest\/fifaplus/.test(location.hostname+location.pathname)}}},OneTrustPreferences:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t="";if("undefined"!=typeof OnetrustActiveGroups){var a=(OnetrustActiveGroups||"").split(",");e&&console.log("### DE:OneTrustPreferences from OnetrustActiveGroups:",a,"###")}else a=(((_satellite.cookie.get("OptanonConsent")||"").split("&groups=")[1]||"").split("&")[0]||"").split(",")||"",e&&console.log("### DE:OneTrustPreferences from OptanonConsent Cookie:",a,"###");for(var n=0;n<a.length;n++)/^[0-9]{1}(|:1)$/.test(a[n])&&(e&&console.log("### DE:OneTrustPreferences - Extract:",n,a[n],"###"),t+=","+a[n].substring(0,1));return t+","}}},URLs_oid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_oid",caseInsensitive:!0}},userCountry:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof digitalData&&digitalData.user)var e=digitalData.user.country||"";if(""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=(e=a.residenceCountryCode||"").toLowerCase())}return e}}},linkTrackVars:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"events,pageName,channel,eVar15,eVar51,eVar52,eVar53,eVar5,eVar7,eVar8,eVar9,eVar11,eVar12,eVar16,eVar22,eVar24,eVar25,eVar26,eVar27,eVar28,eVar29,eVar32,eVar34,eVar43,eVar46,eVar55,eVar56,eVar65,eVar66,eVar68,eVar69,eVar70,eVar81,eVar93,eVar94,eVar95,eVar99,eVar110,eVar111,evar129,eVar132,eVar133,prop74"}}},ProdPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=window.location.hostname,a=location.pathname,n=(/fifa\.com/.test(t)&&!/^(origin|static|img|css|js|hospitality).*fifa.com$/.test(t)||/fifatrainingcentre\.com(|\/)$/.test(t)||/fifa\.powerappsportals\.com/.test(t)||/origin1904(|.+?)-p\.cxm\.fifa\.com/.test(location.hostname)||/fifastore\.(qa|com)/.test(location.hostname)||/beyondthepitch\.keteacher\.com/.test(location.hostname)||/fifadigitalskills\.org/.test(t)||/fifafoundation\.com/.test(t))&&!(/.onmicrosoft.com\/|signuporsignin\/api/.test([t,a].join("/"))||/secutix|tickets/.test(t)&&/[a-z]{2}\/(header|footer).html$/.test(a)||/^fifat\-.+.\-.secutix.com$/.test(t)||/(dev|ppr)\-www.fifa.com/.test(location.host));return e&&console.log("#### DE - prodPages:",n,t,a),n}}},GoogleAdIds:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"23775277:fifa.com;36306753:fifa.com;23853517:adidas;105147157:alfa-bank;4582890605:alrosa;23874037:budweiser;34417477:coca-cola;58854397:gazprom;34748677:hyundai;35777197:kia;37355677:mcdonalds;35950237:panini;4453139949:qatar airways;24201997:test;23853277:visa;4589555901:vivo;4561676845:wanda;4577827620:hisense;2756885921:fan-movement-ros;2822813685:FIFAe Club World Cup-ROS;191121757:house-rotation;2752856840:integrity-ros;2480303944:technology-ros;2803776943:podcast-play-on-ros;202085313:the-club-house"}}},URLadobe_mc:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"adobe_mc",caseInsensitive:!0}},userID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("undefined"!=typeof digitalData&&digitalData.user&&(e=digitalData.user.id||""),""==e&&(e=_satellite.getVar("URLs_uid")),""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=a.ssoId)}if(""==e){var n=_satellite.cookie.get("app_vi");null!=n&&""!=n&&(e=n)}return e}}},URLid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"id",caseInsensitive:!0}},alConfig:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||""}catch(t){"production"!=_satellite.environment.stage&&console.log("#### ALC alConfig parse error, overwrite"),e=""}var t={};e.dr?t.dr=e.dr:t.dr=document.referrer,e.uP?t.uP=e.uP:t.uP=_satellite.getVar("URLParams")||{};var a=_satellite.getVar("OneTrustPreferences"),n=(location.hostname,location.pathname,t={logging:/development|staging/.test(_satellite.environment.stage)||localStorage.getItem("com.adobe.alLogging")||!1,pageName:_satellite.getVar("pageName"),OTPrefs:a,uID:_satellite.getVar("userID"),uS:_satellite.getVar("userStatus"),uPID:_satellite.getVar("userProviderID"),tealId:_satellite.getVar("TeaID"),tSettings:{account:"fifacxm",profile:"main",dataSourceKey:"4fcjh8",endpoint:"",dataObjectName:"digitalData"},lotId:_satellite.getVar("LotID"),lTrackV:_satellite.getVar("linkTrackVars"),prodPages:_satellite.getVar("ProdPages"),mcPages:/mediacells.com/.test(location.hostname),fifaplus:_satellite.getVar("FifaPlusPages"),insideFifa:_satellite.getVar("InsideFifaPages"),fifaplusGames:_satellite.getVar("FifaPlusGamesPages"),fifaplusNft:_satellite.getVar("FifaPlusNFTPages"),fifacom:_satellite.getVar("FifaComPages"),fifagg:_satellite.getVar("FifaggPages"),ticketing:_satellite.getVar("TicketingPages"),account:/^account(|-dev|-qa)\.fifa\.com/.test(location.hostname),Stric:/,1,/.test(a),Perf:/,2,/.test(a),Func:/,3,/.test(a),Tgt:/,4,/.test(a)},JSON.parse(localStorage.getItem("lotame_16003_consent"))||"");n=(n=(n=n.consent||"")[0]||"").types||"";for(var i=0;i<n.length;i++)if("targeting"==n[i].name){t.lotConsentResp=n[i].consent||"";break}if(t.loggedInSession=t.loggedInSession||"true"==_satellite.cookie.get("fs_fliu"),t.loggedInSession){var r="."+location.hostname.split(".").slice(-2).join(".");_satellite.cookie.set("fs_fliu",!0,{expires:7,domain:r,path:"/"})}return t.AnaPage=t.Perf,t.TealPage=!1,t.LotPage=t.Tgt,t.LotConsents={analytics:t.Tgt,crossdevice:t.Tgt,datasharing:t.Tgt,targeting:t.Tgt},t.MinPage="true"==localStorage.getItem("com.adobe.FTesting")&&/(^|www\.)fifa.com\/fifaplus/.test(location.hostname+location.pathname),t.UZPage=t.Stric&&t.fifacom,t.DataPage=t.Perf||t.Func||t.Tgt,t.GamPage=t.fifaplus&&t.Tgt,t.SsoPage=t.fifaplus&&/(login|auth).+?fifa\.com/.test(location.hostname),t.fpix=t.Tgt,/\.fifa\.com/.test(location.hostname)||(t.tSettings.cookie_domain=location.hostname),t.logging&&console.log("***FP alConfig:",t),sessionStorage.setItem("com.adobe.alConfig",JSON.stringify(t)),t}}},URLs_cid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_cid",caseInsensitive:!0}},FifaComPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(/(^|www\.)fifa.com\/fifaplus/.test(location.hostname+location.pathname)||/(^|www\.)fifa.com/.test(location.hostname+location.pathname)||/^origin1904.fifa.com$/.test(location.hostname)||/(login|auth).+?fifa\.com/.test(location.hostname))&&!/inside.fifa.com/.test(location.hostname)&&!(/fifa.com/.test(location.hostname)&&/inside/.test(location.pathname))&&!(/fifa.com/.test(location.hostname)&&/fifa-world-ranking/.test(location.pathname))&&!(/fifa.com/.test(location.hostname)&&/terms-of-service/.test(location.pathname))&&!(/fifa.com/.test(location.hostname)&&/data-protection-portal/.test(location.pathname))&&!(/fifa.com/.test(location.hostname)&&/downloads/.test(location.pathname))&&!(/fifa.com/.test(location.hostname)&&/about-fifa/.test(location.pathname))&&!(/fifa.com/.test(location.hostname)&&/legal/.test(location.pathname))&&!(/fifa.com/.test(location.hostname)&&/technical/.test(location.pathname))}}},DOMh1:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"text",elementSelector:"h1"}},userStatus:{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("undefined"!=typeof digitalData&&digitalData.user&&(e=String(digitalData.user.status)||""),"1"==e?e="logged in":"0"==e&&(e="not logged in"),""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e="Login succeeded"==(a.loginStatus||"")?"logged in":"not logged in")}return e}}},TealiumExtensionSettings:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.getVar("ProdPages")||_satellite.getVar("FifaPlusPages"))var e={account:"fifacxm",profile:"main",dataSourceKey:"4fcjh8",endpoint:"",dataObjectName:"digitalData"};else e={account:"fifacxm",profile:"sandbox",dataSourceKey:"yx8yyj",endpoint:"",dataObjectName:"digitalData"};return/\.fifa\.com/.test(location.hostname)||(e.cookie_domain=location.hostname),e}}},URLcid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cid",caseInsensitive:!0}},URLutm_campaign:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_campaign",caseInsensitive:!0}},WidgetPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/play(|-staging)\.fifa\.com\/widgets/.test(location.hostname+location.pathname)||/^\/DTMTest\/pzwidgetiframe(|\.html)$/.test(location.pathname)}}},TeaID:{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e=(_satellite.cookie.get("TEAL")||"").split("$"),t=0;t<e.length;t+=1)if(0===e[t].indexOf("v:"))var a=e[t].substring(2);return a}}},McPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=/mediacells.com/.test(window.location.hostname);return e&&console.log("#### DE - McPages:",t),t}}},pageLanguage:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=(document.documentElement.lang||"").toLowerCase();if("undefined"!=typeof digitalData&&digitalData.page&&digitalData.page.pageInfo)var a=digitalData.page.pageInfo.pageLanguage||"";if(e&&console.log("#### DE pageLanguage 2021-05-11 1200 - Ini. Lang=",t),2!=t.length)if("hi-in"==t)t="ar";else if(/^[a-z]{2}\-[a-z]{2}/.test(t))t=t.substring(0,2);else if(""!=a)t=a;else{var n=location.pathname.replace(/\//g,":").substring(1);t=/^[a-z]{2}(|\:)$/.test(n)?n.split(":")[0]:"unknown"}else"qa"==t&&(t="ar");return e&&console.log("#### DE pageLanguage - End. Lang=",t),t}}},URLAppView:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"appview",caseInsensitive:!0}},URLs_uid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_uid",caseInsensitive:!0}},userLang:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("undefined"==typeof digitalData&&digitalData.user&&(e=digitalData.user.language||""),""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=a.language)}return e}}},FifaPlusNFTPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^((|www\.)(|dev\.|stage\.)collect\.fifa\.com)$/.test(location.hostname)}}},LotID:{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==window.lotame_16003){var e="",t=window.localStorage.panoramaId||"",a=window.localStorage._cc_id||_satellite.cookie.get("_cc_id")||"";""==t&&""==a||(e=t+"|"+a)}return e}}},BlockedPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1;return _satellite.getVar("FifaComPages")&&(/\/[a-z]{2}\/webview/.test(location.pathname)&&!/\/webview\/video-player/.test(location.pathname)||/\/[a-z]{2}\/webview\/video-player\//.test(location.pathname)&&/liveblog=true/.test(location.search))&&(e=!0),e}}},FifaPlusGamesPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^play(|-staging)\.fifa\.com$/.test(location.hostname)||/fifa-wc22.uat.f2p.media.geniussports.com/.test(location.host)||/^\/DTMTest\/(pzwidgetiframe|fifagames-pzwidgettest)(|\.html)$/.test(location.pathname)}}},pageID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.location.pathname,"undefined"!=typeof digitalData&&digitalData.page&&digitalData.page.pageInfo)var e=digitalData.page.pageInfo.pageID||"";return""==e&&"undefined"!=typeof digitalData&&digitalData.page&&digitalData.page.attributes&&(e=digitalData.page.attributes.contentID||""),e}}},URLappID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"appID",caseInsensitive:!0}},URLParams:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e={},t=(location.search||"").substring(1).split("&"),a=0;a<t.length;a++)part=t[a].split("="),null!=part[1]&&(e[part[0].toLowerCase()]=part[1].toLowerCase());return 0==Object.keys(e).length&&(e=""),e}}},URLcreated:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"created",caseInsensitive:!0}},URLs_pid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_pid",caseInsensitive:!0}},sessionID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(/\.fifa\.com$/.test(location.host))var e=".fifa.com";else e=location.host;var t=_satellite.cookie.get("adobeSessionCookie");if(!t){var a=(new Date).getTime();t=Math.random().toString(24).substring(2,12)+Math.random().toString(24).substring(2,12)+a}return _satellite.cookie.set("adobeSessionCookie",t,{expires:.0208333,domain:e,path:"/"}),t}}},URLCampaignID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"campaignId",caseInsensitive:!0}},pageName:{defaultValue:"home",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t="",a=!1,n="",i=(location.hostname,{"#":"",_:"-","/":":"});if(location.hash.replace(/(?:#|_|\/)/g,(function(e){return i[e]})),"undefined"!=typeof digitalData?digitalData.page&&(digitalData.page.pageInfo&&""!=(n=digitalData.page.pageInfo.pageName||"")&&(a=!0),digitalData.page.attributes&&(t=digitalData.page.attributes.type||"")):n="",/^\/$/.test(location.pathname)?e&&console.log("#### DE PN 2023-01-10 Pathname is blank"):(""==n&&(n=(n=(n=location.pathname.replace(/\//g,":").substring(1)).replace(/index(|_[a-z]{2})\.html|\.html|index\.htm|\.php/gi,"")).replace("fifaplus:","")),n=n.replace(/^[A-Za-z]{2}(|-[A-Za-z]{2})($|\:)/,"").toLowerCase()),n="www.fifa."==location.hostname.substring(0,9)?location.hostname.replace(/\//g,":").split(".")[1]+location.hostname.replace(/\//g,":").split(".")[2]+":"+n.replace("fifaplus:",""):location.hostname.replace(/\//g,":").replace("www.","").split(".")[0]+":"+n,_satellite.getVar("FifaComPages")||_satellite.getVar("FifaPlusPages")||_satellite.getVar("InsideFifaPages")||1==a){var r={" ":"-","#":":"};return n=n.replace(/[ #]/g,(function(e){return r[e]}))||"home",n=""!=t?n.replace(/:$/,"")+":"+t:n.replace(/:$/,"")}return n=""!=t?n.replace(/:$/,"")+":"+t:n.replace(/:$/,""),e&&console.log("### DE PN nPageName: ",n),n}}}},extensions:{"adobe-media-analytics":{displayName:"Adobe Media Analytics (3.x SDK) for Audio and Video",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd9a187e9632d49738559339a913561f0/",settings:{ssl:!0,channel:"",appVersion:"",playerName:"Theo",debugLogging:!1,trackingServer:"fifa.hb-api.omtrdc.net",exportNamespace:"ADB"},modules:{"adobe-media-analytics/src/lib/sharedModules/media.js":{name:"media",shared:!0,script:function(e,t,a,n){"use strict";var i=a("../helpers/configure"),r=a("../helpers/exportGlobal"),o=a("../helpers/mediaAPI"),s=n.getExtensionSettings(),l=n.getSharedModule("adobe-analytics","get-tracker");n.logger.info("Configuring MediaSDK"),i(s,l).catch((function(e){n.logger.error("Error configuring MediaSDK: "+e)})),r(s),e.exports=o}},"adobe-media-analytics/src/lib/helpers/configure.js":{script:function(e,t,a){"use strict";function n(e){var t=new s;return t.trackingServer=e.trackingServer,t.appVersion=e.appVersion,t.debugLogging=e.debugLogging,t.ssl=e.ssl,t.channel=e.channel,t.playerName=e.playerName,"string"==typeof t.playerName&&""!==t.playerName||(t.playerName="unknown"),t}var i=a("@adobe/reactor-promise"),r=a("../codeLibrary/MediaSDK"),o=r.Media,s=r.MediaConfig;e.exports=function(e,t){return i.resolve().then((function(){if(!t)throw new Error("Error getting a reference to Analytics shared module. Make sure Adobe Analytics Extension is configured properly.");return t().then((function(t){var a=n(e);o.configure(a,t)}))}))}}},"adobe-media-analytics/src/lib/helpers/exportGlobal.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-window"),r=(a("@adobe/reactor-object-assign"),a("./mediaAPI"));e.exports=function(e){try{var t=e&&e.exportNamespace;if(t)if(void 0===i[t]||"object"==typeof i[t]&&!i[t])i[t]=Object.freeze({Media:r});else{var a='Exporting APIs to Browser window["'+t+'"] failed as it is not null/undefined.';n.logger.error(a)}}catch(e){a='Exporting APIs to Browser window["'+t+'"] failed with reason'+e.message+".",n.logger.error(a)}}}},"adobe-media-analytics/src/lib/helpers/mediaAPI.js":{script:function(e,t,a){"use strict";var n=a("../codeLibrary/MediaSDK").Media,i={Event:n.Event,MediaType:n.MediaType,StreamType:n.StreamType,PlayerState:n.PlayerState,MediaObjectKey:n.MediaObjectKey,VideoMetadataKeys:n.VideoMetadataKeys,AudioMetadataKeys:n.AudioMetadataKeys,AdMetadataKeys:n.AdMetadataKeys,version:n.version,createMediaObject:n.createMediaObject,createAdBreakObject:n.createAdBreakObject,createAdObject:n.createAdObject,createChapterObject:n.createChapterObject,createQoEObject:n.createQoEObject,createStateObject:n.createStateObject,getInstance:n.getInstance};e.exports=Object.freeze(i)}},"adobe-media-analytics/src/lib/codeLibrary/MediaSDK.js":{script:function(e,t){var a,n;a=this,n=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){var e=0;return{getUniqueId:function(){return e+=1}}}function g(){return(new Date).getTime()}function f(e,t){if(window.console){var a;switch(e){case w.Log:a=window.console.log;break;case w.Info:a=window.console.info;break;case w.Warn:a=window.console.warn;break;case w.Error:a=window.console.error}a&&a("MediaSDK: ["+function(){var e=new Date,t=function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(e.getMilliseconds());return e.toTimeString()+"."+t}()+"] "+t)}}function p(e,t){return setInterval(e,t)}function m(e){var t=e.debugLogging;O(t)&&(x=t)}function h(e,t,a){(x||e===w.Error)&&f(e,t+" "+a)}function v(e){var t=N(e)?"["+e+"]":"";return{log:function(e){!function(e,t){h(w.Log,e,t)}(t,e)},info:function(e){!function(e,t){h(w.Info,e,t)}(t,e)},warn:function(e){!function(e,t){h(w.Warn,e,t)}(t,e)},error:function(e){!function(e,t){h(w.Error,e,t)}(t,e)}}}function y(e){var t={};return M(e)&&Object.keys(e).forEach((function(a){var n=e[a],i=n.id,r=n.authState,o=void 0===r?0:r;N(i)&&(t[a]={id:i,authState:o})})),t}function _(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i({},Y.EventType,e.eventType);n[Y.PlayerTime]=(i(t={},K.Playhead,e.playhead),i(t,K.Ts,e.ts),t),X(e.customMetadata)||(n[Y.CustomMetadata]=e.customMetadata),X(e.qoeData)||(n[Y.QoE]=e.qoeData);var r=o({},e.params);if(e.eventType===j.SessionStart){N(a[F.AnalyticsTrackingServer])&&(r[H.AnalyticsTrackingServer]=a[F.AnalyticsTrackingServer]),N(a[F.Rsid])&&(r[H.AnalyticsRsid]=a[F.Rsid]),O(a[F.AnalyticsSsl])&&(r[H.AnalyticsSsl]=a[F.AnalyticsSsl]),N(a[F.Vid])&&(r[H.AnalyticsVisitorId]=a[F.Vid]),N(a[F.Aid])&&(r[H.AnalyticsAid]=a[F.Aid]),N(a[F.McOrgId])&&(r[H.VisitorMcOrgId]=a[F.McOrgId]),N(a[F.Mcid])&&(r[H.VisitorMcuserId]=a[F.Mcid]),ee(a[F.AamLocHint])&&(r[H.VisitorAamLocHint]=a[F.AamLocHint]);var s=y(a[F.CustomerIds]);if(M(s)&&!X(s)&&(r[H.VisitorCustomerIds]=s),!N(r[G.Channel])){var l=a[F.MediaChannel];r[G.Channel]=N(l)?l:"unknown"}var c=a[F.MediaPlayerName];r[G.PlayerName]=N(c)?c:"unknown",N(a[F.MediaAppVersion])&&(r[G.SdkVersion]=a[F.MediaAppVersion]),r[H.MediaVersion]="js-extn-3.0.2"}else if(e.eventType===j.AdStart){var d=a[F.MediaPlayerName];r[$.PlayerName]=N(d)?d:"unknown"}return X(r)||(n[Y.Params]=r),ae((function(){return JSON.stringify(n)}),"")}function b(e){try{var t=e.split("/");return t[4]?t[4]:""}catch(e){return""}}var k=Object.freeze({AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"}),C=Object.freeze({MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"}),S=Object.freeze({Video:"video",Audio:"audio"}),P=Object.freeze({FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"}),E=Object.freeze({Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"}),I=Object.freeze({Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"}),A=Object.freeze({Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"}),T=Object.freeze({VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"}),V=Object.freeze({OptOut:"optout",OptIn:"optin",OptUnknown:"optunknown"}),D=function(e){return null==e},w=Object.freeze({Log:"log",Info:"info",Warn:"warn",Error:"error"}),O=function(e){return"boolean"==typeof e},L=function(e){return"string"==typeof e},N=function(e){return L(e)&&e.length>0},M=function(t){return!D(t)&&!Array.isArray(t)&&"object"===e(t)},x=!1,F=Object.freeze({AnalyticsTrackingServer:"analyticstrackingserver",AnalyticsSsl:"analyticsssl",Rsid:"rsid",Vid:"vid",Aid:"aid",Mcid:"mid",McOrgId:"orgid",AamLocHint:"aamlochint",CustomerIds:"customerids",MediaTrackingServer:"mediatrackingserver",MediaChannel:"mediachannel",MediaPlayerName:"mediaplayername",MediaAppVersion:"mediaappversion",MediaSsl:"mediassl"}),R=Object.freeze({Get:"GET",Post:"POST"}),j=Object.freeze({SessionStart:"sessionStart",SessionComplete:"sessionComplete",SessionEnd:"sessionEnd",AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",Play:"play",Ping:"ping",BufferStart:"bufferStart",PauseStart:"pauseStart",BitrateChange:"bitrateChange",Error:"error",StateStart:"stateStart",StateEnd:"stateEnd"}),B=Object.freeze({Show:"media.show",Season:"media.season",Episode:"media.episode",AssetId:"media.assetId",Genre:"media.genre",FirstAirDate:"media.firstAirDate",FirstDigitalDate:"media.firstDigitalDate",Rating:"media.rating",Originator:"media.originator",Network:"media.network",ShowType:"media.showType",AdLoad:"media.adLoad",MVPD:"media.pass.mvpd",Auth:"media.pass.auth",DayPart:"media.dayPart",Feed:"media.feed",StreamFormat:"media.streamFormat",Artist:"media.artist",Album:"media.album",Label:"media.label",Author:"media.author",Station:"media.station",Publisher:"media.publisher"}),U=Object.freeze({Advertiser:"media.ad.advertiser",CampaignId:"media.ad.campaignId",CreativeId:"media.ad.creativeId",SiteId:"media.ad.siteId",CreativeUrl:"media.ad.creativeURL",PlacementId:"media.ad.placementId"}),G=Object.freeze({Id:"media.id",Name:"media.name",Length:"media.length",ContentType:"media.contentType",StreamType:"media.streamType",PlayerName:"media.playerName",Resume:"media.resume",Channel:"media.channel",Publisher:"media.publisher",SdkVersion:"media.sdkVersion"}),H=Object.freeze({AppInstallationId:"appInstallationId",AnalyticsTrackingServer:"analytics.trackingServer",AnalyticsRsid:"analytics.reportSuite",AnalyticsSsl:"analytics.enableSSL",AnalyticsVisitorId:"analytics.visitorId",AnalyticsAid:"analytics.aid",VisitorMcOrgId:"visitor.marketingCloudOrgId",VisitorMcuserId:"visitor.marketingCloudUserId",
VisitorAamLocHint:"visitor.aamLocationHint",VisitorCustomerIds:"visitor.customerIDs",VisitorCustomerKeyId:"id",VisitorCustomerKeyAuthState:"authState",MediaVersion:"media.libraryVersion"}),q=Object.freeze({Channel:"media.channel"}),z=Object.freeze({PodFriendlyName:"media.ad.podFriendlyName",PodIndex:"media.ad.podIndex",PodSecond:"media.ad.podSecond"}),$=Object.freeze({Name:"media.ad.name",Id:"media.ad.id",Length:"media.ad.length",PodPosition:"media.ad.podPosition",PlayerName:"media.ad.playerName"}),J=Object.freeze({FriendlyName:"media.chapter.friendlyName",Length:"media.chapter.length",Offset:"media.chapter.offset",Index:"media.chapter.index"}),W=Object.freeze({StateName:"media.state.name"}),Q=Object.freeze({Bitrate:"media.qoe.bitrate",DroppedFrames:"media.qoe.droppedFrames",Fps:"media.qoe.framesPerSecond",StartupTime:"media.qoe.timeToStart",ErrorId:"media.qoe.errorID",ErrorSource:"media.qoe.errorSource",ErrorSourcePlayer:"player",ErrorSourceExternal:"external"}),Y=Object.freeze({EventType:"eventType",Params:"params",QoE:"qoeData",CustomMetadata:"customMetadata",PlayerTime:"playerTime"}),K=Object.freeze({Playhead:"playhead",Ts:"ts"}),X=function(e){return 0===Object.keys(e).length},Z=function(e){return"number"==typeof e&&!isNaN(e)},ee=function(e){var t=parseInt(e,10);return Z(t)&&e===t},te=function(e){return"function"==typeof e},ae=function(e,t){if(!te(e))return t;try{return e()}catch(e){return t}},ne=[F.AnalyticsTrackingServer,F.AnalyticsSsl,F.Rsid,F.Vid,F.Aid,F.Mcid,F.McOrgId,F.AamLocHint,F.CustomerIds,F.MediaChannel,F.MediaAppVersion,F.MediaPlayerName,F.MediaTrackingServer,F.MediaSsl],ie={"Content-Type":"application/json"},re=function(){function e(a){t(this,e),this._logger=v("MediaSession("+a+")"),this._hits=[],this._ecParams=null,this._sessionId=null,this._creatingMCSession=!1,this._createSessionFailureCount=0,this._internalError=!1,this._doneQueuing=!1}return n(e,[{key:"queue",value:function(e){this._internalError||this._doneQueuing||this._hits.push(e)}},{key:"process",value:function(e){this._internalError||0!==this._hits.length&&e.isReady()&&(this._ecParams||(this._ecParams=e.resolveKeys(ne)),D(this._sessionId)?this._startMCSession():this._flushPendingHits())}},{key:"end",value:function(){this._logger.log("end"),this._doneQueuing=!0}},{key:"abort",value:function(){this._logger.log("abort"),this._doneQueuing=!0,this._hits=[]}},{key:"doneProcessing",value:function(){return this._internalError||this._doneQueuing&&0===this._hits.length}},{key:"_startMCSession",value:function(){var e=this;if(!this._creatingMCSession){var t=this._hits[0];if(t.eventType!==j.SessionStart)return this._logger.log("Dropping hit("+t.eventType+") as we expected sessionStart"),void this._hits.shift();var a,n=((a=this._ecParams)[F.MediaSsl]?"https":"http")+"://"+a[F.MediaTrackingServer]+"/api/v1/sessions",i=_(t,this._ecParams);this._creatingMCSession=!0,this._sendRequest(n,R.Post,ie,i,(function(t,a){var n,i=!1;do{if(201!==t)break;var r=a.location;if(!N(r))break;if(!(n=b(r)))break;i=!0}while(0);i?(e._logger.log("Media collection session created with session id :  "+n),e._sessionId=n,e._hits.shift()):(e._logger.log("Creating Media collection session failed"),e._createSessionFailureCount+=1,e._createSessionFailureCount>=3&&(e._logger.log("Internal error: Creating Media collection session failed 3 times"),e._internalError=!0)),e._creatingMCSession=!1}))}}},{key:"_flushPendingHits",value:function(){var e=this;this._hits.splice(0,3).forEach((function(t){var a,n,i=(a=e._ecParams,n=e._sessionId,(a[F.MediaSsl]?"https":"http")+"://"+a[F.MediaTrackingServer]+"/api/v1/sessions/"+n+"/events"),r=_(t,e._ecParams);e._sendRequest(i,R.Post,ie,r,(function(){}))}))}},{key:"_sendRequest",value:function(e,t,a,n,i){!function(e,t,a,n,i){if(void 0!==window.XMLHttpRequest){var r=new window.XMLHttpRequest;if("withCredentials"in r){var o=r;return o.open(t,e,!0),M(a)&&Object.keys(a).forEach((function(e){o.setRequestHeader(e,a[e])})),o.timeout=5e3,o.onload=function(){var e=o.status&&parseInt(o.status,10),t=o.responseText,a=function(e){var t={};try{e.trim().split(/[\r\n]+/).forEach((function(e){var a=e.split(":",1)[0],n=e.substring(a.length+2);a.length>0&&(t[a.toLowerCase()]=n)}))}catch(e){}return t}(o.getAllResponseHeaders());i(e,a,t)},o.onerror=function(){i(0)},void o.send(n)}i(0)}}(e,t,a,n,i)}}]),e}(),oe=function(){function e(){t(this,e),this._logger=v("MediaProcessor"),this._isConfigured=!1,this._privacyStatus=V.OptUnknown,this._sessionIdGenerator=u(),this._sessionMap={}}return n(e,[{key:"configure",value:function(e){var t=this;this._isConfigured||(this._ecResolver=e,this._privacyStatus=this._ecResolver.getPrivacyStatus(),this._ecResolver.notifyPrivacyChange(this._onPrivacyChange.bind(this)),this._isConfigured=!0,this._processSessionTimer=p((function(){t._tick()}),500),this._logger.log("Configured with resolver"))}},{key:"startSession",value:function(){if(this._privacyStatus===V.OptOut)return this._logger.log("Privacy is opted out. Not starting a session"),-1;var t=this._sessionIdGenerator.getUniqueId();return this._sessionMap[t]=e._createMediaSession(t),t}},{key:"processHit",value:function(e,t){if(-1!==e){var a=this._sessionMap[e];D(a)||(this._logger.log("Process hit for session("+e+") => "+t),a.queue(t))}}},{key:"endSession",value:function(e){if(-1!==e){var t=this._sessionMap[e];D(t)||t.end()}}},{key:"_tick",value:function(){var e=this;Object.keys(this._sessionMap).forEach((function(t){var a=e._sessionMap[t];a.process(e._ecResolver),a.doneProcessing()&&(e._logger.log("Removing session "+t+" from store as it has finished processing"),delete e._sessionMap[t])}))}},{key:"_onPrivacyChange",value:function(e){var t=this;this._logger.log("Privacy switched to "+e),this._privacyStatus=e,e===V.OptOut&&(this._logger.log("Aborting all active sessions"),Object.keys(this._sessionMap).forEach((function(e){t._sessionMap[e].abort()})))}}],[{key:"_createMediaSession",value:function(e){return new re(e)}}]),e}(),se=function(){function e(a){var n=a.id,i=a.name,r=a.position,o=a.length;if(t(this,e),!N(n))throw new TypeError("id is not a valid string");if(!N(i))throw new TypeError("name is not a valid string");if(!ee(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.id=n,this.name=i,this.position=r,this.length=o}return n(e,[{key:"equal",value:function(t){return!D(t)&&t instanceof e&&this.id===t.id&&this.name===t.name&&this.position===t.position&&this.length===t.length}},{key:"serialize",value:function(){var e;return i(e={},"ad.id",this.id),i(e,"ad.name",this.name),i(e,"ad.position",this.position),i(e,"ad.length",this.length),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({id:t["ad.id"],name:t["ad.name"],position:t["ad.position"],length:t["ad.length"]})}),null):null}}]),e}(),le=function(){function e(a){var n=a.name,i=a.position,r=a.startTime;if(t(this,e),!N(n))throw new TypeError("name is not a valid string");if(!ee(i)||i<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(r)||r<0)throw new TypeError("startTime cannot be less than zero");this.name=n,this.position=i,this.startTime=r}return n(e,[{key:"equal",value:function(t){return!D(t)&&t instanceof e&&this.name===t.name&&this.position===t.position&&this.startTime===t.startTime}},{key:"serialize",value:function(){var e;return i(e={},"adbreak.name",this.name),i(e,"adbreak.position",this.position),i(e,"adbreak.starttime",this.startTime),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({name:t["adbreak.name"],position:t["adbreak.position"],startTime:t["adbreak.starttime"]})}),null):null}}]),e}(),ce=function(){function e(a){var n=a.name,i=a.position,r=a.startTime,o=a.length;if(t(this,e),!N(n))throw new TypeError("name is not a valid string");if(!ee(i)||i<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(r)||r<0)throw new TypeError("startTime cannot be less than zero");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.name=n,this.position=i,this.startTime=r,this.length=o}return n(e,[{key:"equal",value:function(t){return!D(t)&&t instanceof e&&this.name===t.name&&this.position===t.position&&this.startTime===t.startTime&&this.length===t.length}},{key:"serialize",value:function(){var e;return i(e={},"chapter.name",this.name),i(e,"chapter.position",this.position),i(e,"chapter.starttime",this.startTime),i(e,"chapter.length",this.length),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({name:t["chapter.name"],position:t["chapter.position"],startTime:t["chapter.starttime"],length:t["chapter.length"]})}),null):null}}]),e}(),de=new RegExp("^[a-zA-Z0-9_\\.]{1,64}$"),ue=function(){function e(a){var n=a.name;if(t(this,e),!N(n))throw new TypeError("name is not a valid string");if(!de.test(n))throw new TypeError("name should match '^[a-zA-Z0-9_\\.]{1,64}$' pattern");this.name=n}return n(e,[{key:"equal",value:function(t){return!D(t)&&t instanceof e&&this.name===t.name}},{key:"serialize",value:function(){return i({},"customstate.name",this.name)}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({name:t["customstate.name"]})}),null):null}}]),e}(),ge=function(){function e(a){var n=a.id,i=a.name,r=a.streamType,o=a.mediaType,s=a.length,l=a.resumed,c=a.prerollWaitTime,d=a.granularAdTracking;if(t(this,e),!N(n))throw new TypeError("id is not a valid string");if(!N(i))throw new TypeError("name is not a valid string");if(!N(r))throw new TypeError("streamType is not a valid string");if(!Z(s)||s<0)throw new TypeError("length cannot be less than zero");this.id=n,this.name=i,this.streamType=r,this.mediaType=o!==S.Audio?S.Video:o,this.length=s,this.resumed=!!O(l)&&l,this.prerollWaitTime=!ee(c)||c<0?250:c,this.granularAdTracking=!!O(d)&&d}return n(e,[{key:"equal",value:function(t){return!D(t)&&t instanceof e&&this.id===t.id&&this.name===t.name&&this.streamType===t.streamType&&this.mediaType===t.mediaType&&this.length===t.length&&this.resumed===t.resumed&&this.prerollWaitTime===t.prerollWaitTime&&this.granularAdTracking===t.granularAdTracking}},{key:"serialize",value:function(){var e;return i(e={},"media.id",this.id),i(e,"media.name",this.name),i(e,"media.streamtype",this.streamType),i(e,"media.type",this.mediaType),i(e,"media.length",this.length),i(e,"media.resumed",this.resumed),i(e,"media.prerollwaittime",this.prerollWaitTime),i(e,"media.granularadtracking",this.granularAdTracking),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({id:t["media.id"],name:t["media.name"],streamType:t["media.streamtype"],mediaType:t["media.type"],length:t["media.length"],resumed:t["media.resumed"],prerollWaitTime:t["media.prerollwaittime"],granularAdTracking:t["media.granularadtracking"]})}),null):null}}]),e}(),fe=function(){function e(a){var n=a.bitrate,i=a.droppedFrames,r=a.fps,o=a.startupTime;if(t(this,e),!Z(n)||n<0)throw new TypeError("bitrate must not be less than zero");if(!Z(i)||i<0)throw new TypeError("dropped frames must not be less than zero");if(!Z(r)||r<0)throw new TypeError("fps must not be less than zero");if(!Z(o)||o<0)throw new TypeError("startupTime must not be less than zero");this.bitrate=n,this.droppedFrames=i,this.fps=r,this.startupTime=o}return n(e,[{key:"equal",value:function(t){return!D(t)&&t instanceof e&&this.bitrate===t.bitrate&&this.droppedFrames===t.droppedFrames&&this.fps===t.fps&&this.startupTime===t.startupTime}},{key:"serialize",value:function(){var e;return i(e={},"qoe.bitrate",this.bitrate),i(e,"qoe.droppedframes",this.droppedFrames),i(e,"qoe.fps",this.fps),i(e,"qoe.startuptime",this.startupTime),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({bitrate:t["qoe.bitrate"],droppedFrames:t["qoe.droppedframes"],fps:t["qoe.fps"],startupTime:t["qoe.startuptime"]})}),null):null}}]),e}(),pe=v("Media"),me=function(e){try{return JSON.stringify(e,null,4)}catch(e){return"[Error formatting object]"}},he=Object.freeze({Name:"event.name",Params:"event.params",Metadata:"event.metadata",TimeStamp:"event.ts",InternalEvent:"event.internal",Playhead:"event.playhead",ErrorId:"error.id"}),ve=Object.freeze(o({SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pause",Error:"error",QoEUpdate:"qoeUpdate",PlayheadUpdate:"playheadUpdate"},k)),ye=function(){function e(a,n){if(t(this,e),D(a))throw new Error("id is not valid");this.id=a,this.description=n,this.predicates=[],this.actions=[]}return n(e,[{key:"addPredicate",value:function(e,t,a){if(!te(e))throw new Error("predicate is not a function");return this.predicates.push({predicate:e,val:t,message:a}),this}},{key:"addAction",value:function(e){if(!te(e))throw new Error("action is not a function");return this.actions.push(e),this}},{key:"runPredicates",value:function(e){for(var t=0;t<this.predicates.length;++t){var a=this.predicates[t];if(a.predicate(e)!==a.val)return{success:!1,message:a.message}}return{success:!0,message:""}}},{key:"runActions",value:function(e){for(var t=0;t<this.actions.length;++t)if(!(0,this.actions[t])(e))return!1;return!0}}]),e}(),_e=function(){function e(a){if(t(this,e),!a)throw new Error("RuleEngine needs a logger");this.logger=a,this.rules={}}return n(e,[{key:"setEnterAction",value:function(e){if(!te(e))throw new Error("enterAction is not a function");this.enterAction=e}},{key:"setExitAction",value:function(e){if(!te(e))throw new Error("exitAction is not a function");this.exitAction=e}},{key:"addRule",value:function(e){if(!(e instanceof ye))throw new Error("rule is not valid");this.rules[e.id]=e}},{key:"processRule",value:function(e,t){var a=this.rules[e];if(!a)return{success:!1,message:"Matching rule is not found"};var n=a.runPredicates(t);do{if(!n.success){this.logger.log("RuleEngine: Predicates failed for rule "+a.description+" : "+n.message);break}if(this.enterAction&&!this.enterAction(a,t)){this.logger.log("RuleEngine: Enter action prevents further processing for rule "+a.description);break}if(!a.runActions(t)){this.logger.log("RuleEngine: Rule action prevents further processing for rule "+a.description);break}this.exitAction&&this.exitAction(a,t)}while(0);return n}}]),e}(),be=Object.freeze({Init:0,Play:1,Pause:2,Buffer:3,Seek:4,Stall:5}),ke=function(){function e(a,n){t(this,e),this._mediaInfo=a,this._mediaMetadata=n,this._adBreakInfo=null,this._adInfo=null,this._adMetadata=null,this._chapterInfo=null,this._chapterMetadata=null,this._qoeInfo=null,this._playhead=0,this._playstate=be.Init,this._buffering=!1,this._seeking=!1,this._customStates=new Map}return n(e,[{key:"setAdBreakInfo",value:function(e){this._adBreakInfo=e}},{key:"clearAdBreakInfo",value:function(){this._adBreakInfo=null}},{key:"setAdInfo",value:function(e,t){this._adInfo=e,this._adMetadata=t}},{key:"clearAdInfo",value:function(){this._adInfo=null,this._adMetadata=null}},{key:"setChapterInfo",value:function(e,t){this._chapterInfo=e,this._chapterMetadata=t}},{key:"clearChapterInfo",value:function(){this._chapterInfo=null,this._chapterMetadata=null}},{key:"enterPlaybackState",value:function(e){switch(e){case be.Play:case be.Pause:case be.Stall:this._playstate=e;break;case be.Buffer:this._buffering=!0;break;case be.Seek:this._seeking=!0}}},{key:"exitPlaybackState",value:function(e){switch(e){case be.Buffer:this._buffering=!1;break;case be.Seek:this._seeking=!1}}},{key:"isInPlaybackState",value:function(e){var t=!1;switch(e){case be.Init:case be.Play:case be.Pause:case be.Stall:t=this._playstate===e;break;case be.Buffer:t=this._buffering;break;case be.Seek:t=this._seeking}return t}},{key:"isIdle",value:function(){return!this.isInPlaybackState(be.Play)||this.isInPlaybackState(be.Seek)||this.isInPlaybackState(be.Buffer)}},{key:"startCustomState",value:function(e){this._customStates.set(e.name,e)}},{key:"endCustomState",value:function(e){this._customStates.set(e.name,null)}},{key:"isCustomStateActive",value:function(e){return!!this._customStates.get(e.name)}},{key:"getActiveCustomStates",value:function(){var e=[];return this._customStates.forEach((function(t){t&&e.push(t)})),e}},{key:"hasTrackedCustomState",value:function(e){return this._customStates.has(e.name)}},{key:"numTrackedCustomStates",value:function(){return this._customStates.size}},{key:"mediaInfo",get:function(){return this._mediaInfo}},{key:"mediaMetadata",get:function(){return this._mediaMetadata}},{key:"isInAdBreak",get:function(){return!!this._adBreakInfo}},{key:"adBreakInfo",get:function(){return this._adBreakInfo}},{key:"isInAd",get:function(){return!!this._adInfo}},{key:"adInfo",get:function(){return this._adInfo}},{key:"adMetadata",get:function(){return this._adMetadata}},{key:"isInChapter",get:function(){return!!this._chapterInfo}},{key:"chapterInfo",get:function(){return this._chapterInfo}},{key:"chapterMetadata",get:function(){return this._chapterMetadata}},{key:"qoeInfo",get:function(){return this._qoeInfo},set:function(e){this._qoeInfo=e}},{key:"playhead",get:function(){return this._playhead},set:function(e){this._playhead=e}}]),e}(),Ce=function(){function e(a){var n=a.eventType,i=a.params,r=a.customMetadata,o=a.qoeData,s=a.playhead,l=a.ts;if(t(this,e),!L(n))throw new Error("eventType should be a valid string");if(!Z(s))throw new Error("playhead should be a valid number");if(!ee(l)||l<0)throw new Error("ts should be a valid positive integer");this.eventType=n,this.params=M(i)?i:{},this.customMetadata=M(r)?r:{},this.qoeData=M(o)?o:{},this.playhead=s,this.ts=l}return n(e,[{key:"toString",value:function(){return me(this)}}]),e}(),Se=function(){function e(a,n,i,r,o){t(this,e),this._logger=a,this._hitProcessor=n,this._config=i,this._media=r,this._refTs=o,this._previousState=be.Init,this._previousStateTs=o,this._interval=1e4,this._lastQoeInfo=null,this._startSession()}return n(e,[{key:"setRefTS",value:function(e){this._refTs=e}},{key:"processMediaStart",value:function(){this._processMediaStart(!1)}},{key:"processMediaComplete",value:function(){this._generateHit(j.SessionComplete),this._endSession()}},{key:"processMediaSkip",value:function(){this._generateHit(j.SessionEnd),this._endSession()}},{key:"processAdBreakStart",value:function(){var t=e._extractAdBreakParams(this._media);this._generateHit(j.AdBreakStart,t,{})}},{key:"processAdBreakComplete",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdBreakSkip",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdStart",value:function(){e._isGranularAdTrackingEnabled(this._media)&&(this._interval=1e3);var t=e._extractAdParams(this._media),a=e._extractAdMetadata(this._media);this._generateHit(j.AdStart,t,a)}},{key:"processAdComplete",value:function(){this._interval=1e4,this._generateHit(j.AdComplete)}},{key:"processAdSkip",value:function(){this._interval=1e4,this._generateHit(j.AdSkip)}},{key:"processChapterStart",value:function(){var t=e._extractChapterParams(this._media),a=e._extractChapterMetadata(this._media);this._generateHit(j.ChapterStart,t,a)}},{key:"processChapterComplete",value:function(){this._generateHit(j.ChapterComplete)}},{key:"processChapterSkip",value:function(){this._generateHit(j.ChapterSkip)}},{key:"processCustomStateStart",value:function(e){var t={};t[W.StateName]=e.name,this._generateHit(j.StateStart,t,{},{})}},{key:"processCustomStateEnd",value:function(e){var t={};t[W.StateName]=e.name,this._generateHit(j.StateEnd,t,{},{})}},{key:"processSessionAbort",value:function(){this.processMediaSkip()}},{key:"processSessionRestart",value:function(){this._previousState=be.Init,this._previousStateTs=this._refTs,this._lastQoeInfo=null,this._startSession(),this.processMediaStart(!0),this._media.isInChapter&&this.processChapterStart(),this._media.isInAdBreak&&this.processAdBreakStart(),this._media.isInAd&&this.processAdStart();var e,t=this._media.getActiveCustomStates();for(e=0;e<t.length;e++)this.processCustomStateStart(t[e]);this.processPlayback(!0)}},{key:"processBitrateChange",value:function(){var t=e._extractQoeData(this._media);this._generateHit(j.BitrateChange,{},{},t)}},{key:"processError",value:function(t){var a=e._extractQoeData(this._media);a[Q.ErrorId]=t,a[Q.ErrorSource]=Q.ErrorSourcePlayer,this._generateHit(j.Error,{},{},a)}},{key:"processPlayback",value:function(t){if(this._isTracking){var a=this._getPlaybackState();if(this._previousState!==a||t){var n=e._playbackStateToMediaCollectionEvent(a);this._generateHit(n),this._previousState=a,this._previousStateTs=this._refTs}else a===this._previousState&&this._refTs-this._previousStateTs>=this._interval&&(this._generateHit(j.Ping),this._previousStateTs=this._refTs)}}},{key:"_processMediaStart",value:function(t){var a={};a=e._extractMediaParams(this._media),t&&(a[G.Resume]=!0);var n=this._config[q.Channel];N(n)&&(a[q.Channel]=n);var i=e._extractMediaMetadata(this._media);this._generateHit(j.SessionStart,a,i)}},{key:"_generateHit",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(D(i)){var r=this._media.qoeInfo;!(D(r)||!D(this._lastQoeInfo)&&this._lastQoeInfo.equal(r))&&(i=e._extractQoeData(this._media),this._lastQoeInfo=r)}if(this._isTracking){var o=this._media.playhead,s=this._refTs,l=new Ce({eventType:t,params:a,customMetadata:n,qoeData:i,playhead:o,ts:s});this._hitProcessor.processHit(this._sessionId,l)}else this._logger.log("#_generateHit - Dropping hit as we have internally stopped tracking the session")}},{key:"_getPlaybackState",value:function(){return this._media.isInPlaybackState(be.Buffer)?be.Buffer:this._media.isInPlaybackState(be.Seek)?be.Seek:this._media.isInPlaybackState(be.Play)?be.Play:this._media.isInPlaybackState(be.Pause)?be.Pause:this._media.isInPlaybackState(be.Stall)?be.Stall:be.Init}},{key:"_startSession",value:function(){this._sessionId=this._hitProcessor.startSession(),this._isTracking=!0,this._logger.log("Start internal session("+this._sessionId+")")}},{key:"_endSession",value:function(){this._hitProcessor.endSession(this._sessionId),this._isTracking=!1,this._logger.log("End internal session("+this._sessionId+")")}}],[{key:"_isGranularAdTrackingEnabled",value:function(e){var t=e.mediaInfo;return!D(t)&&t.granularAdTracking}},{key:"_extractMediaParams",value:function(t){var a={},n=t.mediaInfo;D(n)||(a[G.Id]=n.id,a[G.Name]=n.name,a[G.Length]=n.length,a[G.ContentType]=n.streamType,a[G.StreamType]=n.mediaType,a[G.Resume]=n.resumed);var i=t.mediaMetadata;return M(i)&&Object.keys(i).forEach((function(t){if(e._standardMediaMetadataMap.has(t)){var n=e._standardMediaMetadataMap.get(t);a[n]=i[t]}})),a}},{key:"_extractMediaMetadata",value:function(t){var a={},n=t.mediaMetadata;return M(n)&&Object.keys(n).forEach((function(t){e._standardMediaMetadataMap.has(t)||(a[t]=n[t])})),a}},{key:"_extractAdBreakParams",value:function(e){var t={},a=e.adBreakInfo;return D(a)||(t[z.PodFriendlyName]=a.name,t[z.PodIndex]=a.position,t[z.PodSecond]=a.startTime),t}},{key:"_extractAdParams",value:function(t){var a={},n=t.adInfo;D(n)||(a[$.Name]=n.name,a[$.Id]=n.id,a[$.Length]=n.length,a[$.PodPosition]=n.position);var i=t.adMetadata;return M(i)&&Object.keys(i).forEach((function(t){if(e._standardAdMetadataMap.has(t)){var n=e._standardAdMetadataMap.get(t);a[n]=i[t]}})),a}},{key:"_extractAdMetadata",value:function(t){var a={},n=t.adMetadata;return M(n)&&Object.keys(n).forEach((function(t){e._standardAdMetadataMap.has(t)||(a[t]=n[t])})),a}},{key:"_extractChapterParams",value:function(e){var t={},a=e.chapterInfo;return D(a)||(t[J.FriendlyName]=a.name,t[J.Index]=a.position,t[J.Length]=a.length,t[J.Offset]=a.startTime),t}},{key:"_extractChapterMetadata",value:function(e){var t={},a=e.chapterMetadata;return M(a)&&Object.keys(a).forEach((function(e){t[e]=a[e]})),t}},{key:"_extractQoeData",value:function(e){var t={},a=e.qoeInfo;return M(a)&&(t[Q.Bitrate]=parseInt(a.bitrate,10),t[Q.Fps]=parseInt(a.fps,10),t[Q.DroppedFrames]=parseInt(a.droppedFrames,10),t[Q.StartupTime]=parseInt(a.startupTime,10)),t}},{key:"_playbackStateToMediaCollectionEvent",value:function(e){switch(e){case be.Buffer:return j.BufferStart;case be.Seek:return j.PauseStart;case be.Play:return j.Play;case be.Pause:return j.PauseStart;case be.Stall:return j.Play;case be.Init:return j.Ping;default:return""}}}]),e}(),Pe=new Map;Pe.set(E.Show,B.Show),Pe.set(E.Season,B.Season),Pe.set(E.Episode,B.Episode),Pe.set(E.AssetId,B.AssetId),Pe.set(E.Genre,B.Genre),Pe.set(E.FirstAirDate,B.FirstAirDate),Pe.set(E.FirstDigitalDate,B.FirstDigitalDate),Pe.set(E.Rating,B.Rating),Pe.set(E.Originator,B.Originator),Pe.set(E.Network,B.Network),Pe.set(E.ShowType,B.ShowType),Pe.set(E.AdLoad,B.AdLoad),Pe.set(E.MVPD,B.MVPD),Pe.set(E.Authorized,B.Auth),Pe.set(E.DayPart,B.DayPart),Pe.set(E.Feed,B.Feed),Pe.set(E.StreamFormat,B.StreamFormat),Pe.set(I.Artist,B.Artist),Pe.set(I.Album,B.Album),Pe.set(I.Label,B.Label),Pe.set(I.Author,B.Author),Pe.set(I.Station,B.Station),Pe.set(I.Publisher,B.Publisher),Se._standardMediaMetadataMap=Pe;var Ee=new Map;Ee.set(A.Advertiser,U.Advertiser),Ee.set(A.CampaignId,U.CampaignId),Ee.set(A.CreativeId,U.CreativeId),Ee.set(A.PlacementId,U.PlacementId),Ee.set(A.SiteId,U.SiteId),Ee.set(A.CreativeUrl,U.CreativeUrl),Se._standardAdMetadataMap=Ee;var Ie="Media tracker is not in active tracking session, call 'API:trackSessionStart' to begin a new tracking session.",Ae="Media tracker is in active tracking session, call 'API:trackSessionEnd' or 'API:trackComplete' to end current tracking session.",Te="Media tracker is tracking buffer events, call 'API:trackEvent(BufferComplete)' first to stop tracking buffer events.",Ve="Media tracker is not tracking buffer events, call 'API:trackEvent(BufferStart)' before 'API:trackEvent(BufferComplete)'.",De="Media tracker is tracking seek events, call 'API:trackEvent(SeekComplete)' first to stop tracking seek events.",we="Media tracker is not tracking seek events, call 'API:trackEvent(SeekStart)' before 'API:trackEvent(SeekComplete)'.",Oe="Media tracker is not tracking any AdBreak, call 'API:trackEvent(AdBreakStart)' to begin tracking AdBreak",Le="Media tracker is not tracking any Ad, call 'API:trackEvent(AdStart)' to begin tracking Ad",Ne="Media tracker is not tracking any Chapter, call 'API:trackEvent(ChapterStart)' to begin tracking Chapter",Me="MediaInfo passed into 'API:trackSessionStart' is invalid.",xe="AdBreakInfo passed into 'API:trackEvent(AdBreakStart)' is invalid.",Fe="Media tracker is currently tracking the AdBreak passed into 'API:trackEvent(AdBreakStart)'.",Re="AdInfo passed into 'API:trackEvent(AdStart)' is invalid.",je="StateInfo passed into 'API:trackEvent(StateStart|StateEnd)' is invalid.",Be="ErrorId passed into 'API:trackError()' is invalid.",Ue="Media tracker is currently tracking the Ad passed into 'API:trackEvent(AdStart)'.",Ge="ChapterInfo passed into 'API:trackEvent(ChapterStart)' is invalid.",He="Media tracker is currently tracking the Chapter passed into 'API:trackEvent(ChapterStart)'.",qe="QoEInfo passed into 'API:updateQoEInfo' is invalid.",ze="Media tracker is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",$e="Media tracker is already tracking a state with the same state name.",Je="Media tracker is not already tracking a state with the same state name.",We="Media tracker has reached maximum number of states per session (10).",Qe=new RegExp("^[a-zA-Z0-9_\\.]+$"),Ye=function(){function e(a,n,i){if(t(this,e),!a)throw new Error("hitProcessor should be valid");if(!n)throw new Error("logger should be valid");this._hitProcessor=a,this._logger=n,this._config=M(i)?i:{},this._resetStates(),this._setupRules()}return n(e,[{key:"track",value:function(e){var t=e[he.Name];return N(t)?ee(e[he.TimeStamp])?(M(e[he.Params])||(e[he.Params]={}),e[he.Metadata]=this._cleanMetadata(e[he.Metadata]),!!this._prerollDeferRule(t,e)||this._processRule(t,e)):(this._logger.log("#track - Event timestamp is missing in track event data. - "+t),!1):(this._logger.log("#track - Event name is missing in track event data"),!1)}},{key:"_resetStates",value:function(){this._media=null,this._hitGenerator=null,this._sessionRefTs=null,this._inPrerollInterval=!1,this._prerollRefTs=null,this._prerollQueuedRules=[],this._contentStarted=!1,this._contentStartRefTs=null,this._mediaIdle=!1,this._trackerIdle=!1,this._mediaIdleStartTs=0}},{key:"_createHitGenerator",value:function(e){return new Se(this._logger,this._hitProcessor,this._config,this._media,e)}},{key:"_processRule",value:function(e,t){return this._ruleEngine.processRule(e,t).success}},{key:"_setupRules",value:function(){this._ruleEngine=new _e(this._logger),this._ruleEngine.setEnterAction(this._cmdEnterAction.bind(this)),this._ruleEngine.setExitAction(this._cmdExitAction.bind(this));var e=this._isInMedia.bind(this),t=this._isInAdBreak.bind(this),a=this._isInAd.bind(this),n=this._isInChapter.bind(this),i=this._isInTrackedState.bind(this),r=this._isValidMediaInfo.bind(this),o=this._isValidAdBreakInfo.bind(this),s=this._isValidAdInfo.bind(this),l=this._isValidChapterInfo.bind(this),c=this._isValidQoEInfo.bind(this),d=this._isValidStateInfo.bind(this),u=this._isValidErrorInfo.bind(this),g=this._isDifferentAdBreakInfo.bind(this),f=this._isDifferentAdInfo.bind(this),p=this._isDifferentChapterInfo.bind(this),m=this._allowPlayerStateChange.bind(this),h=this._allowStateTrack.bind(this),v=this._isInBuffering.bind(this),y=this._isInSeeking.bind(this),_=this._cmdMediaStart.bind(this),b=this._cmdMediaSkip.bind(this),k=this._cmdMediaComplete.bind(this),C=this._cmdError.bind(this),S=this._cmdPlay.bind(this),P=this._cmdPause.bind(this),E=this._cmdBufferStart.bind(this),I=this._cmdBufferComplete.bind(this),A=this._cmdSeekStart.bind(this),T=this._cmdSeekComplete.bind(this),V=this._cmdAdStart.bind(this),D=this._cmdAdComplete.bind(this),w=this._cmdAdSkip.bind(this),O=this._cmdAdBreakStart.bind(this),L=this._cmdAdBreakComplete.bind(this),N=this._cmdAdBreakSkip.bind(this),M=this._cmdChapterStart.bind(this),x=this._cmdChapterComplete.bind(this),F=this._cmdChapterSkip.bind(this),R=this._cmdStateStart.bind(this),j=this._cmdStateEnd.bind(this),B=this._cmdBitrateChange.bind(this),U=this._cmdQoEUpdate.bind(this),G=this._cmdPlayheadUpdate.bind(this),H=new ye(ve.SessionStart,"API:trackSessionStart");H.addPredicate(e,!1,Ae).addPredicate(r,!0,Me).addAction(_),this._ruleEngine.addRule(H);var q=new ye(ve.SessionComplete,"API:trackComplete");q.addPredicate(e,!0,Ie).addAction(w).addAction(N).addAction(F).addAction(k),this._ruleEngine.addRule(q);var z=new ye(ve.SessionEnd,"API:trackSessionEnd");z.addPredicate(e,!0,Ie).addAction(w).addAction(N).addAction(F).addAction(b),this._ruleEngine.addRule(z);var $=new ye(ve.Error,"API:trackError");$.addPredicate(e,!0,Ie).addPredicate(u,!0,Be).addAction(C),this._ruleEngine.addRule($);var J=new ye(ve.Play,"API:trackPlay");J.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addAction(T).addAction(I).addAction(S),this._ruleEngine.addRule(J);var W=new ye(ve.Pause,"API:trackPause");W.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(v,!1,Te).addPredicate(y,!1,De).addAction(P),this._ruleEngine.addRule(W);var Q=new ye(ve.BufferStart,"API:trackEvent(BufferStart)");Q.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(v,!1,Te).addPredicate(y,!1,De).addAction(E),this._ruleEngine.addRule(Q);var Y=new ye(ve.BufferComplete,"API:trackEvent(BufferComplete)");Y.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(v,!0,Ve).addAction(I),this._ruleEngine.addRule(Y);var K=new ye(ve.SeekStart,"API:trackEvent(SeekStart)");K.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(y,!1,De).addPredicate(v,!1,Te).addAction(A),this._ruleEngine.addRule(K);var X=new ye(ve.SeekComplete,"API:trackEvent(SeekComplete)");X.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(y,!0,we).addAction(T),this._ruleEngine.addRule(X);var Z=new ye(ve.AdBreakStart,"API:trackEvent(AdBreakStart)");Z.addPredicate(e,!0,Ie).addPredicate(o,!0,xe).addPredicate(g,!0,Fe).addAction(w).addAction(N).addAction(O),this._ruleEngine.addRule(Z);var ee=new ye(ve.AdBreakComplete,"API:trackEvent(AdBreakComplete)");ee.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addAction(w).addAction(L),this._ruleEngine.addRule(ee);var te=new ye(ve.AdStart,"API:trackEvent(AdStart)");te.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addPredicate(s,!0,Re).addPredicate(f,!0,Ue).addAction(w).addAction(V),this._ruleEngine.addRule(te);var ae=new ye(ve.AdComplete,"API:trackEvent(AdComplete)");ae.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addPredicate(a,!0,Le).addAction(D),this._ruleEngine.addRule(ae)
;var ne=new ye(ve.AdSkip,"API:trackEvent(AdSkip)");ne.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addPredicate(a,!0,Le).addAction(w),this._ruleEngine.addRule(ne);var ie=new ye(ve.ChapterStart,"API::trackEvent(chapterStart)");ie.addPredicate(e,!0,Ie).addPredicate(l,!0,Ge).addPredicate(p,!0,He).addAction(F).addAction(M),this._ruleEngine.addRule(ie);var re=new ye(ve.ChapterComplete,"API::trackEvent(chapterComplete)");re.addPredicate(e,!0,Ie).addPredicate(n,!0,Ne).addAction(x),this._ruleEngine.addRule(re);var oe=new ye(ve.ChapterSkip,"API:trackEvent(chapterSkip)");oe.addPredicate(e,!0,Ie).addPredicate(n,!0,Ne).addAction(F),this._ruleEngine.addRule(oe);var se=new ye(ve.BitrateChange,"API:trackEvent(BitrateChange)");se.addPredicate(e,!0,Ie).addAction(B),this._ruleEngine.addRule(se);var le=new ye(ve.QoEUpdate,"API:trackEvent(QoEUpdate)");le.addPredicate(e,!0,Ie).addPredicate(c,!0,qe).addAction(U),this._ruleEngine.addRule(le);var ce=new ye(ve.PlayheadUpdate,"API:trackEvent(PlayheadUpdate)");ce.addPredicate(e,!0,Ie).addAction(G),this._ruleEngine.addRule(ce);var de=new ye(ve.StateStart,"API:trackEvent(StateStart)");de.addPredicate(e,!0,Ie).addPredicate(d,!0,je).addPredicate(i,!1,$e).addPredicate(h,!0,We).addAction(R),this._ruleEngine.addRule(de);var ue=new ye(ve.StateEnd,"API:trackEvent(StateEnd)");ue.addPredicate(e,!0,Ie).addPredicate(d,!0,je).addPredicate(i,!0,Je).addAction(j),this._ruleEngine.addRule(ue)}},{key:"_isInMedia",value:function(){return!D(this._media)}},{key:"_isInAdBreak",value:function(){return this._media.isInAdBreak}},{key:"_isInAd",value:function(){return this._media.isInAd}},{key:"_isInChapter",value:function(){return this._media.isInChapter}},{key:"_isInBuffering",value:function(){return this._media.isInPlaybackState(be.Buffer)}},{key:"_isInSeeking",value:function(){return this._media.isInPlaybackState(be.Seek)}},{key:"_isInTrackedState",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.isCustomStateActive(t)}},{key:"_isValidMediaInfo",value:function(e){return null!=ge.deserialize(e[he.Params])}},{key:"_isValidAdBreakInfo",value:function(e){return null!=le.deserialize(e[he.Params])}},{key:"_isValidAdInfo",value:function(e){return null!=se.deserialize(e[he.Params])}},{key:"_isValidStateInfo",value:function(e){return null!=ue.deserialize(e[he.Params])}},{key:"_isValidChapterInfo",value:function(e){return null!=ce.deserialize(e[he.Params])}},{key:"_isValidQoEInfo",value:function(e){return null!=fe.deserialize(e[he.Params])}},{key:"_isValidErrorInfo",value:function(e){var t=e[he.Params];if(!M(t))return!1;var a=t[he.ErrorId];return N(a)}},{key:"_isDifferentAdBreakInfo",value:function(e){return!le.deserialize(e[he.Params]).equal(this._media.adBreakInfo)}},{key:"_isDifferentAdInfo",value:function(e){return!se.deserialize(e[he.Params]).equal(this._media.adInfo)}},{key:"_isDifferentChapterInfo",value:function(e){return!ce.deserialize(e[he.Params]).equal(this._media.chapterInfo)}},{key:"_allowPlayerStateChange",value:function(){return!this._media.isInAdBreak||this._media.isInAd}},{key:"_allowStateTrack",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.hasTrackedCustomState(t)||this._media.numTrackedCustomStates()<10}},{key:"_cmdEnterAction",value:function(e,t){var a=this._getRefTs(t);return D(this._hitGenerator)||this._hitGenerator.setRefTS(a),!0}},{key:"_cmdExitAction",value:function(e,t){if(D(this._media))return!1;e.id===ve.AdStart&&(!this._media.isInPlaybackState(be.Init)||this._media.isInPlaybackState(be.Buffer)||this._media.isInPlaybackState(be.Seek)||this._media.enterPlaybackState(be.Play)),e.id!==ve.BufferComplete&&e.id!==ve.SeekComplete||this._media.isInPlaybackState(be.Init)&&this._media.enterPlaybackState(be.Pause),this._cmdIdleDetection(t),this._cmdSessionTimeoutDetection(t),this._cmdContentStartDetection(t);var a=e.id===ve.AdStart||e.id===ve.AdBreakComplete;return this._hitGenerator.processPlayback(a),!0}},{key:"_cmdMediaStart",value:function(e){var t=ge.deserialize(e[he.Params]),a=e[he.Metadata],n=this._getRefTs(e);return this._media=new ke(t,a),this._hitGenerator=this._createHitGenerator(n),this._hitGenerator.processMediaStart(),this._sessionRefTs=n,this._inPrerollInterval=0!==t.prerollWaitTime,this._prerollRefTs=n,!0}},{key:"_cmdMediaComplete",value:function(){return this._hitGenerator.processMediaComplete(),this._resetStates(),!0}},{key:"_cmdMediaSkip",value:function(){return this._hitGenerator.processMediaSkip(),this._resetStates(),!0}},{key:"_cmdAdBreakStart",value:function(e){var t=le.deserialize(e[he.Params]);return this._media.setAdBreakInfo(t),this._hitGenerator.processAdBreakStart(),!0}},{key:"_cmdAdBreakComplete",value:function(){return this._hitGenerator.processAdBreakComplete(),this._media.clearAdBreakInfo(),!0}},{key:"_cmdAdBreakSkip",value:function(){return this._media.isInAdBreak&&(this._hitGenerator.processAdBreakSkip(),this._media.clearAdBreakInfo()),!0}},{key:"_cmdAdStart",value:function(e){var t=se.deserialize(e[he.Params]),a=e[he.Metadata];return this._media.setAdInfo(t,a),this._hitGenerator.processAdStart(),!0}},{key:"_cmdAdComplete",value:function(){return this._hitGenerator.processAdComplete(),this._media.clearAdInfo(),!0}},{key:"_cmdAdSkip",value:function(){return this._media.isInAd&&(this._hitGenerator.processAdSkip(),this._media.clearAdInfo()),!0}},{key:"_cmdChapterStart",value:function(e){var t=ce.deserialize(e[he.Params]),a=e[he.Metadata];return this._media.setChapterInfo(t,a),this._hitGenerator.processChapterStart(),!0}},{key:"_cmdChapterComplete",value:function(){return this._hitGenerator.processChapterComplete(),this._media.clearChapterInfo(),!0}},{key:"_cmdChapterSkip",value:function(){return this._media.isInChapter&&(this._hitGenerator.processChapterSkip(),this._media.clearChapterInfo()),!0}},{key:"_cmdError",value:function(e){var t=e[he.Params][he.ErrorId];return this._hitGenerator.processError(t),!0}},{key:"_cmdBitrateChange",value:function(){return this._hitGenerator.processBitrateChange(),!0}},{key:"_cmdPlay",value:function(){return this._media.enterPlaybackState(be.Play),!0}},{key:"_cmdPause",value:function(){return this._media.enterPlaybackState(be.Pause),!0}},{key:"_cmdBufferStart",value:function(){return this._media.enterPlaybackState(be.Buffer),!0}},{key:"_cmdBufferComplete",value:function(){return this._media.isInPlaybackState(be.Buffer)&&this._media.exitPlaybackState(be.Buffer),!0}},{key:"_cmdSeekStart",value:function(){return this._media.enterPlaybackState(be.Seek),!0}},{key:"_cmdSeekComplete",value:function(){return this._media.isInPlaybackState(be.Seek)&&this._media.exitPlaybackState(be.Seek),!0}},{key:"_cmdQoEUpdate",value:function(e){var t=fe.deserialize(e[he.Params]);return this._media.qoeInfo=t,!0}},{key:"_cmdPlayheadUpdate",value:function(e){var t=e[he.Params];if(M(t)){var a=t[he.Playhead];Z(a)&&a>=0&&(this._media.playhead=a)}return!0}},{key:"_cmdIdleDetection",value:function(e){var t=this._getRefTs(e);this._media.isIdle()?this._mediaIdle?!this._trackerIdle&&t-this._mediaIdleStartTs>=18e5&&(this._hitGenerator.processSessionAbort(),this._trackerIdle=!0):(this._mediaIdle=!0,this._mediaIdleStartTs=t):(this._trackerIdle&&(this._hitGenerator.processSessionRestart(),this._trackerIdle=!1,this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null),this._mediaIdle=!1)}},{key:"_cmdSessionTimeoutDetection",value:function(e){var t=this._getRefTs(e);!this._trackerIdle&&t-this._sessionRefTs>=864e5&&(this._hitGenerator.processSessionAbort(),this._hitGenerator.processSessionRestart(),this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null)}},{key:"_cmdContentStartDetection",value:function(e){return!(!this._media.isIdle()&&!this._contentStarted&&(this._media.isInAdBreak?(this._contentStartRefTs=null,0):(null==this._contentStartRefTs&&(this._contentStartRefTs=this._getRefTs(e)),this._getRefTs(e)-this._contentStartRefTs>=1e3&&(this._hitGenerator.processPlayback(!0),this._contentStarted=!0),0)))}},{key:"_cmdStateStart",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.startCustomState(t),this._hitGenerator.processCustomStateStart(t),!0}},{key:"_cmdStateEnd",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.endCustomState(t),this._hitGenerator.processCustomStateEnd(t),!0}},{key:"_getRefTs",value:function(e){var t=e[he.TimeStamp];return ee(t)?t:null}},{key:"_prerollDeferRule",value:function(e,t){if(this._inPrerollInterval&&null!=this._media){var a=this._media.mediaInfo.prerollWaitTime;if(this._prerollQueuedRules.push({eventName:e,context:t}),this._getRefTs(t)-this._prerollRefTs>=a||e===ve.AdBreakStart||e===ve.MediaComplete||e===ve.MediaSkip){for(var n=this._prerollReorderRules(this._prerollQueuedRules),i=0;i<n.length;i++){var r=n[i];this._processRule(r.eventName,r.context)}this._prerollQueuedRules=[],this._inPrerollInterval=!1}return!0}return!1}},{key:"_prerollReorderRules",value:function(e){for(var t=[],a=!1,n=0;n<e.length;++n)if(e[n].eventName===ve.AdBreakStart){a=!0;break}for(var i=a,r=0;r<e.length;r++){var o=e[r];o.eventName===ve.Play&&i||(o.eventName===ve.AdBreakStart&&(i=!1),t.push(o))}return t}},{key:"_cleanMetadata",value:function(e){var t=this,a={};return M(e)&&Object.keys(e).forEach((function(n){var i=e[n];Qe.test(n)&&!D(i)?a[n]=String(i):t._logger.log("#_cleanMetadata - Dropping metadata item "+n+": "+i)})),a}}]),e}(),Ke=function(){function e(a,n,i){t(this,e),this._logger=v("MediaTracker ("+n+")"),this._tracker=new Ye(a,this._logger,i),this._timer=null,this._lastEventTS=null,this._lastPlayheadParams=null}return n(e,[{key:"trackSessionStart",value:function(e,t){this._logger.log("trackSessionStart(info:"+me(e)+" metadata:"+me(t)+")"),this._trackInternal(ve.SessionStart,e,t)}},{key:"trackSessionEnd",value:function(){this._logger.log("trackSessionEnd"),this._trackInternal(ve.SessionEnd)}},{key:"trackComplete",value:function(){this._logger.log("trackComplete"),this._trackInternal(ve.SessionComplete)}},{key:"trackPlay",value:function(){this._logger.log("trackPlay"),this._trackInternal(ve.Play)}},{key:"trackPause",value:function(){this._logger.log("trackPause"),this._trackInternal(ve.Pause)}},{key:"trackEvent",value:function(e,t,a){this._logger.log("trackEvent("+e+" info:"+me(t)+" metadata:"+me(a)+")"),this._trackInternal(e,t,a)}},{key:"trackError",value:function(e){this._logger.log("trackError("+e+")");var t=i({},he.ErrorId,e);this._trackInternal(ve.Error,t)}},{key:"updatePlayhead",value:function(e){var t=i({},he.Playhead,e);this._trackInternal(ve.PlayheadUpdate,t)}},{key:"updateQoEObject",value:function(e){this._logger.log("updateQoEObject("+me(e)+")"),this._trackInternal(ve.QoEUpdate,e)}},{key:"destroy",value:function(){this._logger.log("destroy()"),this._stopTimer(),this._tracker=null}},{key:"_trackInternal",value:function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._tracker){var o=g(),s=(i(n={},he.Name,e),i(n,he.Params,t),i(n,he.Metadata,a),i(n,he.TimeStamp,o),i(n,he.InternalEvent,r),n),l=this._tracker.track(s);this._lastEventTS=o,e===ve.PlayheadUpdate&&(this._lastPlayheadParams=t),e===ve.SessionStart&&l?this._startTimer():e!==ve.SessionComplete&&e!==ve.SessionEnd||this._stopTimer()}else this._logger.warn("Dropping the call as the tracker instance is already destroyed")}},{key:"_startTimer",value:function(){var e=this;this._timer||(this._timer=p((function(){e._onTick()}),500))}},{key:"_stopTimer",value:function(){var e;this._timer&&(e=this._timer,clearInterval(e),this._timer=null)}},{key:"_onTick",value:function(){g()-this._lastEventTS>750&&this._trackInternal(ve.PlayheadUpdate,this._lastPlayheadParams,null,!0)}}]),e}(),Xe=new oe,Ze=u(),et={configure:function(e){Xe.configure(e)},getInstance:function(e){var t="tracker"+Ze.getUniqueId();return new Ke(Xe,t,e)},createMediaObject:function(e,t,a,n,i){var r=null;try{r=new ge({id:t,name:e,streamType:n,mediaType:i,length:a}).serialize()}catch(e){pe.error("Error creating MediaObject ("+e.message+")")}return r},createAdBreakObject:function(e,t,a){var n=null;try{n=new le({name:e,position:t,startTime:a}).serialize()}catch(e){pe.error("Error creating AdBreakObject ("+e.message+")")}return n},createAdObject:function(e,t,a,n){var i=null;try{i=new se({id:t,name:e,position:a,length:n}).serialize()}catch(e){pe.error("Error creating AdObject ("+e.message+")")}return i},createChapterObject:function(e,t,a,n){var i=null;try{i=new ce({name:e,position:t,length:a,startTime:n}).serialize()}catch(e){pe.error("Error creating ChapterObject ("+e.message+")")}return i},createQoEObject:function(e,t,a,n){var i=null;try{i=new fe({bitrate:e,droppedFrames:n,fps:a,startupTime:t}).serialize()}catch(e){pe.error("Error creating QoEObject ("+e.message+")")}return i},createStateObject:function(e){var t=null;try{t=new ue({name:e}).serialize()}catch(e){pe.error("Error creating StateObject ("+e.message+")")}return t},version:"js-extn-3.0.2",Event:k,MediaType:S,PlayerState:P,StreamType:T,MediaObjectKey:C,VideoMetadataKeys:E,AudioMetadataKeys:I,AdMetadataKeys:A},tt="ecid",at="analytics",nt="mediaanalytics",it=function(e){function a(e,n){var i;if(t(this,a),i=o.call(this),!e)throw new Error("Valid appmeasurement instance is required");if(!e.visitor)throw new Error("Valid visitor instance is required");return i._mediaConfig=n,i._appMeasurement=e,i._appMeasurementReady=!1,i._privacyResolved=!1,i._logger=v("WebECResolver"),i._fetchECParams(),i._fetchPrivacyStatus(),i._setupResolver(),i}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var r,o=(r=a,function(){var e,t=s(r);if(c()){var a=s(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return d(this,e)});return n(a,[{key:"resolveKeys",value:function(e){if(!e||0===e.length)return{};for(var t={},a=0;a<e.length;a++){var n=e[a],i=Object.prototype.hasOwnProperty.call(this._fnMap,n)?this._fnMap[n].call(this):null;D(i)||(t[n]=i)}return t}},{key:"getPrivacyStatus",value:function(){return this._privacyStatus[nt]}},{key:"notifyPrivacyChange",value:function(e){this._mediaPrivacyClb.push(e)}},{key:"isReady",value:function(){return!!this._privacyResolved&&this._privacyStatus[nt]===V.OptIn&&(this._privacyStatus[at]!==V.OptIn||this._appMeasurementReady)}},{key:"_setupResolver",value:function(){var e=this,t={};t[F.Rsid]=function(){return e._appMeasurement.account},t[F.AnalyticsTrackingServer]=function(){return e._appMeasurement.ssl&&e._appMeasurement.trackingServerSecure?e._appMeasurement.trackingServerSecure:e._appMeasurement.trackingServer},t[F.AnalyticsSsl]=function(){return e._appMeasurement.ssl},t[F.Vid]=function(){return e._appMeasurement.visitorID},t[F.Aid]=function(){var t=e._appMeasurement.analyticsVisitorID;if(""!==t)return t},t[F.Mcid]=function(){return e._appMeasurement.marketingCloudVisitorID},t[F.McOrgId]=function(){return e._appMeasurement.visitor.marketingCloudOrgID},t[F.AamLocHint]=function(){var t=parseInt(e._appMeasurement.audienceManagerLocationHint,10);return isNaN(t)?void 0:t},t[F.CustomerIds]=function(){return e._appMeasurement.visitor.getCustomerIDs()},t[F.MediaTrackingServer]=function(){return e._mediaConfig.trackingServer},t[F.MediaChannel]=function(){return e._mediaConfig.channel},t[F.MediaAppVersion]=function(){return e._mediaConfig.appVersion},t[F.MediaPlayerName]=function(){return e._mediaConfig.playerName},t[F.MediaSsl]=function(){return e._mediaConfig.ssl},this._fnMap=t}},{key:"_fetchECParams",value:function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[])}},{key:"_onAppMeasurementReady",value:function(){this._logger.log("AppMeasurement ready"),this._appMeasurementReady=!0}},{key:"_fetchPrivacyStatus",value:function(){var e,t=this;this._mediaPrivacyClb=[],this._optIn=window.adobe&&window.adobe.optIn?window.adobe.optIn:void 0;var a=this._optIn&&this._optIn.doesOptInApply,n=a?V.OptUnknown:V.OptIn;this._privacyStatus=(i(e={},tt,n),i(e,at,n),i(e,nt,n),e),a?this._optIn.fetchPermissions((function(){t._privacyResolved=!0,t._privacyStatus[tt]=t._optIn.isApproved(t._optIn.Categories.ECID)?V.OptIn:V.OptOut,t._privacyStatus[at]=t._optIn.isApproved(t._optIn.Categories.ANALYTICS)?V.OptIn:V.OptOut,t._privacyStatus[nt]=t._optIn.isApproved(t._optIn.Categories.MEDIA_ANALYTICS)?V.OptIn:V.OptOut,t._mediaPrivacyClb.forEach((function(e){e(t._privacyStatus[nt])})),t._logger.log("Privacy Status "+me(t._privacyStatus))}),!0):(this._privacyResolved=!0,this._logger.log("OptIn service not used, defaulting privacy status to "+me(this._privacyStatus)))}}]),a}(function(){function e(){t(this,e)}return n(e,[{key:"resolveKeys",value:function(){throw new Error("Implementation error: Method must be overridden.")}},{key:"isReady",value:function(){}},{key:"getPrivacyStatus",value:function(){}},{key:"notifyPrivacyChange",value:function(){}}]),e}()),rt=v("Media"),ot=!1;return{Media:o({},et,{configure:function(e,t){if(m(e||{}),ot)rt.error("MediaSDK is already configured");else{rt.log("configure("+me(e)+")");try{!function(e){if(!M(e))throw new Error("mediaConfig is not a valid object");var t=e.trackingServer;if(!N(t))throw new Error("trackingServer is empty");if(-1!==t.indexOf("hb.omtrdc.net"))throw new Error("trackingServer should be set to Media collection endpoint and not heartbeat endpoint. Contact your Adobe representative for more information.")}(e);var a=new it(t,e);et.configure(a),ot=!0}catch(e){rt.error("Error configuring MediaSDK : "+e.message),m({debugLogging:!1})}}},getInstance:function(e){return et.getInstance(e)}}),MediaConfig:function e(){t(this,e),this.trackingServer=void 0,this.channel=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!0,this.debugLogging=!1}}},"object"==typeof t&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):(a=a||self).ADB=n()}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbdfb4b2e3570442dafcd49b858f2288a/",settings:{orgId:"2F2827E253DAF0E10A490D4E@AdobeOrg",variables:[{name:"overwriteCrossDomainMCIDAndAID",value:"true"}],doesOptInApply:!0,previousPermissions:"%AdobeOptIns%",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-document"),r=a("../codeLibrary/VisitorAPI"),o=a("../../view/utils/timeUnits"),s=function(e){return e.reduce((function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e}),{})},l=function(e){var t=n.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=s(t.variables||[]),i=t.doesOptInApply;i&&("boolean"==typeof i?a.doesOptInApply=i:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(a.isOptInStorageEnabled=r);var l=t.optInCookieDomain;l&&(a.optInCookieDomain=l);var c=t.optInStorageExpiry;if(c){var d=t.timeUnit;if(d&&o[d]){var u=c*o[d];a.optInStorageExpiry=u}}else!0===r&&(a.optInStorageExpiry=33696e3);var g=t.previousPermissions;g&&(a.previousPermissions=g);var f=t.preOptInApprovals;if(f)a.preOptInApprovals=f;else{var p=t.preOptInApprovalInput;p&&(a.preOptInApprovals=p)}var m=t.isIabContext;m&&(a.isIabContext=m);var h=e.getInstance(t.orgId,a);return n.logger.info('Created instance using orgId: "'+t.orgId+'"'),n.logger.info("Set variables: "+JSON.stringify(a)),h.getMarketingCloudVisitorID((function(e){n.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),h},c=function(e){return(n.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},d=null;_satellite.getVisitorId=function(){return d},c(i.location.pathname)?n.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):d=l(r),e.exports=d},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,n=this;return function(){n.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!D.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var a=void 0!==e[t]?e[t]:"";this.execute(t,a)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function n(e,t,a){var n=null==e?void 0:e[t];return void 0===n?a:n}function i(e){for(var t=/^\d+$/,a=0,n=e.length;a<n;a++)if(!t.test(e[a]))return!1;return!0}function r(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var a=0;a<e.length;a++){var n=parseInt(e[a],10),i=parseInt(t[a],10);if(n>i)return 1;if(i>n)return-1}return 0}function s(e,t){if(e===t)return 0;var a=e.toString().split("."),n=t.toString().split(".");return i(a.concat(n))?(r(a,n),o(a,n)):NaN}function l(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=de("log",e,t),this.warn=de("warn",e,t),this.error=de("error",e,t)}function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:Ee,set:Ee,remove:Ee};var a={remove:function(){t.remove(e)},get:function(){var a=t.get(e),n={};try{n=JSON.parse(a)}catch(a){n={}}return n},set:function(n,i){i=i||{};var r=a.get(),o=Object.assign(r,n);t.set(e,JSON.stringify(o),{domain:i.optInCookieDomain||"",cookieLifetime:i.optInStorageExpiry||3419e4,expires:!0})}};return a}function g(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function f(){function e(e,t){var a=me(e);return a.length?a.every((function(e){return!!t[e]})):he(t)}function t(){I(P),E(te.COMPLETE),h(m.status,m.permissions),s&&p.set(m.permissions,{optInCookieDomain:l,optInStorageExpiry:c}),v.execute(we)}function a(e){return function(a,n){if(!ve(a))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return E(te.CHANGED),Object.assign(P,ye(me(a),e)),n||t(),m}}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.doesOptInApply,r=n.previousPermissions,o=n.preOptInApprovals,s=n.isOptInStorageEnabled,l=n.optInCookieDomain,c=n.optInStorageExpiry,d=n.isIabContext,g=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,f=Ie(r);Ae(f,"Invalid `previousPermissions`!"),Ae(o,"Invalid `preOptInApprovals`!");var p=u({cookieName:"adobeujs-optin"},{cookies:g}),m=this,h=ee(m),v=se(),y=ke(f),_=ke(o),b=s?p.get():{},k={},C=function(e,t){return Ce(e)||t&&Ce(t)?te.COMPLETE:te.PENDING}(y,b),S=function(e,t,a){var n=ye(oe,!i);return i?Object.assign({},n,e,t,a):n}(_,y,b),P=_e(S),E=function(e){return C=e},I=function(e){return S=e};m.deny=a(!1),m.approve=a(!0),m.denyAll=m.deny.bind(m,oe),m.approveAll=m.approve.bind(m,oe),m.isApproved=function(t){return e(t,m.permissions)},m.isPreApproved=function(t){return e(t,_)},m.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?m.on(te.COMPLETE,e):Ee;return!i||i&&m.isComplete||o?e(m.permissions):t||v.add(we,(function(){return e(m.permissions)})),a},m.complete=function(){m.status===te.CHANGED&&t()},m.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Oe);k[e.name]||(k[e.name]=e,e.onRegister.call(e,m))},m.execute=De(k),m.memoizeContent=function(e){Pe(e)&&p.set(e,{optInCookieDomain:l,optInStorageExpiry:c})},m.getMemoizedContent=function(e){var t=p.get();if(t)return t[e]},Object.defineProperties(m,{permissions:{get:function(){return S}},status:{get:function(){return C}},Categories:{get:function(){return ae}},doesOptInApply:{get:function(){return!!i}},isPending:{get:function(){return m.status===te.PENDING}},isComplete:{get:function(){return m.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(k)}},isIabContext:{get:function(){return d}}})}function p(e,t){function a(){i=null,e.call(e,new g("The call took longer than you wanted!"))}function n(){i&&(clearTimeout(i),e.apply(e,arguments))}if(void 0===t)return e;var i=setTimeout(a,t);return n}function m(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var a={};return window.__tcfapi=function(e,n,i,r){var o=Math.random()+"",s={__tcfapiCall:{command:e,parameter:r,version:n,callId:o}};a[o]=i,t.postMessage(s,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var n=t.__tcfapiReturn;"function"==typeof a[n.callId]&&(a[n.callId](n.returnValue,n.success),delete a[n.callId])}}),!1),window.__tcfapi}fe.error("__tcfapi not found")}else fe.error("__tcfapi not found")}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!0===e.vendor.consents[t],i=a.every((function(t){return!0===e.purpose.consents[t]}));return n&&i}function v(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,a=se(),n={transparencyAndConsentData:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n[e]=t};e.fetchConsentData=function(e){var t=p(e.callback,e.timeout);r({callback:t})},e.isApproved=function(e){var t=e.callback,a=e.category,i=e.timeout;if(n.transparencyAndConsentData)return t(null,h(n.transparencyAndConsentData,ne[a],ie[a]));var o=p((function(e,n){t(e,h(n,ne[a],ie[a]))}),i);r({category:a,callback:o})},e.onRegister=function(a){t=a;var n=Object.keys(ne),i=function(e,t){!e&&t&&(n.forEach((function(e){var n=h(t,ne[e],ie[e]);a[n?"approve":"deny"](e,!0)})),a.complete())};e.fetchConsentData({callback:i})};var r=function(e){var r=e.callback;if(n.transparencyAndConsentData)return r(null,n.transparencyAndConsentData);a.add("FETCH_CONSENT_DATA",r),o((function(e,r){if(r){var o=_e(e),s=t.getMemoizedContent("iabConsentHash"),l=ge(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=s!==l,i("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:l})}a.execute("FETCH_CONSENT_DATA",[null,n.transparencyAndConsentData])}))},o=function(e){var t=Ve(ne),a=m();"function"==typeof a&&a("getTCData",2,e,t)}}var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,n=1;n<arguments.length;++n)for(t in a=arguments[n])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var _,b,k={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},C=k.STATE_KEYS_MAP,S=function(e){function t(){}function a(t,a){var n=this;return function(){var i=e(0,t),r={};return r[t]=i,n.setStateAndPublish(r),a(i),i}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(C.MCMID,e),i=a.call(this,C.MCMID,e);return void 0!==n?n:i()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},P=k.MESSAGES,E=k.ASYNC_API_MAP,I=k.SYNC_API_MAP,A=function(){function e(){}function t(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(P.GETSTATE),""}}function a(a){this[E[a]]=function(n){n=n||e;var i=this.findField(a,n),r=t.call(this,a,n);return void 0!==i?i:r()}}function n(t){this[I[t]]=function(){return this.findField(t,e)||{}}}Object.keys(E).forEach(a,this),Object.keys(I).forEach(n,this)},T=k.ASYNC_API_MAP,V=function(){Object.keys(T).forEach((function(e){this[T[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},D=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,a){a.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},a.isValueEmpty=function(e){return""===e||a.isObjectEmpty(e)};var n=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};a.getIeVersion=function(){return document.documentMode?document.documentMode:n()?7:null},a.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},a.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},a.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},a.defineGlobalNamespace=function(){return window.adobe=a.isObject(window.adobe)?window.adobe:{},window.adobe},a.pluck=function(e,t){return t.reduce((function(t,a){return e[a]&&(t[a]=e[a]),t}),Object.create(null))},a.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var n=parseInt(e.d_ottl,10);return isNaN(n)&&(n=7200),{optOut:t,d_ottl:n}},a.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),w=(D.isObjectEmpty,D.isValueEmpty,D.getIeVersion,D.isFirefox,D.encodeAndBuildRequest,D.isObject,D.defineGlobalNamespace,D.pluck,D.parseOptOut,D.normalizeBoolean,a),O=k.MESSAGES,L={0:"prefix",1:"orgID",2:"state"},N=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,a){void 0!==e&&(t[L[a]]=2!==a?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(a){var n=this.parse(a);if(!n||Object.keys(n).length<2)return!0;var i=e!==n.orgID,r=!t||a.origin!==t,o=-1===Object.keys(O).indexOf(n.prefix);return i||r||o},this.send=function(a,n,i){var r=n+"|"+e;i&&i===Object(i)&&(r+="|"+JSON.stringify(i));try{a.postMessage(r,t)}catch(e){}}},M=k.MESSAGES,x=function(e,t,a,n){function i(e){Object.assign(f,e)}function r(e){Object.assign(f.state,e),Object.assign(f.state.ALLFIELDS,e),f.callbackRegistry.executeAll(f.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);f.setStateAndPublish(t.state)}}function s(e){!m&&p&&(m=!0,h.send(n,e))}function l(){i(new S(a._generateID)),f.getMarketingCloudVisitorID(),f.callbackRegistry.executeAll(f.state,!0),y.removeEventListener("message",c)}function c(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,y.clearTimeout(f._handshakeTimeout),y.removeEventListener("message",c),i(new A(f)),y.addEventListener("message",o),f.setStateAndPublish(t.state),f.callbackRegistry.hasCallbacks()&&s(M.GETSTATE)}}function d(){p&&postMessage?(y.addEventListener("message",c),s(M.HANDSHAKE),f._handshakeTimeout=setTimeout(l,250)):l()}function u(){y.s_c_in||(y.s_c_il=[],y.s_c_in=0),f._c="Visitor",f._il=y.s_c_il,f._in=y.s_c_in,f._il[f._in]=f,y.s_c_in++}function g(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(f[e]=function(){})}Object.keys(a).forEach(e),f.getSupplementalDataID=a.getSupplementalDataID,f.isAllowed=function(){return!0}}var f=this,p=t.whitelistParentDomain;f.state={ALLFIELDS:{}},f.version=a.version,f.marketingCloudOrgID=e,
f.cookieDomain=a.cookieDomain||"",f._instanceType="child";var m=!1,h=new N(e,p);f.callbackRegistry=w(),f.init=function(){u(),g(),i(new V(f)),d()},f.findField=function(e,t){if(void 0!==f.state[e])return t(f.state[e]),f.state[e]},f.messageParent=s,f.setStateAndPublish=r},F=k.MESSAGES,R=k.ALL_APIS,j=k.ASYNC_API_MAP,B=k.FIELDGROUP_TO_FIELD,U=function(e,t){function a(){var t={};return Object.keys(R).forEach((function(a){var n=R[a],i=e[n]();D.isValueEmpty(i)||(t[a]=i)})),t}function n(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(a){if(e._loading[a]){var n=B[a];t.push(n)}})),t.length?t:null}function i(t){return function a(){var i=n();if(i){var r=j[i[0]];e[r](a,!0)}else t()}}function r(e,n){var i=a();t.send(e,n,i)}function o(e){l(e),r(e,F.HANDSHAKE)}function s(e){i((function(){r(e,F.PARENTSTATE)}))()}function l(a){function n(n){i.call(e,n),t.send(a,F.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var i=e.setCustomerIDs;e.setCustomerIDs=n}return function(e){t.isInvalid(e)||(t.parse(e).prefix===F.HANDSHAKE?o:s)(e.source)}},G=function(e,t){function a(e){return function(a){n[e]=a,++i===r&&t(n)}}var n={},i=0,r=Object.keys(e).length;Object.keys(e).forEach((function(t){var n=e[t];if(n.fn){var i=n.args||[];i.unshift(a(t)),n.fn.apply(n.context||null,i)}}))},H={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),n=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,n<0?t.length:n))},set:function(e,t,a){var i=n(a,"cookieLifetime"),r=n(a,"expires"),o=n(a,"domain"),s=n(a,"secure"),l=n(a,"sameSite"),c=s?"Secure":"",d=l?"SameSite="+l+";":"";if(r&&"SESSION"!==i&&"NONE"!==i){var u=""!==t?parseInt(i||0,10):-60;if(u)(r=new Date).setTime(r.getTime()+1e3*u);else if(1===r){var g=(r=new Date).getYear();r.setYear(g+2+(g<1900?1900:0))}}else r=0;return e&&"NONE"!==i?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(o?" domain="+o+";":"")+d+c,this.get(e)===t):0},remove:function(e,t){var a=n(t,"domain");a=a?" domain="+a+";":"";var i=n(t,"secure"),r=n(t,"sameSite"),o=i?"Secure":"",s=r?"SameSite="+r+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a+s+o}},q=function(e,t){!e&&y.location&&(e=y.location.hostname);var a,n=e.split("."),i=t||{};for(a=n.length-2;a>=0;a--)if(i.domain=n.slice(a).join("."),H.set("TEST_AMCV_COOKIE_WRITE","cookie",i))return H.remove("TEST_AMCV_COOKIE_WRITE",i),i.domain;return""},z={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},$=!!y.postMessage,J={postMessage:function(e,t,a){var n=1;t&&($?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+n+++"&"+e))},receiveMessage:function(e,t){var a;try{$&&(e&&(a=function(a){if("string"==typeof t&&a.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(a.origin))return!1;e(a)}),y.addEventListener?y[e?"addEventListener":"removeEventListener"]("message",a):y[e?"attachEvent":"detachEvent"]("onmessage",a))}catch(e){}}},W=function(e){var t,a,n="0123456789",i="",r="",o=8,s=10,l=10,c=(""+Date.now()).substr(-6).split("").reverse("").join("");if(1==e){for(n+="ABCDEF",t=0;16>t;t++)a=Math.floor(Math.random()*o),4>t&&c[t]<o&&(a=+c[t]),i+=n.substring(a,a+1),a=Math.floor(Math.random()*o),r+=n.substring(a,a+1),o=16;return i+"-"+r}for(t=0;19>t;t++)a=Math.floor(Math.random()*s),6>t&&c[t]<s?(i+=c[t],a=c[t]):i+=n.substring(a,a+1),0===t&&9==a?s=3:((1==t||2==t)&&10!=s&&2>a||2<t)&&(s=10),a=Math.floor(Math.random()*l),r+=n.substring(a,a+1),0===t&&9==a?l=3:((1==t||2==t)&&10!=l&&2>a||2<t)&&(l=10);return i+r},Q=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(y.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new y[this.corsMetadata.corsType]},fireCORS:function(t,a){function n(e){var a;try{if((a=JSON.parse(e))!==Object(a))return void i.handleCORSError(t,null,"Response is not JSON")}catch(e){return void i.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var n=t.callback,r=y,o=0;o<n.length;o++)r=r[n[o]];r(a)}catch(e){i.handleCORSError(t,e,"Error forming callback function")}}var i=this;a&&(t.loadErrorHandler=a);try{var r=this.getCORSInstance();r.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(r.withCredentials=!0,r.timeout=e.loadTimeout,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(this.responseText)}),r.onerror=function(e){i.handleCORSError(t,e,"onerror")},r.ontimeout=function(e){i.handleCORSError(t,e,"ontimeout")},r.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,a,n){e.CORSErrors.push({corsData:t,error:a,description:n}),t.loadErrorHandler&&("ontimeout"===n?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},Y={POST_MESSAGE_ENABLED:!!y.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},K=function(e,t){var a=y.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,n="http://fast.",i="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(n=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=n+this.subdomain+".demdex.net/dest5.html"+i,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:Y.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(i=a.createElement("iframe")).sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=n.id,i.name=n.id+"_name",i.style.cssText="display: none; width: 0; height: 0;",i.src=n.url,n.newIframeCreated=!0,t(),a.body.appendChild(i)}function t(e){i.addEventListener("load",(function(){i.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()}))}this.startedAttachingIframe=!0;var n=this,i=a.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==i.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=i,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=i},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function a(){i.jsonForComparison.push(t),i.jsonWaiting.push(t),i.processSyncOnPage(t)}var n,i=this;if(t===Object(t)&&t.ibs)if(n=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var r,o,s,l=!1;for(r=0,o=this.jsonForComparison.length;r<o;r++)if(s=this.jsonForComparison[r],n===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):a()}else a();if((this.receivedThirdPartyCookiesNotification||!Y.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){i.messageSendingInterval=Y.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,a){var n=e._getField("MCAAMLH"),i=t.d_region||t.dcs_region;return n?i&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",i),parseInt(n,10)!==i&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),n=i)):(n=i)&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",n)),n||(n=""),n},processSyncOnPage:function(e){var t,a,n,i;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(n=0;n<a;n++)(i=t[n]).syncOnPage&&this.checkFirstPartyCookie(i,"","syncOnPage")},process:function(e){var t,a,n,i,r,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(s=!0,n=0;n<a;n++)i=t[n],r=[o("ibs"),o(i.id||""),o(i.tag||""),D.encodeAndBuildRequest(i.url||[],","),o(i.ttl||""),"","",i.fireURLSync?"true":"false"],i.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(r.join("|")):i.fireURLSync&&this.checkFirstPartyCookie(i,r.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,a,n){var i="syncOnPage"===n,r=i?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(r),c=!1,d=!1,u=Math.ceil((new Date).getTime()/Y.MILLIS_PER_DAY);l?(o=l.split("*"),c=(s=this.pruneSyncData(o,t.id,u)).dataPresent,d=s.dataValid,c&&d||this.fireSync(i,t,a,o,r,u)):(o=[],this.fireSync(i,t,a,o,r,u))},pruneSyncData:function(e,t,a){var n,i,r,o=!1,s=!1;for(i=0;i<e.length;i++)n=e[i],r=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(o=!0,a<r?s=!0:(e.splice(i,1),i--)):a>=r&&(e.splice(i,1),i--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,a,n,i,r,o){var s=this;if(t){if("img"===a.tag){var l,c,d,u,g=a.url,f=e.loadSSL?"https:":"http:";for(l=0,c=g.length;l<c;l++){d=g[l],u=/^\/\//.test(d);var p=new Image;p.addEventListener("load",function(t,a,n,i){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,l,c,d,u=e._getField(r),g=[];if(u)for(l=0,c=(o=u.split("*")).length;l<c;l++)(d=o[l]).match("^"+a.id+"-")||g.push(d);s.setSyncTrackingData(g,a,n,i)}}(this.onPagePixels.length,a,r,o)),p.src=(u?f:"")+d,this.onPagePixels.push(p)}}}else this.addMessage(n),this.setSyncTrackingData(i,a,r,o)},addMessage:function(t){var a=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((Y.POST_MESSAGE_ENABLED?"":a)+t)},setSyncTrackingData:function(t,a,n,i){t.push(a.id+"-"+(i+Math.ceil(a.ttl/60/24))),this.manageSyncsSize(t),e._setField(n,t.join("*"))},sendMessages:function(){var e,t=this,a="",n=encodeURIComponent;this.regionChanged&&(a=n("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?Y.POST_MESSAGE_ENABLED?(e=a+n("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){J.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(n){(null==this.url||n.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=n.subdomain||"",this.url=this.getUrl()),n.ibs instanceof Array&&n.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===a.readyState||"loaded"===a.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(n):this.requestToProcess(n),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(n)},canMakeSyncIDCall:function(t,a){return e._forceSyncIDCall||!t||a-t>Y.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(a.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},X={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},Z={getConfigNames:function(){return Object.keys(X)},getConfigs:function(){return X},normalizeConfig:function(e,t){return X[e]&&"boolean"===X[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,a,n){if(!a||"function"!=typeof a)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var i=t[e].push({callback:a,context:n})-1;return function(){t[e].splice(i,1),t[e].length||delete t[e]}},e.off=function(e,a){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==a)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var a=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,a)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ae={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ne=(t(_={},ae.AAM,565),t(_,ae.ECID,565),_),ie=(t(b={},ae.AAM,[1,10]),t(b,ae.ECID,[1,10]),b),re=["videoaa","iabConsentHash"],oe=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ae),se=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,a){if(!c(a))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var n=e.callbacks[t].push(a)-1;return function(){e.callbacks[t].splice(n,1)}},e.execute=function(t,a){if(e.callbacks[t]){a=(a=void 0===a?[]:a)instanceof Array?a:[a];try{for(;e.callbacks[t].length;){var n=e.callbacks[t].shift();"function"==typeof n?n.apply(null,a):n instanceof Array&&n[1].apply(n[0],a)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,a){(a||t&&!l(t))&&Object.keys(e.callbacks).forEach((function(a){var n=void 0!==t[a]?t[a]:"";e.execute(a,n)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},le=function(){},ce=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},de=function(e,t,a){return a()?function(){if(ce(e)){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];console[e].apply(console,[t].concat(n))}}:le},ue=d,ge=function(){for(var e=[],t=0;t<256;t++){for(var a=t,n=0;n<8;n++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a^=-1;for(var n=0;n<t.length;n++){var i=255&(a^t.charCodeAt(n));a=a>>>8^e[i]}return(a^=-1)>>>0}}(),fe=new ue("[ADOBE OPT-IN]"),pe=function(t,a){return e(t)===a},me=function(e,t){return e instanceof Array?e:pe(e,"string")?[e]:t||[]},he=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||be(e))&&me(e).every((function(e){return oe.indexOf(e)>-1||t&&re.indexOf(e)>-1}))},ye=function(e,t){return e.reduce((function(e,a){return e[a]=t,e}),{})},_e=function(e){return JSON.parse(JSON.stringify(e))},be=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ke=function(e){if(Pe(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Ce=function(e){return void 0===e||(Pe(e)?ve(Object.keys(e),!0):Se(e))},Se=function(e){try{var t=JSON.parse(e);return!!e&&pe(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},Pe=function(e){return null!==e&&pe(e,"object")&&!1===Array.isArray(e)},Ee=function(){},Ie=function(e){return pe(e,"function")?e():e},Ae=function(e,t){Ce(e)||fe.error("".concat(t))},Te=function(e){return Object.keys(e).map((function(t){return e[t]}))},Ve=function(e){return Te(e).filter((function(e,t,a){return a.indexOf(e)===t}))},De=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.command,n=t.params,i=void 0===n?{}:n,r=t.callback,o=void 0===r?Ee:r;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=a.split("."),l=e[s[0]],c=s[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var d=Object.assign(i,{callback:o});l[c].call(l,d)}catch(e){fe.error("[execute] Something went wrong: "+e.message)}}};g.prototype=Object.create(Error.prototype),g.prototype.constructor=g;var we="fetchPermissions",Oe="[OptIn#registerPlugin] Plugin is invalid.";f.Categories=ae,f.TimeoutError=g;var Le=Object.freeze({OptIn:f,IabPlugin:v}),Ne=function(e,t){e.publishDestinations=function(a){var n=arguments[1],i=arguments[2];try{i="function"==typeof i?i:a.callback}catch(e){i=function(){}}var r=t;if(r.readyToAttachIframePreliminary()){if("string"==typeof a){if(!a.length)return void i({error:"subdomain is not a populated string."});if(!(n instanceof Array&&n.length))return void i({error:"messages is not a populated array."});var o=!1;if(n.forEach((function(e){"string"==typeof e&&e.length&&(r.addMessage(e),o=!0)})),!o)return void i({error:"None of the messages are populated strings."})}else{if(!D.isObject(a))return void i({error:"Invalid parameters passed."});var s=a;if("string"!=typeof(a=s.subdomain)||!a.length)return void i({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void i({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach((function(e){D.isObject(e)&&(e.hideReferrer?e.message&&r.addMessage(e.message):c.push(e))})),function e(){c.length&&setTimeout((function(){var t=new Image,a=c.shift();t.src=a.url,r.onPageDestinationsFired.push(a),e()}),100)}()}r.iframe?(i({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(r.subdomain=a,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push((function(e){i({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),r.attachIframe()):i({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push((function(e){i({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else i({error:"The destination publishing iframe is disabled in the Visitor library."})}},Me=function e(t){function a(e,t){return e>>>t|e<<32-t}for(var n,i,r=Math.pow,o=r(2,32),s="",l=[],c=8*t.length,d=e.h=e.h||[],u=e.k=e.k||[],g=u.length,f={},p=2;g<64;p++)if(!f[p]){for(n=0;n<313;n+=p)f[n]=p;d[g]=r(p,.5)*o|0,u[g++]=r(p,1/3)*o|0}for(t+="\x80";t.length%64-56;)t+="\0";for(n=0;n<t.length;n++){if((i=t.charCodeAt(n))>>8)return;l[n>>2]|=i<<(3-n)%4*8}for(l[l.length]=c/o|0,l[l.length]=c,i=0;i<l.length;){var m=l.slice(i,i+=16),h=d;for(d=d.slice(0,8),n=0;n<64;n++){var v=m[n-15],y=m[n-2],_=d[0],b=d[4],k=d[7]+(a(b,6)^a(b,11)^a(b,25))+(b&d[5]^~b&d[6])+u[n]+(m[n]=n<16?m[n]:m[n-16]+(a(v,7)^a(v,18)^v>>>3)+m[n-7]+(a(y,17)^a(y,19)^y>>>10)|0);(d=[k+((a(_,2)^a(_,13)^a(_,22))+(_&d[1]^_&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+k|0}for(n=0;n<8;n++)d[n]=d[n]+h[n]|0}for(n=0;n<8;n++)for(i=3;i+1;i--){var C=d[n]>>8*i&255;s+=(C<16?0:"")+C.toString(16)}return s},xe=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Me(e)),e},Fe=function(e){return String(e).trim().toLowerCase()},Re=Le.OptIn;D.defineGlobalNamespace(),window.adobe.OptInCategories=Re.Categories;var je=function(t,a,n){function i(){_._customerIDsHashChanged=!1}function r(e){var t=e;return function(e){var a=e||I.location.href;try{var n=_._extractParamFromUri(a,t);if(n)return te.parsePipeDelimetedKeyValues(n)}catch(e){}}}function o(e){function t(e,t,a){e&&e.match(Y.VALID_VISITOR_ID_REGEX)&&(a===O&&(E=!0),t(e))}t(e[O],_.setMarketingCloudVisitorID,O),_._setFieldExpire(R,-1),t(e[x],_.setAnalyticsVisitorID)}function s(e){e=e||{},_._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",_._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},_._supplementalDataIDLast=e.supplementalDataIDLast||"",_._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function l(e){function t(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function a(e,a){var n=a[0],i=a[1];return null!=i&&i!==j&&(e=t(n,i,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(a,""))}function c(e){var t=e.minutesToLive,a="";return(_.idSyncDisableSyncs||_.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function d(){return!(!_.configs.doesOptInApply||b.optIn.isComplete&&u())}function u(){return _.configs.doesOptInApply&&_.configs.isIabContext?b.optIn.isApproved(b.optIn.Categories.ECID)&&P:b.optIn.isApproved(b.optIn.Categories.ECID)}function g(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],a=2===e.length?e[1]:"",n=_[t];_[t]=function(e){return u()&&_.isAllowed()?n.apply(_,arguments):("function"==typeof e&&_._callCallback(e,[a]),a)}}))}function f(){var e=_._getAudienceManagerURLData(),t=e.url;return _._loadData(w,t,null,e)}function p(e,t){if(P=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(C=t.consentString,S=t.hasConsentChangedSinceLastCmpPull?1:0),f(),v()}function m(e,t){if(P=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(C=t.consentString,S=t.hasConsentChangedSinceLastCmpPull?1:0),_.init(),v()}function h(){b.optIn.isComplete&&(b.optIn.isApproved(b.optIn.Categories.ECID)?_.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(_.init(),v()):_.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:p}):(g(),v()))}function v(){b.optIn.off("complete",h)}if(!n||n.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var _=this,b=window.adobe,C="",S=0,P=!1,E=!1;_.version="5.4.0";var I=y,A=I.Visitor;A.version=_.version,A.AuthState=k.AUTH_STATE,A.OptOut=k.OPT_OUT,I.s_c_in||(I.s_c_il=[],I.s_c_in=0),_._c="Visitor",_._il=I.s_c_il,_._in=I.s_c_in,_._il[_._in]=_,I.s_c_in++,_._instanceType="regular",_._log={requests:[]},_.marketingCloudOrgID=t,_.cookieName="AMCV_"+t,_.sessionCookieName="AMCVS_"+t;var T={};a&&a.secureCookie&&a.sameSiteCookie&&(T={sameSite:a.sameSiteCookie,secure:a.secureCookie}),_.cookieDomain=_.useLocalStorage?"":q(null,T),_.loadSSL=!0,_.loadTimeout=3e4,_.CORSErrors=[],_.marketingCloudServer=_.audienceManagerServer="dpm.demdex.net",_.sdidParamExpiry=30;var V=null,w="MC",O="MCMID",L="MCIDTS",M="A",x="MCAID",F="AAM",R="MCAAMB",j="NONE",B=function(e){return!Object.prototype[e]},$=Q(_);_.FIELDS=k.FIELDS,_.cookieRead=function(e){return _.useLocalStorage?e===_.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):H.get(e)},_.cookieWrite=function(e,t,a){var n=""+t;if(_.useLocalStorage)return e===_.sessionCookieName?sessionStorage.setItem(e,n):localStorage.setItem(e,n);var i=_.cookieLifetime?(""+_.cookieLifetime).toUpperCase():"",r={expires:a,domain:_.cookieDomain,cookieLifetime:i};return _.configs&&_.configs.secureCookie&&"https:"===location.protocol&&(r.secure=!0),_.configs&&_.configs.sameSiteCookie&&"https:"===location.protocol&&(r.sameSite=k.SAME_SITE_VALUES[_.configs.sameSiteCookie.toUpperCase()]||"Lax"),H.set(e,n,r)},_.removeCookie=function(e){if(_.useLocalStorage)return e===_.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:_.cookieDomain};return _.configs&&_.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),_.configs&&_.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=k.SAME_SITE_VALUES[_.configs.sameSiteCookie.toUpperCase()]||"Lax"),H.remove(e,t)},_.resetState=function(e){e?_._mergeServerState(e):s()},_._isAllowedDone=!1,_._isAllowedFlag=!1,_.isAllowed=function(){return _._isAllowedDone||(_._isAllowedDone=!0,(_.cookieRead(_.cookieName)||_.cookieWrite(_.cookieName,"T",1))&&(_._isAllowedFlag=!0)),"T"===_.cookieRead(_.cookieName)&&_.removeCookie(_.cookieName),_._isAllowedFlag},_.setMarketingCloudVisitorID=function(e){_._setMarketingCloudFields(e)},_._use1stPartyMarketingCloudServer=!1,_.getMarketingCloudVisitorID=function(e,t){_.marketingCloudServer&&_.marketingCloudServer.indexOf(".demdex.net")<0&&(_._use1stPartyMarketingCloudServer=!0);var a=_._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;return _._getRemoteField(O,n,e,t,a)};var X=function(e,t){var a={};_.getMarketingCloudVisitorID((function(){t.forEach((function(e){a[e]=_._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?_.isOptedOut((function(t){a.MCOPTOUT=t,e(a)}),null,!0):e(a)}),!0)};_.getVisitorValues=function(e,t){var a={MCMID:{fn:_.getMarketingCloudVisitorID,args:[!0],context:_},MCOPTOUT:{fn:_.isOptedOut,args:[void 0,!0],context:_},MCAID:{fn:_.getAnalyticsVisitorID,args:[!0],context:_},MCAAMLH:{fn:_.getAudienceManagerLocationHint,args:[!0],context:_},MCAAMB:{fn:_.getAudienceManagerBlob,args:[!0],context:_}},n=t&&t.length?D.pluck(a,t):a;t&&-1===t.indexOf("MCAID")?X(e,t):G(n,e)},_._currentCustomerIDs={},_._customerIDsHashChanged=!1,_._newCustomerIDsHash="",_.setCustomerIDs=function(t,a){if(!_.isOptedOut()&&t){if(!D.isObject(t)||D.isObjectEmpty(t))return!1;var n,r,o,s;for(n in _._readVisitor(),t)if(B(n)&&(_._currentCustomerIDs.dataSources=_._currentCustomerIDs.dataSources||{},a=(r=t[n]).hasOwnProperty("hashType")?r.hashType:a,r))if("object"===e(r)){var l={};if(r.id){if(a){if(!(s=xe(Fe(r.id),a)))return;r.id=s,l.hashType=a}l.id=r.id}null!=r.authState&&(l.authState=r.authState),_._currentCustomerIDs.dataSources[n]=l}else if(a){if(!(s=xe(Fe(r),a)))return;_._currentCustomerIDs.dataSources[n]={id:s,hashType:a}}else _._currentCustomerIDs.dataSources[n]={id:r};var c=_.getCustomerIDs(!0),d=_._getField("MCCIDH"),u="";for(o in d||(d=0),c){var g=c[o];if(!D.isObjectEmpty(g))for(n in g)B(n)&&(u+=(u?"|":"")+n+"|"+((r=g[n]).id?r.id:"")+(r.authState?r.authState:""))}_._newCustomerIDsHash=String(_._hash(u)),_._newCustomerIDsHash!==d&&(_._customerIDsHashChanged=!0,_._mapCustomerIDs(i))}},_.syncIdentity=function(t,a){if(!_.isOptedOut()&&t){if(!D.isObject(t)||D.isObjectEmpty(t))return!1;var n,r,o,s,l;for(n in _._readVisitor(),t)if(B(n)&&(_._currentCustomerIDs.nameSpaces=_._currentCustomerIDs.nameSpaces||{},a=(r=t[n]).hasOwnProperty("hashType")?r.hashType:a,r&&"object"===e(r))){var c={};if(r.id){if(a){if(!(o=xe(Fe(r.id),a)))return;r.id=o,c.hashType=a}c.id=r.id}null!=r.authState&&(c.authState=r.authState),r.dataSource&&(_._currentCustomerIDs.dataSources=_._currentCustomerIDs.dataSources||{},s=r.dataSource,_._currentCustomerIDs.dataSources[s]=c),_._currentCustomerIDs.nameSpaces[n]=c}var d=_.getCustomerIDs(!0),u=_._getField("MCCIDH"),g="";for(l in u||(u="0"),d){var f=d[l];if(!D.isObjectEmpty(f))for(n in f)B(n)&&(g+=(g?"|":"")+n+"|"+((r=f[n]).id?r.id:"")+(r.authState?r.authState:""))}_._newCustomerIDsHash=String(_._hash(g)),_._newCustomerIDsHash!==u&&(_._customerIDsHashChanged=!0,_._mapCustomerIDs(i))}},_.getCustomerIDs=function(e){_._readVisitor();var t,a,n={dataSources:{},nameSpaces:{}},i=_._currentCustomerIDs.dataSources;for(t in i)B(t)&&(a=i[t]).id&&(n.dataSources[t]||(n.dataSources[t]={}),n.dataSources[t].id=a.id,null!=a.authState?n.dataSources[t].authState=a.authState:n.dataSources[t].authState=A.AuthState.UNKNOWN,a.hashType&&(n.dataSources[t].hashType=a.hashType));var r=_._currentCustomerIDs.nameSpaces;for(t in r)B(t)&&(a=r[t]).id&&(n.nameSpaces[t]||(n.nameSpaces[t]={}),n.nameSpaces[t].id=a.id,null!=a.authState?n.nameSpaces[t].authState=a.authState:n.nameSpaces[t].authState=A.AuthState.UNKNOWN,a.hashType&&(n.nameSpaces[t].hashType=a.hashType));return e?n:n.dataSources},_.setAnalyticsVisitorID=function(e){_._setAnalyticsFields(e)},_.getAnalyticsVisitorID=function(e,t,a){if(!te.isTrackingServerPopulated()&&!a)return _._callCallback(e,[""]),"";var n="";if(a||(n=_.getMarketingCloudVisitorID((function(){_.getAnalyticsVisitorID(e,!0)}))),n||a){var i=a?_.marketingCloudServer:_.trackingServer,r="";_.loadSSL&&(a?_.marketingCloudServerSecure&&(i=_.marketingCloudServerSecure):_.trackingServerSecure&&(i=_.trackingServerSecure));var o={};if(i){var s="http"+(_.loadSSL?"s":"")+"://"+i+"/id",l=_.configs.cookieLifetime,c="d_visid_ver="+_.version+"&mcorgid="+encodeURIComponent(_.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(l?"&cl="+encodeURIComponent(l):"")+(_.idSyncDisable3rdPartySyncing||_.disableThirdPartyCookies?"&d_coppa=true":""),d=["s_c_il",_._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];r=s+"?"+c+"&callback=s_c_il%5B"+_._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=d}return o.url=r,_._getRemoteField(a?O:x,r,e,t,o)}return""},_.getAudienceManagerLocationHint=function(e,t){if(_.getMarketingCloudVisitorID((function(){_.getAudienceManagerLocationHint(e,!0)}))){var a=_._getField(x);if(!a&&te.isTrackingServerPopulated()&&(a=_.getAnalyticsVisitorID((function(){_.getAudienceManagerLocationHint(e,!0)}))),a||!te.isTrackingServerPopulated()){var n=_._getAudienceManagerURLData(),i=n.url
;return _._getRemoteField("MCAAMLH",i,e,t,n)}}return""},_.getLocationHint=_.getAudienceManagerLocationHint,_.getAudienceManagerBlob=function(e,t){if(_.getMarketingCloudVisitorID((function(){_.getAudienceManagerBlob(e,!0)}))){var a=_._getField(x);if(!a&&te.isTrackingServerPopulated()&&(a=_.getAnalyticsVisitorID((function(){_.getAudienceManagerBlob(e,!0)}))),a||!te.isTrackingServerPopulated()){var n=_._getAudienceManagerURLData(),i=n.url;return _._customerIDsHashChanged&&_._setFieldExpire(R,-1),_._getRemoteField(R,i,e,t,n)}}return""},_._supplementalDataIDCurrent="",_._supplementalDataIDCurrentConsumed={},_._supplementalDataIDLast="",_._supplementalDataIDLastConsumed={},_.getSupplementalDataID=function(e,t){_._supplementalDataIDCurrent||t||(_._supplementalDataIDCurrent=_._generateID(1));var a=_._supplementalDataIDCurrent;return _._supplementalDataIDLast&&!_._supplementalDataIDLastConsumed[e]?(a=_._supplementalDataIDLast,_._supplementalDataIDLastConsumed[e]=!0):a&&(_._supplementalDataIDCurrentConsumed[e]&&(_._supplementalDataIDLast=_._supplementalDataIDCurrent,_._supplementalDataIDLastConsumed=_._supplementalDataIDCurrentConsumed,_._supplementalDataIDCurrent=a=t?"":_._generateID(1),_._supplementalDataIDCurrentConsumed={}),a&&(_._supplementalDataIDCurrentConsumed[e]=!0)),a};var Z=!1;_._liberatedOptOut=null,_.getOptOut=function(e,t){var a=_._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;if(u())return _._getRemoteField("MCOPTOUT",n,e,t,a);if(_._registerCallback("liberatedOptOut",e),null!==_._liberatedOptOut)return _._callAllCallbacks("liberatedOptOut",[_._liberatedOptOut]),Z=!1,_._liberatedOptOut;if(Z)return null;Z=!0;var i="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),a.callback=[i],y[i]=function(e){if(e===Object(e)){var t,a,n=D.parseOptOut(e,t,j);t=n.optOut,a=1e3*n.d_ottl,_._liberatedOptOut=t,setTimeout((function(){_._liberatedOptOut=null}),a)}_._callAllCallbacks("liberatedOptOut",[t]),Z=!1},$.fireCORS(a),null},_.isOptedOut=function(e,t,a){t||(t=A.OptOut.GLOBAL);var n=_.getOptOut((function(a){var n=a===A.OptOut.GLOBAL||a.indexOf(t)>=0;_._callCallback(e,[n])}),a);return n?n===A.OptOut.GLOBAL||n.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};_.onReceiveEcid=function(e){if(u())return _.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},_._fields=null,_._fieldsExpired=null,_._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},_._generateID=W,_._generateLocalMID=function(){var e=_._generateID(0);return ie.isClientSideMarketingCloudVisitorID=!0,e},_._callbackList=null,_._callCallback=function(e,t){try{"function"==typeof e?e.apply(I,t):e[1].apply(e[0],t)}catch(e){}},_._registerCallback=function(e,t){t&&(null==_._callbackList&&(_._callbackList={}),null==_._callbackList[e]&&(_._callbackList[e]=[]),_._callbackList[e].push(t))},_._callAllCallbacks=function(e,t){if(null!=_._callbackList){var a=_._callbackList[e];if(a)for(;a.length>0;)_._callCallback(a.shift(),t)}},_._addQuerystringParam=function(e,t,a,n){var i=encodeURIComponent(t)+"="+encodeURIComponent(a),r=te.parseHash(e),o=te.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+i+r;var s=o.split("?"),l=s[0]+"?",c=s[1];return l+te.addQueryParamAtLocation(c,i,n)+r},_._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},_._parseAdobeMcFromUrl=r(Y.ADOBE_MC),_._parseAdobeMcSdidFromUrl=r(Y.ADOBE_MC_SDID),_._attemptToPopulateSdidFromUrl=function(e){var a=_._parseAdobeMcSdidFromUrl(e),n=1e9;a&&a.TS&&(n=te.getTimestampInSeconds()-a.TS),a&&a.SDID&&a.MCORGID===t&&n<_.sdidParamExpiry&&(_._supplementalDataIDCurrent=a.SDID,_._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},_._attemptToPopulateIdsFromUrl=function(){var e=_._parseAdobeMcFromUrl();if(e&&e.TS){var a=te.getTimestampInSeconds()-e.TS;if(Math.floor(a/60)>Y.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},_._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[_.marketingCloudOrgID]){var t=e[_.marketingCloudOrgID];!function(e){te.isObject(e)&&_.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},_._timeout=null,_._loadData=function(e,t,a,n){t=_._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=_._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=_._addQuerystringParam(n.corsUrl,"d_fieldgroup",e,1),ie.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===$.corsMetadata.corsType&&$.fireCORS(n,a,e)},_._clearTimeout=function(e){null!=_._timeout&&_._timeout[e]&&(clearTimeout(_._timeout[e]),_._timeout[e]=0)},_._settingsDigest=0,_._getSettingsDigest=function(){if(!_._settingsDigest){var e=_.version;_.audienceManagerServer&&(e+="|"+_.audienceManagerServer),_.audienceManagerServerSecure&&(e+="|"+_.audienceManagerServerSecure),_._settingsDigest=_._hash(e)}return _._settingsDigest},_._readVisitorDone=!1,_._readVisitor=function(){if(!_._readVisitorDone){_._readVisitorDone=!0;var e,t,a,n,i,r,o=_._getSettingsDigest(),s=!1,l=_.cookieRead(_.cookieName),c=new Date;if(l||E||_.discardTrackingServerECID||(l=_.cookieRead(Y.FIRST_PARTY_SERVER_COOKIE)),null==_._fields&&(_._fields={}),l&&"T"!==l)for((l=l.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)a=(t=l[e].split("-"))[0],n=l[e+1],t.length>1?(i=parseInt(t[1],10),r=t[1].indexOf("s")>0):(i=0,r=!1),s&&("MCCIDH"===a&&(n=""),i>0&&(i=c.getTime()/1e3-60)),a&&n&&(_._setField(a,n,1),i>0&&(_._fields["expire"+a]=i+(r?"s":""),(c.getTime()>=1e3*i||r&&!_.cookieRead(_.sessionCookieName))&&(_._fieldsExpired||(_._fieldsExpired={}),_._fieldsExpired[a]=!0)));!_._getField(x)&&te.isTrackingServerPopulated()&&(l=_.cookieRead("s_vi"))&&(l=l.split("|")).length>1&&l[0].indexOf("v1")>=0&&((e=(n=l[1]).indexOf("["))>=0&&(n=n.substring(0,e)),n&&n.match(Y.VALID_VISITOR_ID_REGEX)&&_._setField(x,n))}},_._appendVersionTo=function(e){var t="vVersion|"+_.version,a=e?_._getCookieVersion(e):null;return a?z.areVersionsDifferent(a,_.version)&&(e=e.replace(Y.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},_._writeVisitor=function(){var e,t,a=_._getSettingsDigest();for(e in _._fields)B(e)&&_._fields[e]&&"expire"!==e.substring(0,6)&&(t=_._fields[e],a+=(a?"|":"")+e+(_._fields["expire"+e]?"-"+_._fields["expire"+e]:"")+"|"+t);a=_._appendVersionTo(a),_.cookieWrite(_.cookieName,a,1)},_._getField=function(e,t){return null==_._fields||!t&&_._fieldsExpired&&_._fieldsExpired[e]?null:_._fields[e]},_._setField=function(e,t,a){null==_._fields&&(_._fields={}),_._fields[e]=t,a||_._writeVisitor()},_._getFieldList=function(e,t){var a=_._getField(e,t);return a?a.split("*"):null},_._setFieldList=function(e,t,a){_._setField(e,t?t.join("*"):"",a)},_._getFieldMap=function(e,t){var a=_._getFieldList(e,t);if(a){var n,i={};for(n=0;n<a.length;n+=2)i[a[n]]=a[n+1];return i}return null},_._setFieldMap=function(e,t,a){var n,i=null;if(t)for(n in i=[],t)B(n)&&(i.push(n),i.push(t[n]));_._setFieldList(e,i,a)},_._setFieldExpire=function(e,t,a){var n=new Date;n.setTime(n.getTime()+1e3*t),null==_._fields&&(_._fields={}),_._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(a?"s":""),t<0?(_._fieldsExpired||(_._fieldsExpired={}),_._fieldsExpired[e]=!0):_._fieldsExpired&&(_._fieldsExpired[e]=!1),a&&(_.cookieRead(_.sessionCookieName)||_.cookieWrite(_.sessionCookieName,"1"))},_._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=j),t&&(t===j||t.match(Y.VALID_VISITOR_ID_REGEX))||(t="")),t},_._setFields=function(t,a){if(_._clearTimeout(t),null!=_._loading&&(_._loading[t]=!1),ie.fieldGroupObj[t]&&ie.setState(t,!1),t===w){!0!==ie.isClientSideMarketingCloudVisitorID&&(ie.isClientSideMarketingCloudVisitorID=!1);var n=_._getField(O);if(!n||_.overwriteCrossDomainMCIDAndAID){if(!(n="object"===e(a)&&a.mid?a.mid:_._findVisitorID(a))){if(_._use1stPartyMarketingCloudServer&&!_.tried1stPartyMarketingCloudServer)return _.tried1stPartyMarketingCloudServer=!0,void _.getAnalyticsVisitorID(null,!1,!0);n=_._generateLocalMID()}_._setField(O,n)}n&&n!==j||(n=""),"object"===e(a)&&((a.d_region||a.dcs_region||a.d_blob||a.blob)&&_._setFields(F,a),_._use1stPartyMarketingCloudServer&&a.mid&&_._setFields(M,{id:a.id})),_._callAllCallbacks(O,[n])}if(t===F&&"object"===e(a)){var i=604800;null!=a.id_sync_ttl&&a.id_sync_ttl&&(i=parseInt(a.id_sync_ttl,10));var r=ae.getRegionAndCheckIfChanged(a,i);_._callAllCallbacks("MCAAMLH",[r]);var o=_._getField(R);(a.d_blob||a.blob)&&((o=a.d_blob)||(o=a.blob),_._setFieldExpire(R,i),_._setField(R,o)),o||(o=""),_._callAllCallbacks(R,[o]),!a.error_msg&&_._newCustomerIDsHash&&_._setField("MCCIDH",_._newCustomerIDsHash)}if(t===M){var s=_._getField(x);s&&!_.overwriteCrossDomainMCIDAndAID||((s=_._findVisitorID(a))?s!==j&&_._setFieldExpire(R,-1):s=j,_._setField(x,s)),s&&s!==j||(s=""),_._callAllCallbacks(x,[s])}if(_.idSyncDisableSyncs||_.disableIdSyncs)ae.idCallNotProcesssed=!0;else{ae.idCallNotProcesssed=!1;var l={};l.ibs=a.ibs,l.subdomain=a.subdomain,ae.processIDCallData(l)}if(a===Object(a)){var c,d;u()&&_.isAllowed()&&(c=_._getField("MCOPTOUT"));var g=D.parseOptOut(a,c,j);c=g.optOut,d=g.d_ottl,_._setFieldExpire("MCOPTOUT",d,!0),_._setField("MCOPTOUT",c),_._callAllCallbacks("MCOPTOUT",[c])}},_._loading=null,_._getRemoteField=function(e,t,a,n,i){var r,o="",s=te.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(u()&&_.isAllowed())if(_._readVisitor(),!(!(o=_._getField(e,!0===l[e]))||_._fieldsExpired&&_._fieldsExpired[e])||_.disableThirdPartyCalls&&!s)o||(e===O?(_._registerCallback(e,a),o=_._generateLocalMID(),_.setMarketingCloudVisitorID(o)):e===x?(_._registerCallback(e,a),o="",_.setAnalyticsVisitorID(o)):(o="",n=!0));else if(e===O||"MCOPTOUT"===e?r=w:"MCAAMLH"===e||e===R?r=F:e===x&&(r=M),r)return!t||null!=_._loading&&_._loading[r]||(null==_._loading&&(_._loading={}),_._loading[r]=!0,r===F&&(S=0),_._loadData(r,t,(function(t){if(!_._getField(e)){t&&ie.setState(r,!0);var a="";e===O?a=_._generateLocalMID():r===F&&(a={error_msg:"timeout"}),_._setFields(r,a)}}),i)),_._registerCallback(e,a),o||(t||_._setFields(r,{id:j}),"");return e!==O&&e!==x||o!==j||(o="",n=!0),a&&n&&_._callCallback(a,[o]),e===O&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){_._callCallback(e,[o])})),ee.subscribed=!1,ee.callbacks.length=0),o},_._setMarketingCloudFields=function(e){_._readVisitor(),_._setFields(w,e)},_._mapCustomerIDs=function(e){_.getAudienceManagerBlob(e,!0)},_._setAnalyticsFields=function(e){_._readVisitor(),_._setFields(M,e)},_._setAudienceManagerFields=function(e){_._readVisitor(),_._setFields(F,e)},_._getAudienceManagerURLData=function(e){var t=_.audienceManagerServer,a="",n=_._getField(O),i=_._getField(R,!0),r=_._getField(x),o=r&&r!==j?"&d_cid_ic=AVID%01"+encodeURIComponent(r):"";if(_.loadSSL&&_.audienceManagerServerSecure&&(t=_.audienceManagerServerSecure),t){var s,l,c,d=_.getCustomerIDs(!0);if(d)for(l in d){var u=d[l];if(!D.isObjectEmpty(u)){var g="nameSpaces"===l?"&d_cid_ns=":"&d_cid_ic=";for(s in u)B(s)&&(c=u[s],o+=g+encodeURIComponent(s)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""))}}e||(e="_setAudienceManagerFields");var f="http"+(_.loadSSL?"s":"")+"://"+t+"/id",p="d_visid_ver="+_.version+(C&&-1!==f.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+C:"")+(S&&-1!==f.indexOf("demdex.net")?"&d_cf="+S:"")+"&d_rtbd=json&d_ver=2"+(!n&&_._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(_.marketingCloudOrgID)+"&d_nsid="+(_.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(_.idSyncDisable3rdPartySyncing||_.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===V?"&d_coop_safe=1":!1===V?"&d_coop_unsafe=1":"")+(i?"&d_blob="+encodeURIComponent(i):"")+o,m=["s_c_il",_._in,e];return{url:a=f+"?"+p+"&d_cb=s_c_il%5B"+_._in+"%5D."+e,corsUrl:f+"?"+p,callback:m}}return{url:a}},_.appendVisitorIDsTo=function(e){try{var t=[[O,_._getField(O)],[x,_._getField(x)],["MCORGID",_.marketingCloudOrgID]];return _._addQuerystringParam(e,Y.ADOBE_MC,l(t))}catch(t){return e}},_.appendSupplementalDataIDTo=function(e,t){if(!(t=t||_.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var a=l([["SDID",t],["MCORGID",_.marketingCloudOrgID]]);return _._addQuerystringParam(e,Y.ADOBE_MC_SDID,a)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var n=e.split("&");return a=null!=a?a:n.length,n.splice(a,0,t),n.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===x&&(t||(t=_.trackingServer),a||(a=_.trackingServerSecure),!("string"!=typeof(n=_.loadSSL?a:t)||!n.length)&&n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0);var n},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){H.remove(e,{domain:_.cookieDomain})},isTrackingServerPopulated:function(){return!!_.trackingServer||!!_.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};_._helpers=te;var ae=K(_,A);_._destinationPublishing=ae,_.timeoutMetricsLog=[];var ne,ie={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case w:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case M:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case F:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};_.isClientSideMarketingCloudVisitorID=function(){return ie.isClientSideMarketingCloudVisitorID},_.MCIDCallTimedOut=function(){return ie.MCIDCallTimedOut},_.AnalyticsIDCallTimedOut=function(){return ie.AnalyticsIDCallTimedOut},_.AAMIDCallTimedOut=function(){return ie.AAMIDCallTimedOut},_.idSyncGetOnPageSyncInfo=function(){return _._readVisitor(),_._getField("MCSYNCSOP")},_.idSyncByURL=function(e){if(!_.isOptedOut()){var t=c(e||{});if(t.error)return t.error;var a,n,i=e.url,r=encodeURIComponent,o=ae;return i=i.replace(/^https:/,"").replace(/^http:/,""),a=D.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",r(e.dpid),"img",r(i),t.ttl,"",a],o.addMessage(n.join("|")),o.requestToProcess(),"Successfully queued"}},_.idSyncByDataSource=function(e){if(!_.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,_.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ne(_,ae),_._getCookieVersion=function(e){e=e||_.cookieRead(_.cookieName);var t=Y.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},_._resetAmcvCookie=function(e){var t=_._getCookieVersion();t&&!z.isLessThan(t,e)||_.removeCookie(_.cookieName)},_.setAsCoopSafe=function(){V=!0},_.setAsCoopUnsafe=function(){V=!1},function(){if(_.configs=Object.create(null),te.isObject(a))for(var e in a)B(e)&&(_[e]=a[e],_.configs[e]=a[e])}(),g(),_.init=function(){d()&&(b.optIn.fetchPermissions(h,!0),!b.optIn.isApproved(b.optIn.Categories.ECID))||ne||(ne=!0,function(){if(te.isObject(a)){_.idSyncContainerID=_.idSyncContainerID||0,V="boolean"==typeof _.isCoopSafe?_.isCoopSafe:te.parseBoolean(_.isCoopSafe),_.resetBeforeVersion&&_._resetAmcvCookie(_.resetBeforeVersion),_._attemptToPopulateIdsFromUrl(),_._attemptToPopulateSdidFromUrl(),_._readVisitor();var e=_._getField(L),t=Math.ceil((new Date).getTime()/Y.MILLIS_PER_DAY);_.idSyncDisableSyncs||_.disableIdSyncs||!ae.canMakeSyncIDCall(e,t)||(_._setFieldExpire(R,-1),_._setField(L,t)),_.getMarketingCloudVisitorID(),_.getAudienceManagerLocationHint(),_.getAudienceManagerBlob(),_._mergeServerState(_.serverState)}else _._attemptToPopulateIdsFromUrl(),_._attemptToPopulateSdidFromUrl()}(),function(){if(!_.idSyncDisableSyncs&&!_.disableIdSyncs){ae.checkDPIframeSrc();var e=function(){var e=ae;e.readyToAttachIframe()&&e.attachIframe()};I.addEventListener("load",(function(){A.windowLoaded=!0,e()}));try{J.receiveMessage((function(e){ae.receiveMessage(e.data)}),ae.iframeHost)}catch(e){}}}(),_.whitelistIframeDomains&&Y.POST_MESSAGE_ENABLED&&(_.whitelistIframeDomains=_.whitelistIframeDomains instanceof Array?_.whitelistIframeDomains:[_.whitelistIframeDomains],_.whitelistIframeDomains.forEach((function(e){var a=new N(t,e),n=U(_,a);J.receiveMessage(n,e)}))))}};je.config=Z,y.Visitor=je;var Be=je,Ue=function(e){if(D.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&Z.getConfigs()[t]})).reduce((function(t,a){var n=Z.normalizeConfig(a,e[a]),i=D.normalizeBoolean(n);return t[a]=i,t}),Object.create(null))},Ge=Le.OptIn,He=Le.IabPlugin;Be.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var a=function(){var t=y.s_c_il;if(t)for(var a=0;a<t.length;a++){var n=t[a];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===e)return n}}();if(a)return a;var n=Ue(t)||{};!function(e){y.adobe.optIn=y.adobe.optIn||function(){var t=D.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),a=e.optInCookieDomain||e.cookieDomain;a=(a=a||q())===window.location.hostname?"":a,t.optInCookieDomain=a;var n=new Ge(t,{cookies:H});if(t.isIabContext&&t.doesOptInApply){var i=new He;n.registerPlugin(i)}return n}()}(n||{});var i=e.split("").reverse().join(""),r=new Be(e,null,i);n.cookieDomain&&(r.cookieDomain=n.cookieDomain),n.sameSiteCookie&&n.secureCookie&&(r.configs={sameSiteCookie:n.sameSiteCookie,secureCookie:n.secureCookie}),y.s_c_il.splice(--y.s_c_in,1);var o=D.getIeVersion();if("number"==typeof o&&o<10)return r._helpers.replaceMethodsWithFunction(r,(function(){}));var s=function(){try{return y.self!==y.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(r)||D.isFirefox()&&!n.whitelistParentDomain)&&y.parent?new x(e,n,r,y.parent):new Be(e,n,i);return r=null,s.init(),s},function(){function e(){Be.windowLoaded=!0}y.addEventListener?y.addEventListener("load",e):y.attachEvent&&y.attachEvent("onload",e),Be.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP171e731c9ba34f1c950c36d26e3efd61/",settings:{orgId:"2F2827E253DAF0E10A490D4E@AdobeOrg",customSetup:{source:function(){var e={};_satellite.setVar("tracker",e)}},libraryCode:{type:"managed",accounts:{staging:["fifadev"],production:["fifaprod"],development:["fifadev"]},useActivityMap:!0,scopeTrackerGlobally:!1},trackerProperties:{currencyCode:"USD",trackingServer:"metrics.fifa.com",trackInlineStats:!0,visitorNamespace:"fifa",trackDownloadLinks:!1,trackExternalLinks:!1,trackingServerSecure:"smetrics.fifa.com"}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,n){"use strict";var i=a("../sharedModules/getTracker"),r=a("../helpers/applyTrackerVariables");e.exports=function(e,t){return i().then((function(a){n.logger.info("Set variables on the tracker."),r(a,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,a)}),(function(e){n.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,n){"use strict";var i,r=a("@adobe/reactor-cookie"),o=a("@adobe/reactor-promise"),s=a("@adobe/reactor-window"),l=a("../helpers/settingsHelper"),c=a("../helpers/augmenters"),d=a("../helpers/applyTrackerVariables"),u=a("../helpers/loadLibrary"),g=a("../helpers/generateVersion")(n.buildInfo.turbineBuildDate),f="beforeSettings",p=n.getSharedModule("adobe-mcid","mcid-instance"),m=function(e){return!e||"true"===r.get(e)},h=function(e){return o.all(c.map((function(t){var a;try{a=t(e)}catch(e){setTimeout((function(){throw e}))}return o.resolve(a)}))).then((function(){return e}))},v=function(e){return p&&(n.logger.info("Setting MCID instance on the tracker."),e.visitor=p),e},y=function(e){return n.logger.info('Setting version on tracker: "'+g+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=g:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+g&&(e.version+="-"+g),e},_=function(e,t,a){return t.loadPhase===f&&t.source&&(n.logger.info("Calling custom script before settings."),t.source.call(s,a)),d(a,e||{}),t.loadPhase!==f&&t.source&&(n.logger.info("Calling custom script after settings."),t.source.call(s,a)),a},b=function(e,t){return l.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),n.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},k=(i=n.getExtensionSettings(),m(i.trackingCookieName)?u(i).then(h).then(v).then(y).then(_.bind(null,i.trackerProperties,i.customSetup||{})).then(b.bind(null,i)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return k}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var n=a("../helpers/augmenters");e.exports=function(e){n.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-query-string"),r=a("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,l=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),c=function(e,t,a){return a.indexOf(e)===t},d=function(e,t,a){var n=Object.keys(t).filter(l.test.bind(l));return a&&n.push("events"),(n=n.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&c(e,t,n)})).join(",")},u=function(e,t){var a=t.map((function(e){return e.name}));return(a=a.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&c(e,t,a)})).join(",")},g=function(e,t,a){e[t]=a[t].join(",")},f=function(e,t,a){var n=a.dynamicVariablePrefix||"D=";a[t].forEach((function(t){var a;if("value"===t.type)a=t.value;else{var i=o.exec(t.value);if(i)a=n+"v"+i[1];else{var r=s.exec(t.value);r&&(a=n+"c"+r[1])}}e[t.name]=a}))},p={linkDownloadFileTypes:g,linkExternalFilters:g,linkInternalFilters:g,hierarchies:function(e,t,a){a[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:f,eVars:f,campaign:function(e,t,a){if("queryParam"===a[t].type){var n=i.parse(r.location.search);e[t]=n[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var n=a[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=n.join(",")}};e.exports=function(e,t){var a={};t=t||{},Object.keys(t).forEach((function(e){var n=p[e],i=t[e];n?n(a,e,t):a[e]=i})),a.events&&e.events&&e.events.length>0&&(a.events=e.events+","+a.events);var i=t&&t.events&&t.events.length>0,r=d(e,a,i);r&&(a.linkTrackVars=r);var o=u(e,t.events||[]);o&&(a.linkTrackEvents=o),n.logger.info('Applying the following properties on tracker: "'+JSON.stringify(a)+'".'),Object.keys(a).forEach((function(t){e[t]=a[t]}))}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-window"),r={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[n.environment.stage]&&(t=e[n.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&i&&i._satellite&&i._satellite.company&&i._satellite.company.orgId&&(t=!0),t}};e.exports=r}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-window"),o=a("@adobe/reactor-promise"),s=a("./settingsHelper"),l=a("./pollHelper"),c=function(e,t){if(!r.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+r.AppMeasurement);n.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=r.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(n.logger.info("Setting the tracker as window.s"),r.s=a),a},d=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===r.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var a={namespace:r._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=a,t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return o.all(d(e).map((function(e){return n.logger.info("Loading script: "+e),i(e)})))},g=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=s.getReportSuites(e.libraryCode.accounts);n.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else n.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},f=function(e){if(r[e])return n.logger.info('Found tracker located at: "'+e+'".'),r[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var a=s.getReportSuites(e.libraryCode.accounts);return t.then(c.bind(null,e,a));case s.LIB_TYPES.PREINSTALLED:return t.then(l.poll.bind(null,r,e.libraryCode.trackerVariableName)).then(g.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(f.bind(null,e.libraryCode.trackerVariableName)).then(g.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},n=function(e){return e.substr(e.length-1)},i=function(e){return Math.floor(e.getUTCHours()/t)},r=function(e){var t=(e.getUTCMonth()+1+12*i(e)).toString(36);return n(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+r(t)+a(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-promise"),r=40,o=250,s=function(e,t,a){n.logger.info('Found property located at: "'+t+'"].'),e(a)},l=function(e,t){return new i((function(a,n){if(e[t])return s(a,t,e[t]);var i=1,l=setInterval((function(){e[t]&&(s(a,t,e[t]),clearInterval(l)),i>=r&&(clearInterval(l),n(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),i++}),o)}))};e.exports={poll:function(e,t){return n.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),l(e,t)}}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),i=a("@adobe/reactor-query-string");e.exports=function(e){var t=i.parse(n.location.search);if(!e.caseInsensitive)return t[e.name];for(var a=e.name.toLowerCase(),r=Object.keys(t),o=0;o<r.length;o++){var s=r[o];if(s.toLowerCase()===a)return t[s]}}}},"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){var a=e.elementProperty;return"text"===a?t.innerText||t.textContent:a in t?t[a]:t.getAttribute?t.getAttribute(a):void 0}}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),i=a("@adobe/reactor-window"),r=a("./helpers/weakMap"),o=a("./helpers/debounce"),s=a("./helpers/enableWeakMapDefaultValue"),l=a("./helpers/matchesSelector"),c=a("./helpers/matchesProperties"),d=a("../helpers/stringAndNumberUtils").castToNumberIfString,u=3e3,g=200,f={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},p=-1!==i.navigator.appVersion.indexOf("MSIE 10"),m=s(new r,(function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}})),h={},v=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){}var a=n.documentElement,r=n.body,o=a.clientTop||r.clientTop||0,s=a.clientLeft||r.clientLeft||0,l=i.pageYOffset||a.scrollTop||r.scrollTop,c=i.pageXOffset||a.scrollLeft||r.scrollLeft;return{top:t.top+l-o,left:t.left+c-s}},y=function(){var e=i.innerHeight,t=n.compatMode;return t&&(e="CSS1Compat"===t?n.documentElement.clientHeight:n.body.clientHeight),e},_=function(){return n.documentElement.scrollTop?n.documentElement.scrollTop:n.body.scrollTop},b=function(e,t,a){var i=v(e).top,r=e.offsetHeight;return n.body.contains(e)&&!(a>i+r||a+t<i)},k=function(e){var t=m.get(e);t.inViewport||(t.inViewport=!0,Object.keys(h).forEach((function(a){l(e,a)&&h[a].forEach((function(a){if(c(e,a.settings.elementProperties)&&-1===t.completedListeners.indexOf(a)){var n=function(){(a.settings.frequency||f.FIRST_ENTRY)===f.FIRST_ENTRY&&t.completedListeners.push(a),a.trigger({element:e,target:e,delay:a.settings.delay})};if(a.settings.delay){var i=setTimeout((function(){b(e,y(),_())&&n()}),a.settings.delay);t.timeoutIds.push(i)}else n()}}))})))},C=function(e){var t=m.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},S=o((function(){var e=Object.keys(h);if(e.length)for(var t=n.querySelectorAll(e.join(",")),a=y(),i=_(),r=0;r<t.length;r++){var o=t[r];b(o,a,i)?k(o):C(o)}}),g),P=function(){S(),setInterval(S,u),i.addEventListener("resize",S),i.addEventListener("scroll",S)};p?"complete"===n.readyState?P():i.addEventListener("load",P):"loading"!==n.readyState?P():n.addEventListener("DOMContentLoaded",P),e.exports=function(e,t){var a=h[e.elementSelector];a||(a=h[e.elementSelector]=[]),e.delay=d(e.delay),a.push({settings:e,trigger:t})}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,n){"use strict";var i={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=i[e];if(a){var r={identifier:e,detail:t};a.forEach((function(e){e(r)}));var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&o.push(t),n.logger.log.apply(n.logger,o)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=i[e.identifier];a||(a=i[e.identifier]=[]),a.push(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",
displayName:"Custom Code",script:function(e,t,a,n){"use strict";var i,r,o,s,l=a("@adobe/reactor-document"),c=a("@adobe/reactor-promise"),d=a("./helpers/decorateCode"),u=a("./helpers/loadCodeSequentially"),g=a("../../../node_modules/postscribe/dist/postscribe"),f=a("./helpers/unescapeHtmlCode"),p=a("../helpers/findPageScript").getTurbine,m=(r=function(e){g(l.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return i&&"script"===t&&(e.attrs.nonce=i),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=f(e.attrs[t])})),e.src&&(e.src=f(e.src))),e},error:function(e){n.logger.error(e.msg)}})},o=[],s=function(){if(l.body)for(;o.length;)r(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),h=function(){if(l.currentScript)return l.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var a;i=n.getExtensionSettings().cspNonce;var r={settings:e,event:t},o=r.settings.source;if(o)return r.settings.isExternal?u(o).then((function(e){return e?(a=d(r,e),m(a.code),a.promise):c.resolve()})):(a=d(r,o),h||"loading"!==l.readyState?m(a.code):l.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?l.write(a.code):m(a.code),a.promise)}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,a,n){"use strict";var i={},r={};setInterval((function(){Object.keys(i).forEach((function(e){var t=JSON.stringify(n.getDataElementValue(e));if(t!==r[e]){var a={dataElementName:e};i[e].forEach((function(e){e(a)})),r[e]=t}}))}),1e3),e.exports=function(e,t){var a=e.name,o=i[a];o||(o=i[a]=[],r[a]=JSON.stringify(n.getDataElementValue(a))),o.push(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,a){"use strict";var n=a("./helpers/debounce"),i=a("./helpers/once"),r=window.history,o=window.location.href,s=[],l=function(e,t,a){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return a.apply(null,arguments),t}},c=n((function(){var e=window.location.href;o!==e&&(s.forEach((function(e){e()})),o=e)}),0),d=i((function(){r&&(r.pushState&&l(r,"pushState",c),r.replaceState&&l(r,"replaceState",c)),window.addEventListener("popstate",c),window.addEventListener("hashchange",c)}));e.exports=function(e,t){d(),s.push(t)}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window").WeakMap;if(void 0===n){var i=Object.defineProperty,r=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:i(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,a){var n=null;return function(){var i=a||this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(e,t){var a=e.get;return e.get=function(n){return e.has(n)||e.set(n,t()),a.apply(this,arguments)},e}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,n){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var n=a("./../../helpers/textMatch"),i=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var a=i(e,t.name),r=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return n(a,r)}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},a=function(e){return"string"==typeof e||e instanceof String},n=function(e){return t(e)?String(e):e},i=function(e){return a(e)?Number(e):e};e.exports={isNumber:t,isString:a,castToStringIfNumber:n,castToNumberIfString:i}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var n=a("./decorators/decorateGlobalJavaScriptCode"),i=a("./decorators/decorateNonGlobalJavaScriptCode"),r={javascript:function(e,t){return e.settings.global?n(e,t):i(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return r[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),i=a("./getSourceByUrl"),r=n.resolve();e.exports=function(e){var t=new n((function(t){var a=i(e);n.all([a,r]).then((function(e){var a=e[0];t(a)}))}));return r=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a,n;a=this,n=function(){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=n(a(1));e.exports=i.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(){}function o(){var e=p.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,a){function n(e){e=a.beforeWrite(e),m.write(e),a.afterWrite(e)}(m=new d.default(e,a)).id=f++,m.name=a.name||m.id,l.streams[m.name]=m;var i=e.ownerDocument,s={close:i.close,open:i.open,write:i.write,writeln:i.writeln};c(i,{close:r,open:r,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join("")+"\n")}});var u=m.win.onerror||r;return m.win.onerror=function(e,t,n){a.error({msg:e+" - "+t+": "+n}),u.apply(m.win,[e,t,n])},m.write(t,(function(){c(i,s),m.win.onerror=u,a.done(),m=null,o()})),m}function l(e,t,a){if(u.isFunction(a))a={done:a};else if("clear"===a)return p=[],m=null,void(f=0);a=u.defaults(a,g);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=r}},a.beforeEnqueue(n),p.push(n),m||o(),e.postscribe}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var d=i(a(2)),u=n(a(4)),g={afterAsync:r,afterDequeue:r,afterStreamStart:r,afterWrite:r,autoFix:!0,beforeEnqueue:r,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:r,error:function(e){throw new Error(e.msg)},releaseAsync:!1},f=0,p=[],m=null;c(l,{streams:{},queue:p,WriteStream:d.default})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var a=g+t,n=e.getAttribute(a);return d.existy(n)?String(n):n}function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=g+t;d.existy(a)&&""!==a?e.setAttribute(n,a):e.removeAttribute(n)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=i(a(3)),d=n(a(4)),u=!1,g="data-ps-",f="ps-style",p="ps-script",m=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.root=t,this.options=a,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new c.default("",{autoFix:a.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,i=[];(t=this.parser.readToken())&&!(a=d.isScript(t))&&!(n=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);i.length>0&&this._writeStaticTokens(i),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],n=[],i=[],r=e.length,o=0;o<r;o++){var s=e[o],l=s.toString();if(a.push(l),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;n.push(l.replace(/(\/?>)/," "+g+"id="+c+" $1")),s.attrs.id!==p&&s.attrs.id!==f&&i.push("atomicTag"===s.type?"":"<"+s.tagName+" "+g+"proxyof="+c+(s.unary?" />":">"))}}else n.push(l),i.push("endTag"===s.type?l:"")}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:i.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!o(e,"proxyof")){a&&(this.actuals[o(e,"id")]=e,s(e,"id"));var n=e.parentNode&&o(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,f),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),i=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?i:function(){t(),i()}));try{this._insertCursor(a,p),a.src&&!n||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function a(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){a(),null!=t&&t(),t=null}function i(e){a(),o(e),null!=t&&t(),t=null}function r(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;r(e,"load"),r(e,"error"),l(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){i({msg:"onload handler failed "+t+" @ "+e.src})}n()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void i({msg:"onerror handler failed "+t+" @ "+e.src})}i({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=m},function(e){var t;t=function(){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=n(a(1));e.exports=i.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(a(2)),s=i(a(3)),l=n(a(6)),c=a(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.stream=a;var i=!1,s={};for(var c in o)o.hasOwnProperty(c)&&(n.autoFix&&(s[c+"Fix"]=!0),i=i||s[c+"Fix"]);i?(this._readToken=(0,l.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,l.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var g in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,c.escapeQuotes)(e[a],null));return t},u.supports=o,o)o.hasOwnProperty(g)&&(u.browserHasFlaw=u.browserHasFlaw||!o[g]&&g)},function(e,t){"use strict";t.__esModule=!0;var a=!1,n=!1,i=window.document.createElement("div");try{var r="<P><I></P></I>";i.innerHTML=r,t.tagSoup=a=i.innerHTML!==r}catch(e){t.tagSoup=a=!1}try{i.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===i.childNodes.length}catch(e){t.selfClose=n=!1}i=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var t=e.indexOf("-->");if(t>=0)return new c.CommentToken(e.substr(4,t-1),t+3)}function i(e){var t=e.indexOf("<");return new c.CharsToken(t>=0?t:e.length)}function r(e){var t,a,n;if(-1!==e.indexOf(">")){var i=e.match(d.startTag);if(i){var r=(t={},a={},n=i[2],i[2].replace(d.attr,(function(e,i){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",a[arguments[5]]=!0):t[i]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(i)&&i||"":t[i]="",n=n.replace(e,"")})),{v:new c.StartTagToken(i[1],i[0].length,t,a,!!i[3],n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===r?"undefined":l(r)))return r.v}}}function o(e){var t=r(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new c.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new c.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=i,t.startTag=r,t.atomicTag=o,t.endTag=s;var c=a(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var i=a(5),r=(t.Token=function e(t,a){n(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=function(){function e(t,a){n(this,e),this.type="comment",this.length=a||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){n(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,a,i,r,o){n(this,e),this.type=t,this.length=i,this.text="",this.tagName=a,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){a+=" "+n;var r=e.attrs[n];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(a+='="'+(0,i.escapeQuotes)(r)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",null!=t&&(a+=t+"</"+e.tagName+">"),a},e}());t.StartTagToken=function(){function e(t,a,i,r,o,s){n(this,e),this.type="startTag",this.length=a,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return r.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,a,i,r,o){n(this,e),this.type="atomicTag",this.length=a,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return r.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,a){n(this,e),this.type="endTag",this.length=a,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function a(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function n(e,t){var n=e.stream,i=a(t());return e.stream=n,i}function i(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function r(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function s(){var t=n(e,o);t&&d[t.type]&&d[t.type](t)}var c=r(),d={startTag:function(a){var n=a.tagName;"TR"===n.toUpperCase()&&c.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&l.test(n)&&c.containsTagName(n)?c.lastTagNameEq(n)?i(e,c):(e.prepend("</"+a.tagName+">"),s()):a.unary||c.push(a)},endTag:function(a){c.last()?t.tagSoupFix&&!c.lastTagNameEq(a.tagName)?i(e,c):c.pop():t.tagSoupFix&&(o(),s())}};return function(){return s(),a(o())}}t.__esModule=!0,t.default=o;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function n(e){return"function"==typeof e}function i(e,t,a){var n=void 0,i=e&&e.length||0;for(n=0;n<i;n++)t.call(a,e[n],n)}function r(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function o(e,t){return e=e||{},r(t,(function(t,n){a(e[t])||(e[t]=n)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(a=[],i(e,(function(e){a.push(e)})),{v:a});if("object"===(void 0===t?"undefined":g(t)))return t.v}var a}function l(e){return e[e.length-1]}function c(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return c(e,"script")}function u(e){return c(e,"style")}t.__esModule=!0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=n,t.each=i,t.eachKey=r,t.defaults=o,t.toArray=s,t.last=l,t.isTag=c,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.postscribe=n():a.postscribe=n()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),i=function(e){for(var t=n.querySelectorAll("script"),a=0;a<t.length;a++){var i=t[a];if(e.test(i.src))return i}},r=function(){return i(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:r,byRegexPattern:i}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),i=0;e.exports=function(e,t){var a="_runScript"+ ++i,r=new n((function(t,i){_satellite[a]=function(r){delete _satellite[a],new n((function(t){t(r.call(e.event.element,e.event,e.event.target,n))})).then(t,i)}}));return{code:'<script>_satellite["'+a+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:r}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-promise"),r=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},l=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},c=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return c(e)&&(t=n.replaceTokens(t,e.event)),s(t)?(a=new i((function(e,t){o[String(r)]={resolve:e,reject:t}})),t=l(t,r),r+=1):a=i.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),i=a("@adobe/reactor-promise"),r=a("../../helpers/findPageScript").byRegexPattern,o={},s={},l=function(e){return s[e]||(s[e]=n(e)),s[e]};_satellite.__registerScript=function(e,t){var a;if(document.currentScript)a=document.currentScript.getAttribute("src");else{var n=new RegExp(".*"+e+".*");a=r(n).getAttribute("src")}o[a]=t},e.exports=function(e){return o[e]?i.resolve(o[e]):new i((function(t){l(e).then((function(){t(o[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),i=a("@adobe/reactor-document"),r=-1!==n.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",l="PAGE_BOTTOM",c=[l,s,o],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};c.forEach((function(e){u[e]=[]}));var g=function(e,t){c.slice(0,p(e)+1).forEach((function(e){m(t,e)}))},f=function(){return"complete"===i.readyState?o:"interactive"===i.readyState?r?null:s:void 0},p=function(e){return c.indexOf(e)},m=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var a=t.trigger,n=t.syntheticEventFn;a(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=g.bind(null,l),i.addEventListener("DOMContentLoaded",g.bind(null,s),!0),n.addEventListener("load",g.bind(null,o),!0),n.setTimeout((function(){var e=f();e&&g(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[l].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,i)})},registerWindowLoadedTrigger:function(e){u[o].push({trigger:e,syntheticEventFn:d.bind(null,n)})}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var a;return function(){return e&&(a=e.apply(t||this,arguments),e=null),a}}}}}}},company:{orgId:"2F2827E253DAF0E10A490D4E@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"FIFA.com Production",settings:{domains:["azurewebsites.net","fifa.com","mediacells.com","secutix.com","ethlete.io","cxm-dev-we-aps-001-fifaplus.azurewebsites.net","fifa.powerappsportals.com","keteacher.com","fifadigitalskills.org","fifafoundation.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PR36b1fc2a73b94a60be9ac316627bdbb9"},rules:[{id:"RL048c0dd51d18496a921d9ea8bac76e61",name:"Asset InView 2",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:"[data-asset]"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},t=e.logging;return e.AnaPage&&(/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|worldcup\/)$/.test([location.hostname,location.pathname].join(""))||_satellite.getVar("McPages")||_satellite.getVar("InsideFifaPages"))?(t&&console.log("#### Asset InView Enabled"),!0):(t&&console.log("#### Asset InView Disabled"),!1)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(){var e=!1;y(v.eElement)?(r&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView - element is in view for ",v.eTimeInView),v.eInView=!0,v.eTimeInView++,v.eTimeInView>m&&(e=!0)):(v.eInView=!1,v.eTimeInView=0),e&&(r&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView - validated, add to cookie and clear timer"),e=!1,clearInterval(l),n())}function n(){var e=0,a=0;for(var n in localStorage)/^com.adobe.aiv.po/.test(n)?((JSON.parse(localStorage[n])||"").pn||"")==t.pageName&&a++:/^com.adobe.aiv.e./.test(n)&&e++;0==a&&i(),delete v.eElement;var o="com.adobe.aiv.e."+Math.floor(Date.now()/Math.random());localStorage.setItem(o,JSON.stringify(v)),r&&console.log("~~~~ D: Asset InView Added to storage:",o,localStorage.getItem(o)),e>=f&&"true"!=sessionStorage.getItem("com.adobe.aiv.a")?(sessionStorage.setItem("com.adobe.aiv.a",!0),r&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView 2021-09-30 001. Time:",Date.now(),"# Assets: ",e,", direct call trackAssetAction, active flag",sessionStorage.getItem("com.adobe.aiv.a")),_satellite.track("trackAssetAction",{action:"AIV"})):r&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView - # Assets:",e,". Active flag",sessionStorage.getItem("com.adobe.aiv.a"))}function i(){var e={pn:t.pageName,ev7:t.eVar7,ev11:t.eVar11,ev12:t.eVar12,ev16:t.eVar16,ev24:t.eVar24,ev25:t.eVar25,ev27:t.eVar27,ev28:t.eVar28,ev29:t.eVar29,ev32:t.eVar32,ev34:t.eVar34,ev43:t.eVar43,ev55:t.eVar55,ev56:t.eVar56,ev65:t.eVar65,ev66:t.eVar66,ev68:t.eVar68,ev69:t.eVar69,ev70:location.hostname+location.pathname,ev81:t.eVar81};localStorage.setItem("com.adobe.aiv.po."+Math.floor(Date.now()/Math.random()),JSON.stringify(e))}var r=_satellite.getVar("LoggingL1");r&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView 2021-09-30 001. Time:",Date.now(),"element: ",this),_satellite.getVar("LoggingL1");var o=this.getAttribute("data-campaign")||"",s=this.getAttribute("data-assetid")||"";if("thebest"==o&&/the-best-fifa-football-awards/.test(t.pageName)&&/(1|2|3)$/.test(s))r&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView Aborted for this campaign",o,"asset id",s);else{var l,c=this.getAttribute("data-asset")||"",d=this.getAttribute("data-assettag")||"",u=this.getAttribute("data-assetname")||"",g=this.getAttribute("data-assetid")||"",f=12,p=100,m=5,h=50,v={eT:"assetInView",eA:o+":"+c+":"+d.toLowerCase().replace(/(,|:)/g,"-")+":"+u.toLowerCase().replace(/(,|:)/g,"-")+":"+g.toLowerCase(),ePN:t.pageName,eInView:!1,eTimeInView:0,eElement:this};l=window.setInterval(a,p);var y=function(e){var t=e.getBoundingClientRect(),a=!1,n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,r=t.top<=n&&t.left<=i&&t.bottom>=0&&t.right>=0;if(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))a=!0;else if(r){var o=t.left,s=t.right;o<0&&(o=0),s>i&&(s=i);var l=t.top,c=t.bottom;l<0&&(l=0),c>n&&(c=n);var d=(s-o)*(c-l),u=(t.right-t.left)*(t.bottom-t.top);if(d>0)var g=d/u*100;else g=0;g>=h&&(a=!0)}else a=!1;return a}}}},trackerProperties:{}}}]},{id:"RL27fb048064d442879d7af55125620a30",name:"trackVideoAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackVideoAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){if(_satellite.getVar("BlockedPages"))"production"!=_satellite.environment.stage&&console.log("~~~~FEV trackVideoAction - Abort - Blocked Page");else{var t=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},a=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{},n=ADB.Media,i=_satellite.getVar("tracker"),r="",o="",s=e.detail||"",l=s.action||"",c=s.source||"";"loadedmetadata"==l?(r=c.playerId,o=c.videoEntryId):(r=c.playerState.playerId,o=c.playerState.videoEntryId);var d=(r+o).toString();if("loadedmetadata"==l||null!=i[d]){switch("timeupdate"!=l&&(t.logging&&console.log("~~~~FEV trackVideoAction init. action:",l,"videoId:",d,"tracker:",i[d]),t.logging&&console.log("~~~~FEV trackVideoAction init. action:",l,"source:",c,"~~~~")),l){case"loadedmetadata":if(a.sTagsIds&&a.sTagsIds.length>0)var u=","+a.sTagsIds.join(",")+",";var g={"f.m.pageName":a.pageName,"f.m.pageLanguage":a.pageLang,"f.m.pageType":a.contentfulType,"f.m.vInternalTitle":a.contentfulInternalTitle,"f.m.pageId":a.contentfulEntryId,"f.m.url":location.hostname+location.pathname,"f.m.pageTitle":a.dt,"f.m.sysEnv":a.sysEnv,"f.m.vTitle":c.videoTitle,"f.m.vEpisode":a.vEpisode,"f.m.dateOfRelease":a.contentfulCreatedDate,"f.m.dateOfLastEdit":a.contentfulChangeDate,
"f.m.videoEntryId":c.videoEntryId,"f.m.verizonId":c.videoId,"f.m.category":a.videoCategory,"f.m.subcategory":a.videoSubcategory,"f.m.entryType":a.pEntryType,"f.m.image":a.bImg,"f.m.section":a.pageName.split(":")[1],contentTags:u||""};i.metadata=g;var f=a.contentfulInternalTitle||c.videoTitle;if(t.logging&&console.log("~~~~FEV trackVideoAction loadedmetadata. videoTitle:",a.contentfulInternalTitle,c.videoTitle),c.isLive){var p=n.createMediaObject(f,c.videoEntryId,9999,"Live",n.MediaType.Video);t.logging&&console.log("~~~~FEV trackVideoAction loadedmetadata. LiveStream")}else p=n.createMediaObject(f,c.videoEntryId,parseInt(c.duration),"VOD",n.MediaType.Video);i[d]=n.getInstance(),i[d].trackSessionStart(p,g),i[d].isBuffering=!1,i[d].isAdPlaying=!1;break;case"timeupdate":if(!i[d].isAdPlaying&&!i[d].isBuffering){var m=parseInt(c.event.currentTime),h=i[d].adbreaks||"",v=0;if(""!=h)for(var y=0;y<h.length&&m>h[y].timeOffset;y++)v+=h[y].duration;if(c.isLive)var _=parseInt(Math.floor(Date.now()/1e3)%86400);else _=parseInt(m-v);i[d].updatePlayhead(_)}break;case"preplayresponse":c.event.response.ads.breakOffsets;var b=c.event.response.ads.breaks;i[d].adbreaks=b;break;case"adbreakbegin":var k=c.event.adBreakInfo.position,C=parseInt(c.event.adBreakInfo.identifier)+1,S=c.event.adBreak.startTime,P=n.createAdBreakObject(k,C,S);i[d].trackEvent(n.Event.AdBreakStart,P),i[d].isAdPlaying=!0;break;case"adbegin":var E=c.event.ad.creative,I=c.event.ad.creative,A=parseInt(c.event.adInfo.identifier)+1,T=parseInt(c.event.ad.duration),V=n.createAdObject(E,I,A,T);i[d].trackEvent(n.Event.AdStart,V,i.metadata);break;case"seeking":i[d].isBuffering||i[d].trackEvent(n.Event.SeekStart);break;case"seeked":i[d].trackEvent(n.Event.SeekComplete);break;case"waiting":i[d].isBuffering=!0,i[d].trackEvent(n.Event.BufferStart);break;case"play":break;case"firstPlaying":case"firstplay":i[d].trackPlay(),t.logging&&console.log("~~~~FEV trackVideoAction. TheoPlayer Event:",l,". Adobe Event: 'trackPlay()'. videoTitle:",a.contentfulInternalTitle,"videoId:",d,"tracker:",i[d]),t.TealPage||t.LotPage||t.Tgt?(a.pixEvent="Video Playing",t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents Called firstPlaying***"),_satellite.track("FPPixelEvents",{rule:"tVideo",alConfig:t,cEvents:a})):t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents NOT Called firstPlaying***");break;case"playing":i[d].isBuffering&&(i[d].trackEvent(n.Event.BufferComplete),i[d].isBuffering=!1,t.logging&&console.log("~~~~FEV trackVideoAction. TheoPlayer Event:",l,". Adobe Event: 'trackEvent(Media.Event.BufferComplete)'. videoTitle:",a.contentfulInternalTitle,"videoId:",d,"tracker:",i[d])),i[d].trackPlay(),t.logging&&console.log("~~~~FEV trackVideoAction. TheoPlayer Event:",l,". Adobe Event: 'trackPlay()'. videoTitle:",a.contentfulInternalTitle,"videoId:",d,"tracker:",i[d]),t.TealPage||t.LotPage||t.Tgt?(a.pixEvent="Video Playing",t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents Called playing***"),_satellite.track("FPPixelEvents",{rule:"tVideo",alConfig:t,cEvents:a})):t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents NOT Called playing***");break;case"pause":i[d].trackPause();break;case"adskip":i[d].trackEvent(n.Event.AdSkip);break;case"activequalitychanged":var D=c.event||"",w=D.quality||"",O=parseInt(D.currentBandwidthEstimate||"")||0,L=parseInt(D.timeToFirstFrameInMS||"")||0,N=parseInt(w.frameRate||"")||0,M=parseInt(D.droppedVideoFrames||"")||0;if(O){t.logging&&console.log("~~~~FEV trackVideoAction activequalitychanged. qoEObject: (",O,L,N,M,"). Event:",D);var x=ADB.Media.createQoEObject(O,L,N,M);i[d].updateQoEObject(x),i[d].trackEvent(ADB.Media.Event.BitrateChange)}else t.logging&&console.log("~~~~FEV trackVideoAction activequalitychanged. No Bitrate. Event:",D);break;case"adcomplete":i[d].trackEvent(n.Event.AdComplete);break;case"adbreakend":i[d].trackEvent(n.Event.AdBreakComplete),i[d].isAdPlaying=!1;break;case"ended":i[d].trackComplete(),i[d].trackSessionEnd(),delete i[d],t.TealPage||t.LotPage||t.Tgt?(a.pixEvent="Video Ended",t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents Called ended***"),_satellite.track("FPPixelEvents",{rule:"tVideo",alConfig:t,cEvents:a})):t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents NOT Called ended***")}_satellite.setVar("tracker",i)}else t.logging&&console.log("~~~~FEV trackVideoAction NOT init, tracker not found. action:",l,"videoId:",d,"tracker:",i[d])}}},trackerProperties:{}}}]},{id:"RL34c853d7969341488b95638087e14221",name:"trackAssetClick",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackAssetClick"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(){for(var e=0;e<d.length;e++)/^[A-Z]{3}$/.test(d[e].tagId)||(u.push(d[e].tagId||d[e].id||""),g.push(d[e].tagName||d[e].title||""))}var n=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},i=n.logging;if(n.fifacom){var r=e.detail||"",o=r.event||"",s=(r.sections||[])[0]||"",l=(s.items||[])[0]||"",c=l.url||l.src||"",d=s.semanticTags||"",u=[],g=[],f={},p="230803-FECl_",m=new RegExp("^(?!.*(fifa.com|azurewebsites.net|mediacells.com|secutix.com|fifa(|.)(gg|.splmns)|fifaoffical.cn|sportradar.com|javascript:void|$^)).*$"),h="Asset Click",v="o";if(i=/development|staging/.test(_satellite.environment.stage),d.length>0&&a(),i&&console.log("###FE trackAssetClick :",r,"sections:",JSON.stringify(s),"items:",JSON.stringify(l)),t.useBeacon=!0,t.linkTrackVars+=",eVar41,eVar48,eVar72,eVar73,eVar74","!"==(t.eVar99||"").substring(0,1)&&(p="!"+p),"ad"==(s.entryType||"")){f.events="event92";for(var y=googletag.pubads().getSlots()||[],_="div-gpt-"+s.entryId||"",b=0;b<y.length;b++)if(_==(y[b].getSlotElementId()||"")){var k=googletag.pubads().getSlots()[b].getResponseInformation()||"";f.eVar85="gam-cl:"+(k.advertiserId||"")+","+(k.campaignId||"")+","+(k.creativeId||"");break}t.linkTrackVars+=",eVar85"}else f.events="event28";if(m.test(c)&&(h="Exit",v="e",f.events+=",event9"),i&&console.log("###FE trackAssetClick Type:",h,"link:",l.url,"GamA:",f.eVar85),"userClickedAsset"==o){if(t.linkTrackVars+=",eVar132,eVar133,",p+="AC",f.eVar41=c,f.eVar46=h,f.eVar48=h,/Download|Exit/.test(h)&&(f.eVar48+=" Link"),f.eVar70=location.hostname+location.pathname,f.eVar72="Item: "+(l.internalTitle||l.title||l.identifier||"")+" | Section: "+(s.internalTitle||"")+" | Types: "+(l.entryType||"")+"--"+(s.entryType||"")+" | Id: "+(l.entryId||"")+"--"+(s.entryId||""),f.eVar73="Item: "+c+" | Id: "+(l.entryId||"")+"--"+(s.entryId||""),f.prop74=f.eVar48+":"+c,g.length>0&&(f.eVar132=(g||[]).join(",")),u.length>0&&(f.eVar133=(u||[]).join(",")),n.TealPage||n.LotPage||n.Tgt){n.TealPage&&(p+=",PI"),n.LotPage&&(p+=",LO"),n.Tgt&&(p+=",PI",f.events+=",event86");var C=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{};C.pixEvent="Link Click",C.link=(f.eVar72||"")+" | Link:"+c,i&&console.log("###FE trackAssetClick. FPPixelEvents Called, link:",C.link,"***"),_satellite.track("FPPixelEvents",{rule:"FPaClick",alConfig:n,cEvents:C})}else i&&console.log("###FE trackAssetClick. FPPixelEvents NOT Called***");f.eVar99=p,n.AnaPage?(t.tl(!0,v,h,f),i&&console.log("###FE trackAssetClick Tracked. oRide:",f)):i&&console.log("###FE trackAssetClick. Link NOT Tracked. AnaPage:",n.AnaPage)}else i&&console.log("###FE trackAssetClick Aborted. Unknown Action:",o)}else i&&console.log("###FE trackAssetClick - Abort - NOT fifaplus ###")}},trackerProperties:{}}}]},{id:"RL34e7f848815f44e6937df8878f45d350",name:"digitalDataEvents",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"digitalDataEvents"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("### DR digitalDataEvents. alConfig parse error, overwrite"),a={}}a.uP=a.uP||{};try{var n=JSON.parse(sessionStorage.getItem("com.adobe.alhEvents"))||{}}catch(e){a.logging&&console.log("### DR digitalDataEvents. Page View. hEvents parse error, overwrite"),n={}}var i=a.logging;if(i&&console.log("### DR digitalDataEvents - 2022-10-11 0900 ###"),"undefined"!=typeof digitalData){var r=_satellite.getVar("pageName"),o=_satellite.getVar("URLParams")||{},s=_satellite.getVar("pageLanguage"),l=e.detail||"",c=l.action||"",d=l.actionName||"";if(/^(ddlPageNameChange|DURLChange)$/.test(c)&&t.pageName==r&&t.eVar11==s)i&&console.log("### DR digitalDataEvents Abort, s.pageName:",t.pageName,"_satellite.getVar(pageName)",r,"s.eVar99:",t.eVar99);else{if("Overlay"==c&&(r=r.replace(r.split(":").pop(),"")+d+":overlay"),a.AnaPage){for(var u in localStorage)if(/^com.adobe.aiv.e./.test(u)){sessionStorage.setItem("com.adobe.aiv.a",!0),i&&console.log("### DR digitalDataEvents Asset InView Tracked 2021-09-30 001. Time:",Date.now(),", direct call trackAssetAction, active flag",sessionStorage.getItem("com.adobe.aiv.a")),_satellite.track("trackAssetAction",{action:"VC AIV"});break}}else i&&console.log("### DR digitalDataEvents Asset InView Tracking Disabled. Nothing to track or Analytics disabled. ####");var g="231130-DDE_IFPV",f=sessionStorage.getItem("com.adobe.ort")||"";if(t.eVar99&&"!"==t.eVar99.substring(0,1)&&(g="!"+g),t.events="event2",i&&console.log("***DDE. urlParams:",JSON.stringify(o||""),"hEvents:",JSON.stringify(n||""),"alConfig.uP:",JSON.stringify(a.uP||"")),(o.cid||a.uP.cid)&&(a.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=a.uP.cid||"",t.events+=",event30",f=!0,a.logging&&console.log("***DDE. cid from alConfig",t.events,t.campaign,f)):(t.campaign=o.cid||a.uP.cid||"",o.cid&&(/undefined/.test(n.cid)||n.cid!=o.cid)&&(t.events+=",event30"),a.logging&&console.log("***DDE. cid from urlParams or alC if urlParams null:",t.events,"s.campaign:",t.campaign,"hEvents.cid:",n.cid,"urlP-cid:",o.cid,"alC-id:",a.uP.cid))),o.intcmp&&((/undefined/.test(n.intcmp)||n.intcmp!=o.intcmp)&&(t.events+=",event29",i&&console.log("***DDE. intcmp:",t.events,"hEvents.intcmp:",n.intcmp||"","urlParams.intcmp:",o.intcmp||"")),t.eVar2=o.intcmp||a.uP.intcmp||""),t.eVar3=o.s_oid||a.uP.s_oid||"",t.eVar4=o.s_uid||a.uP.s_uid||"",t.eVar6=o.s_pid||a.uP.s_pid||"",t.eVar82=o.s_cid||a.uP.s_cid||"",t.eVar83=o.linkid,o.c||o.pid||a.uP.c||a.uP.pid){var p=(o.c||a.uP.c||"")+(o.pid||a.uP.pid||"");t.events+=",event25",t.eVar102=p}t.eVar68=o.utm_campaign||a.uP.utm_campaign||"",t.eVar103=o.utm_source||a.uP.utm_source||"",t.eVar104=o.utm_medium||a.uP.utm_medium||"",t.eVar105=o.utm_term||a.uP.utm_term||"",t.eVar106=o.utm_content||a.uP.utm_content||"",a.fifaplusNft&&/payments:success|(unified|credits)-payment-success/.test(r)&&!/:pack-opening:/.test(r)&&(t.events+=",event82"),t.pageName=r;var m=r.split(":");"fifacom"==m[0]?(m.shift(),t.eVar53=r.substring(r.indexOf(":")+1,r.lastIndexOf(":"))):t.eVar53=r.substring(0,r.lastIndexOf(":")),t.channel=m[0],t.eVar15=m[0],t.eVar51=m[0],t.eVar52=m[0],m.length-2>=1&&(t.eVar15=t.eVar15+":"+m[1],t.eVar51=t.eVar15,t.eVar52=t.eVar15),m.length-2>=2&&(t.eVar51=t.eVar51+":"+m[2],t.eVar52=t.eVar51),m.length-2>=3&&(t.eVar52=t.eVar52+":"+m[3]),t.eVar5=r.split(":")[r.split(":").length-1],i&&console.log("### DR digitalDataEvents - PageName: ","Events: ",t.events,"Sec:",t.channel,"SS1:",t.eVar15,"SS2:",t.eVar51,"SS3:",t.eVar52,"SS4:",t.eVar53,"###");var h="",v="",y="";if("undefined"!=typeof digitalData&&(digitalData.user&&(t.eVar28=digitalData.user.gender||""),digitalData.page&&(digitalData.page.pageInfo&&(t.eVar12=digitalData.page.pageInfo.pageSlug||"",t.eVar69=digitalData.page.pageInfo.issueDate||"",v=digitalData.page.pageInfo.pageParentID||"",y=digitalData.page.pageInfo.pageParentTitle||""),digitalData.page.attributes&&(t.eVar55=digitalData.page.attributes.status||"",t.eVar56=digitalData.page.attributes.competitionEdition||"",h=digitalData.page.attributes.contentName||"",""==v&&(v=digitalData.page.attributes.xLangContentID||""),""==y&&(y=digitalData.page.attributes.contentName||""),digitalData.page.attributes.entity&&(t.eVar16=digitalData.page.attributes.entity.id||"")))),""==h&&(h=document.title),""==y&&/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/($|(|.+\/)(photos|videos)\/)/.test([location.hostname,location.pathname].join(""))&&(y=location.hash.replace(/#/g,"")),t.eVar5=r.split(":")[r.split(":").length-1],t.eVar7=_satellite.getVar("pageID"),t.eVar8="D=pageName",t.eVar9="D=ch",t.eVar11=s,t.eVar24=_satellite.getVar("userID"),t.eVar25=_satellite.getVar("userStatus"),t.eVar26=_satellite.getVar("userProviderID"),t.eVar27=_satellite.getVar("userDOB"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry"),t.eVar34=h.toLowerCase(),t.eVar43=_satellite.getVar("sysEnv"),t.eVar65=v.toLowerCase(),t.eVar66=y.toLowerCase(),t.eVar70=location.hostname+location.pathname,t.eVar77="",t.eVar81=a.OTPrefs,t.eVar86=document.referrer,/^fifagg:/.test(r)&&/\:thank\-you/.test(r)&&(t.events+=",event64",t.eVar46="Register with Fifa.gg"),(a.mcPages||a.insidefifa||a.ticketing||/^fifagg\:/.test(r))&&(setTimeout((function(){_satellite.track("AssetOnLoad")}),3e3),i&&console.log("('### DR digitalDataEvents DCR AOL timeout 3000")),a.mcPages||a.insidefifa||a.fifaplusNft?(setTimeout((function(){_satellite.track("AssetOnClick")}),1e3),i&&console.log("### DR digitalDataEvents DCR AssetOnClick timeout 1000")):i&&console.log("### DR digitalDataEvents DCR AssetOnClick NOT called"),a.TealPage||a.LotPage||a.Tgt?(a.TealPage&&(g+=",TE"),a.LotPage&&(g+=",LO"),a.Tgt&&(g+=",PI",t.events+=",event86"),cEvents={},cEvents.sEvents=t.events,cEvents.pageName=r,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.urlParams=o,cEvents.pixEvent="FC Page View",i&&console.log("### DR digitalDataEvents FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DDE",alConfig:a,cEvents:cEvents})):i&&console.log("### DR digitalDataEvents FPPixelEvents NOT Called***"),t.eVar93=a.lotId,t.eVar94=a.tealId,t.eVar95="D=mid",t.eVar99=g,t.eVar107=a.dr||"",(a.mcPages||a.insideFifa||/^fifagg\:/.test(r))&&setTimeout((function(){_satellite.track("AssetOnLoad")}),3e3),a.mcPages||a.insideFifa||a.fifaplusNft?(setTimeout((function(){_satellite.track("AssetOnClick")}),1e3),i&&console.log("*** DDE - DCR AssetOnClick timeout 1000 ***")):i&&console.log("*** DDE - DCR AssetOnClick NOT fired ***"),a.AnaPage)sessionStorage.setItem("com.adobe.ort",f),sessionStorage.removeItem("com.adobe.fPageInfo"),sessionStorage.setItem("com.adobe.alhEvents",JSON.stringify(o)),i&&console.log("### DR digitalDataEvents Fired ",location.hostname,a.OTPrefs,g,". ***"),t.t();else{var _={};for(var u in t)/^(eVar|events|channel|pageName|campaign)/.test(u)&&(_[u]=t[u]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(_)),i&&console.log("*** DR digitalDataEvents NOT fired. AnaPage",a.AnaPage,". Stored fPageInfo:",_)}}}else"production"!=_satellite.environment.stage&&console.log("***DDEC. digitalData Change. digitalData undefined. 2023-11-30 ***")}},trackerProperties:{}}}]},{id:"RL5540c9c4f3704506a43bb378e3d76c6d",name:"AssetOnLoad",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AssetOnLoad"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e,t){for(var a=[],n=e.getElementsByTagName("div"),i=0,r=n.length;i<r;i++)null!==n[i].getAttribute(t)&&a.push(n[i]);return a}var n=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},i=n.logging;i&&console.log("~~~~ D: AssetOnLoad 2022-10-10");var r="221010-DR_AOL";"!"==t.eVar99.substring(0,1)&&(r="!"+r);var o=[],s=[],l=[],c="";"undefined"==typeof digitalData&&digitalData.page&&digitalData.attributes&&(c=digitalData.page.attributes.assets||"");var d=a(document,"data-asset");if(i&&console.log("~~~~ D: AssetOnLoad domElementList:",d),d.forEach((function(e){var t=e.getAttribute("data-campaign")||"",a=e.getAttribute("data-asset")||"",n=e.getAttribute("data-assettag")||"",i=e.getAttribute("data-assetname")||"",r=e.getAttribute("data-assetid")||"";""!=a&&o.push((t+":"+a+":"+n.replace(/(,|:)/g,"-")+":"+i.replace(/(,|:)/g,"-")+":"+r).toLowerCase()),""!=a&&""!=t&&s.push(t+":"+a)})),i&&console.log("~~~~ D: AssetOnLoad domAssetList:",o),i&&console.log("~~~~ D: AssetOnLoad domCampaignList:",s),i&&console.log("~~~~ D: AssetOnLoad ddlAssets:",c),""!=c){ddlAssetsS=c.split(";");var u=_satellite.getVar("GoogleAdIds");ddlAssetsS.forEach((function(e){e=e.split(":"),i&&console.log("~~~~ D: AssetOnLoad DFP CampaignId: ",e);var t=(u.split(e[0]+":")[1]||"").split(";")[0];i&&console.log("~~~~ D: AssetOnLoad DFP Campaign: ",t),""!=t&&l.push(t+":"+e[1].toLowerCase())}))}i&&console.log("~~~~ D: AssetOnLoad ddlAssetlist:",l);var g=s.concat(l);i&&console.log("~~~~ D: AssetOnLoad CampaignList:",g);var f=[],p=[];if(""!=g){i&&console.log("~~~~ D: AssetOnLoad Campaign List Exists");var m=0;g.forEach((function(e){i&&console.log("~~~~ D: AssetOnLoad CampaignList by element:",e),f.some((function(t){return-1!==t.indexOf(e)}))&&(e+="-"+(m+=1)),f.push(e)})),i&&console.log("~~~~ D: AssetOnLoad De-Dup CampaignList, LotBhList:",f,p)}if(""==g&&""==o)i&&console.log("~~~~ D: AssetOnLoad No Assets Adobe NOT Fired");else{i&&console.log("~~~~ D: AssetOnLoad Adobe Fired");var h={};t.linkTrackVars=_satellite.getVar("linkTrackVars")+",list2,list3,eVar84,eVar85",h.events="event27",h.list2=f.join(", "),h.list3=o.join(", "),h.eVar46="Asset Load",h.eVar70=window.location.hostname+window.location.pathname,h.eVar84=g.join(", "),h.eVar85=c,h.eVar99=r,h.prop74="Asset Load: "+o.join(", "),n.AnaPage?t.tl(!0,"o","Asset OnLoad",h):i&&console.log("~~~~ D: AssetOnLoad. Link NOT Tracked. AnaPage:",n.AnaPage)}i&&console.log("~~~~ D: AssetOnLoad End")}},trackerProperties:{}}}]},{id:"RL5825dce1b7af455e8734f7be1a50abd5",name:"Libraries",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"FPLibraries"},ruleOrder:49}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/7db34e84caae/759763b5faef/f827c89b3752/RC3e90751ecc394a4390a54c28a54c4633-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c188e2fc36d40a1ab9a9ffd082115cf",name:"AssetOnClick",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AssetOnClick"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e,t,a,i){for(var r=!1;!r&&null!=e;)null!=e.getAttribute(t)?(r=!0,a={linkType:"o",events:"event28",eVar46:"Asset Click",asset:e.getAttribute("data-asset")||"",campaign:e.getAttribute("data-campaign")||"",assetTag:(e.getAttribute("data-assettag")||"").replace(/(,|:)/g,"-"),assetName:(e.getAttribute("data-assetname")||"").replace(/(,|:)/g,"-"),assetId:e.getAttribute("data-assetid")||""},e.firstElementChild&&(a.chref=e.firstElementChild.getAttribute("href")||""),n(e,a,i)):e=e.parentElement;return e}function n(e,t,a){t.element=e,a.push(t),e.onclick=function(){for(var e=0,t=a.length;e<t;e++)if(this==a[e].element)return void i(a[e])}}function i(e){t.useBeacon=!0;var a={},n="240215-DR_AOC";(a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}).logging&&console.log("### ",n," Init:",e),"!"==t.eVar99.substring(0,1)&&(n="!"+n);var i={},o=_satellite.getVar("linkTrackVars")+",eVar41,eVar48",s=""+e.linkType||"",l=e.element.href||"";""==l&&(l=e.chref||""),"o"==s&&(o+=",list2,list3,eVar84"),i.events=e.events||"",i.eVar41=l,i.eVar46=e.eVar46||"";var c=e.eVar46||"";/Download|Exit/.test(c)&&(c+=" Link"),i.eVar48=c,i.eVar70=location.hostname+location.pathname,i.prop74=c+":"+e.element.href||"",""!=e.campaign&&(i.list2=e.campaign+":"+e.asset,i.eVar84=i.list2),i.list3=(e.campaign+":"+e.asset+":"+e.assetTag+":"+e.assetName+":"+e.assetId).toLowerCase().replace(/,/g,"-"),t.eVar81=_satellite.getVar("OneTrustPreferences"),t.linkTrackVars=o,/news:apply-for-tickets.*:article$/.test(a.pageName)&&/www\.ticketmaster\.ae\/artist\/984683/.test(l)?(cEvents={},cEvents.sEvents=i.events,cEvents.pageName=a.pageName,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.pixEvent="Asset Click Ticketmaster",a.logging&&console.log("### ",n," FPPixelEvents Called:",cEvents.pixEvent),_satellite.track("FPPixelEvents",{rule:"aClick",alConfig:a,cEvents:cEvents})):/collect:/.test(a.pageName)&&/www\.fifapluscollectgowin\.com/.test(l)&&(cEvents={},cEvents.sEvents=i.events,cEvents.pageName=a.pageName,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.pixEvent="Asset Click F+ Collect GTW",a.logging&&console.log("### ",n," FPPixelEvents Called:",cEvents.pixEvent),_satellite.track("FPPixelEvents",{rule:"aClick",alConfig:a,cEvents:cEvents})),i.eVar99=n,a.AnaPage?(t.tl(!0,s,l,i),a.logging&&console.log("### ",n," Tracked: linkType:",s,". ref:",l,". oRide:",i)):r&&console.log("### L1 AssetOnClick Tracked. Link NOT Tracked. AnaPage:",a.AnaPage)}var r=localStorage.getItem("com.adobe.aocLogging")||!1,o=localStorage.getItem("com.adobe.vaocLogging")||!1,s=document.getElementsByTagName("a");r&&console.log("#### AssetOnClick 240215 href Element Found:",s);for(var l=[],c=0,d=s.length;c<d;c++)if(null!==s[c].getAttribute("href")){o&&console.log("#### AssetOnClick href Element Found:",c,s[c]);var u={};/.(?:doc|docx|eps|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/.test(s[c].href)?u={linkType:"d",events:"event9",eVar46:"Download",campaign:""}:(/^(?!.*(fifa\.com|azurewebsites\.net|mediacells\.com|secutix\.com|fifa(|\.)(gg|\.splmns)|fifaoffical\.cn|sportradar\.com|javascript:void|$^)).*$/.test(s[c].href)||/hospitality\.fifa\.com/.test(s[c].href))&&(s[c].firstElementChild&&/footer-logostrip/.test(s[c].firstElementChild.getAttribute("class"))||(u={linkType:"e",events:"event9",eVar46:"Exit",campaign:""})),void 0!==u.linkType&&(n(s[c],u,l),r&&console.log("#### AssetOnClick Exit or Download Element Found. Link Data:",c,u,s[c])),a(s[c],"data-asset",u,l)}}},trackerProperties:{}}}]},{id:"RL73f55d4777504ae18d451ce5fa95b65b",name:"ddlPageName Change",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"ddlPageName"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!1;return e&&console.log("ddlPageName Change"),_satellite.getVar("McPages")||_satellite.getVar("InsideFifaPages")||"inside.fifa.com"==location.host?(e&&console.log("ddlPageName Change - Call trackViewChange"),_satellite.track("trackViewChange",{action:"ddlPageNameChange"})):e&&console.log("ddlPageName Change - ABORTED"),!1}}}],actions:[]},{id:"RL7a8dc5d902164f359b78138bfbe248d0",name:"trackFifaggEvent",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackFifaggEvent"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("DE alConfig. alConfig parse error, overwrite"),a={}}var n=a.logging;n&&console.log("### DCR:trackFifaggEvent - 2022-10-10 ###");var i="221010-DR_GGE";"!"==t.eVar99.substring(0,1)&&(i="!"+i);var r={},o="",s="Fifa.gg Event";void 0!==e.detail&&(n&&console.log("### DCR:trackFifaggEvent - event.detail:",e.detail,"###"),void 0!==e.detail.competition_signup&&(s="Register with Fifa.gg "+e.detail.competition_signup.toLowerCase(),o="event64"),void 0!==e.detail.signup_type&&(s+=" "+e.detail.signup_type.toLowerCase())),r.events=o,r.eVar46=s,r.eVar70=location.hostname+location.pathname,r.eVar99=i,r.prop74="FifaGG Event: "+s,t.linkTrackVars=_satellite.getVar("linkTrackVars"),a.AnaPage?t.tl(!0,"o","FifaGG Event",r):n&&console.log("###  DCR:trackFifaggEvent. Link NOT Tracked. AnaPage:",a.AnaPage)}},trackerProperties:{}}}]},{id:"RL8e17e805ab7d44ee85543ebc53437d8a",name:"Page Top",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(){"undefined"==typeof fevents||0==fevents.length||1==fevents.length&&"userStatus"==fevents[0].event?a():fevents.length>b&&(a(),b=fevents.length,d.logging&&console.log("***FPT. Call FEC - fevents.Length changed, length:",b),_satellite.track("FPEvents",{action:"PT-FEC"}))}function t(){"undefined"==typeof digitalData||1!=digitalData.complete?++g>f&&(d.logging&&console.log("***FPT. Call DLEV - cancelled after:",g*f,"digitalData undefined"),clearInterval(h)):0==y&&(d.logging&&console.log("***FPT. Call FEC - digitalData loaded"),_satellite.track("digitalDataEvents",{action:"PT-DDEC"}),y=!0,clearInterval(h))}function a(){var e=document.querySelectorAll('[class^="error-template"]');e.length>0&&(window.fevents=window.fevents||[],window.fevents.push({event:"pageLoaded",page:{contentfulPageName:location.host+location.pathname,contentfulInternalTitle:e[0].className||"",contentfulType:e[0].className||"",pageError:e[0].getAttribute("data-error-message")||""}}),b=fevents.length,d.logging&&console.log("### FPT pageErrorCheck fn. Error Page Tracking Called. fevents:",JSON.stringify(fevents[b-1])),_satellite.track("FPEvents",{action:"PT-EP"}))}function n(){if("undefined"!=typeof dataLayer)if(dataLayer.length>m){m=dataLayer.length,d.logging&&console.log("***FPT. Call DLEV - dataLayer.Length changed, length:",m);var e=500;i&&(e=1),setTimeout((function(){_satellite.track("dlEvents",{action:"FPT-DLEC"})}),e)}else++g>f&&(d.logging&&console.log("***FPT. Call DLEV - cancelled after:",g*f,"dataLayer.length:",m),clearInterval(h));else++g>f&&(d.logging&&console.log("***FPT. Call DLEV - cancelled after:",g*f,"dataLayer.length:",m),clearInterval(h))}_satellite.getVar("FifaPlusPages");var i=_satellite.getVar("FifaComPages"),r=_satellite.getVar("InsideFifaPages"),o=_satellite.getVar("BlockedPages"),s=_satellite.getVar("WidgetPages"),l=/development|staging/.test(_satellite.environment.stage)||localStorage.getItem("com.adobe.alLogging");if(!o&&!s){var c=new Date(Date.now());c=c.toLocaleString()+" - ms: "+c.getMilliseconds(),l&&console.log("____A0. ***FPT",location.hostname+location.pathname,". Time: ",c),sessionStorage.removeItem("com.adobe.feventsS"),sessionStorage.removeItem("com.adobe.fPageInfo"),sessionStorage.removeItem("com.adobe.dataLayerS");var d=_satellite.getVar("alConfig");if(d.AnaPage&&0==i){for(var u in localStorage)if(/^com.adobe.aiv.e./.test(u)){sessionStorage.setItem("com.adobe.aiv.a",!0),d.logging&&console.log("***FPT Asset InView Tracked 2021-09-30 001. Time:",Date.now(),", direct call trackAssetAction, active flag",sessionStorage.getItem("com.adobe.aiv.a")),setTimeout((function(){_satellite.track("trackAssetAction",{action:"PTL Asset InView"})}),200);break}}else d.logging&&console.log("***FPT Asset InView Tracking Disabled. Nothing to track or Analytics disabled. ####");if(d.logging&&console.log("***FPT. OTPrefs:",d.OTPrefs,". alConfig:",d),d.TealPage&&(window.Tealium={},window.tealium=window.tealium||{q:[]}),(d.TealPage||d.LotPage||d.Tgt||d.GamPage||d.MinPage||d.UZPage||d.fifaplusGames||/^account.+?fifa\.com/.test(location.host))&&(d.logging&&console.log("### FPT Call FPLibraries.",location.hostname+location.pathname,". Teal:"+d.TealPage+". Lot:"+d.LotPage+". Tgt:"+d.Tgt+". GamPage:"+d.GamPage),_satellite.track("FPLibraries",{alConfig:d})),_satellite.getVar("FifaPlusPages")||_satellite.getVar("FifaPlusGamesPages")||s||_satellite.getVar("FifaComPages")||_satellite.getVar("InsideFifaPages")?d.logging&&console.log("*** FPT Page not sent to UrlPageLoad:",location.hostname+location.pathname):(d.logging&&console.log("***FPT UrlPageLoad activated for ",location.hostname+location.pathname),_satellite.track("URLPageLoad",{action:"PT-UrlPageLoad"})),!d.SsoPage){var g=0;if(/^((fifaplus:|)worldcup:qatar2022:tickets:fcfs-|fenc:tickets:fcfs:|(fifaplus:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-)/.test(d.pageName)){g=1;var f=10,p=1e3}else d.fifaplusGames||/^worldcup:qatar2022:tickets:lottery/.test(d.pageName)?(g=1,f=Number("Infinity"),p=100):(i||r)&&(g=1,f=Number("Infinity"),p=20);if(g>0){if("undefined"!=typeof dataLayer&&dataLayer.length>0){var m=dataLayer.length;d.logging&&console.log("***FPT dataLayer.Length > 0 at PT, call dlEvents & run timer - , length:",m,location.hostname+location.pathname),setTimeout((function(){_satellite.track("dlEvents",{action:"PT"})}),500)}else m=0,d.logging&&console.log("***FPT dataLayer undefined or length 0 at PT, run timer",location.hostname+location.pathname);var h=window.setInterval(n,p)}else d.logging&&console.log("***FPT dataLayer check not required",location.hostname+location.pathname);if(r){var v=20,y=!1;"undefined"!=typeof digitalData&&1==digitalData.complete?(d.logging&&console.log("***FPT digitalData available call DigitalDataEvents & run timer -",location.hostname+location.pathname),_satellite.track("digitalDataEvents",{action:"PT"}),y=!0):(d.logging&&console.log("***FPT digitalData undefined  or digitalData not ready, run timer",location.hostname+location.pathname),window.setInterval(t,v))}else d.logging&&console.log("***FPT digitalData check not required fifacom sso",location.hostname+location.pathname);if(i){var _=20;if(d.SsoPage)d.logging&&console.log("***FPT fevents check not required fifacom sso",location.hostname+location.pathname);else{if("undefined"!=typeof fevents&&fevents.length>0){var b=fevents.length;d.logging&&console.log("***FPT fevents.Length > 0 at PT, call FPEvents & run timer - , length:",b,location.hostname+location.pathname),_satellite.track("FPEvents",{action:"PT"})}else b=0,d.logging&&console.log("***FPT fevents undefined or length 0 at PT, run timer",location.hostname+location.pathname);window.setInterval(e,_)}}else d.logging&&console.log("***FPT fevents check not required not fifacom",location.hostname+location.pathname)}return!1}l&&console.log("***FPT - Abort - fifaplus:",i,". Blocked Page:",o,".Widget Page:",s,location.hostname+location.pathname)}}}],actions:[]},{id:"RL928053c5e5a645dab6202ba9b845d304",name:"trackEventAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackEventAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("WidgetPages");if(a){(n={logging:/development|staging/.test(_satellite.environment.stage)||localStorage.getItem("com.adobe.alLogging"),lTrackV:_satellite.getVar("linkTrackVars"),OTPrefs:_satellite.getVar("OneTrustPreferences")}).AnaPage=/,2,/.test(n.OTPrefs),t.pageName||(t.eVar8=(location.hostname+location.pathname).replaceAll("/",":"),t.channel=t.eVar8.split(":")[1]||"",t.eVar9="D=ch",t.eVar34=document.title,t.eVar43="playzoneWidget",t.eVar70=location.hostname+location.pathname,t.eVar81=n.OTPrefs||"",t.eVar95="D=mid"),i&&console.log("### L2 DR trackEventAction Widget Page:",t.PageName,location.hostname+location.pathname);var n=sessionStorage.getItem("com.adobe.alConfig")||{}}if((/development|staging/.test(_satellite.environment.stage)||localStorage.getItem("com.adobe.alLogging"))&&console.log("### D:trackEventAction. alConfig:",n,". Widget Page:",a,location.hostname+location.pathname),!a)try{n=JSON.parse(n)}catch(e){"production"!=_satellite.environment.stage&&console.log("### D:trackEventAction. Set AA---- alConfig parse error, overwrite"),n={}}var i=n.logging;i&&console.log("### L2 DR trackEventAction event:",e),_satellite.getVar("pageName");var r={},o=e.detail||"",s=o.action||"",l=o.actionName||"",c=o.source||"",d=o.election||"";if("Overlay"==s)return i&&console.log("### L2 DR trackEventAction, calling trackViewChange for Overlay."),void _satellite.track("trackViewChange",{action:s,actionName:l.toLowerCase().replace(" ","-")});i&&console.log("### L2 DR trackEventAction. eventContext: ",o,". eventContextA:",s,". eventContextAN:",l,". eventContextAS:",c),t.linkTrackVars=n.lTrackV;var u="230809-DR_EA";switch("!"==(t.eVar99||"").substring(0,1)&&(u="!"+u),r.eVar46=s,t.eVar81=_satellite.getVar("OneTrustPreferences"),s){case"Survey Submit":case"Mascot Vote":case"Mascot Change Vote":case"The Best Vote":case"The Best Change Vote":t.linkTrackVars+=",eVar63,eVar64",r.events="event35",r.eVar63=""!=d?d:s,r.eVar64=l.toLowerCase(),r.eVar68=c.toLowerCase(),r.eVar70=location.hostname+location.pathname;break;case"E-Commerce":n=sessionStorage.getItem("com.adobe.alConfig"),r.events=c,r.eVar46=l;break;case"Nav Click":case"Expand":
t.linkTrackVars+=",eVar41,eVar48",r.events="event4",r.eVar46="nav-"+(s||"").toLowerCase().replace(" ","-").replace("nav-","")+"-"+c.toLowerCase(),r.eVar41=l.toLowerCase(),r.eVar48="Navigation "+s.replace("Nav ","");break;case"Form Start":t.linkTrackVars+=",list2,list3,",r.events="event111",r.list2=l+":form-start",r.list3=r.list2;break;case"Form Complete":t.linkTrackVars+=",list2,list3,",r.events="event112",r.list2=l+":form-complete",r.list3=r.list2;break;case"Form Click":t.linkTrackVars+=",list2,list3,eVar48",r.events="event28",r.list2=l,r.list3=r.list2,r.eVar48=s;break;case"Form Confirmed":t.linkTrackVars+=",list2,list3",r.events="event113",r.list2=l+"-form-confirmed",r.list3=r.list2;break;case"assetClick":t.linkTrackVars+=",eVar63,eVar64,eVar84",r.events="event28",r.eVar46="Asset Click",o.language&&(r.eVar11=o.language),o.ssoId&&(r.eVar22=o.ssoId),o.userStatus&&(r.eVar25=o.userStatus),o.source&&(r.eVar63=(o.asset||"").split(":")[0],r.eVar64=r.eVar63+":"+(o.source||"")),r.eVar84=o.asset||"";break;case"selectionComplete":t.linkTrackVars+=",eVar63,eVar64,eVar84",r.events="event45,event127",r.eVar46="Selection Complete",o.language&&(r.eVar11=o.language),o.ssoId&&(r.eVar22=o.ssoId),o.userStatus&&(r.eVar25=o.userStatus),r.eVar63=(o.asset||"").split(":")[0],o.source&&(r.eVar64=r.eVar63+":"+o.source),r.eVar84=o.asset||"";break;default:o.asset?r.eVar46=o.asset+":"+(o.source||""):r.eVar46=(s||"").toLowerCase()+":"+(l||"").toLowerCase()+":"+(c||"").toLowerCase()}r.prop74=s+": "+l,r.eVar99=u,i&&console.log("### L2 DR trackEventAction. Widget Check:",a,". s.pageName",t.pageName,". oRide.pageName",r.pageName),"E-Commerce"!=s&&n.AnaPage?(t.tl(!0,"o","Event Action",r),i&&console.log("### L2 DR trackEventAction. Link Tracked")):i&&console.log("### L2 DR trackEventAction. Link NOT Tracked. AnaPage:",n.AnaPage)}},trackerProperties:{}}}]},{id:"RL9fdb78d37b614dbf81802eb1c803bfb2",name:"trackAssetAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackAssetAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},n=a.logging,i="221010-DR_AIV";a.prodPages||"production"!=_satellite.environment.stage||(t.sa("fifadev"),i="!"+i),n&&console.log("#### L1 D: trackAssetAction 2022-10-10. Time:",Date.now(),". Active Flag:",sessionStorage.getItem("com.adobe.aiv.a"));var r=(e.detail||"").action||"",o=[],s=[],l=[],c=[],d=[],u=0;for(var g in localStorage)if(/^com.adobe.aiv.po/.test(g)){n&&console.log("#### L1 D: trackAssetAction localStorage po:",g,localStorage[g]);var f=JSON.parse(localStorage[g]);localStorage.removeItem(g);break}for(var g in localStorage)if(/^com.adobe.aiv.e./.test(g)){n&&console.log("#### L1 D: trackAssetAction localStorage e:",h==f.pn);var p=JSON.parse(localStorage[g]),m=p.eA,h=p.ePN;if(n&&console.log("#### L1 D: trackAssetAction pageName match:",h,f.pn,h==f.pn,g,localStorage[g]),"undefined"!=h&&h==f.pn&&(localStorage.removeItem(g),m)){o.push(m);var v=m.split(":")[0];if(""!=v){var y=v+":"+m.split(":")[1];s.push(y),c.push("asset: "+y+":inview:"),d.push(y+":inview:"),l.some((function(e){return-1!==e.indexOf(y)}))&&(y+="-"+(u+=1)),l.push(y)}}}if(sessionStorage.removeItem("com.adobe.aiv.a"),n&&console.log("~~~~ D: trackAssetAction AssetList:",o),n&&console.log("~~~~ D: trackAssetAction CampaignList:",s),n&&console.log("~~~~ D: trackAssetAction CampaignListDeDup:",l),n&&console.log("~~~~ D: trackAssetAction LotBhList:",c),""!=s||""!=o){n&&console.log("~~~~ D: trackAssetAction Adobe Fired");var _={events:"event5"};if(_.list2=l.join(", "),_.list3=o.join(", "),_.eVar46="Asset InView",_.eVar70=location.hostname+location.pathname,t.eVar81=_satellite.getVar("OneTrustPreferences"),_.eVar84=s.join(", "),_.prop74="Asset InView: "+o.join(", "),"VC AIV"==r||"PTL Asset InView"==r){n&&console.log("~~~~ D: trackAssetAction PTL Asset InView - AssetAction pageObject check:",f),"PTL Asset InView"==r?i+="T":"VC AIV"==r&&(i+="VC");var b=f.pn||_satellite.getVar("pageName");_.pageName=b,_.eVar8=b;var k=b.split(":");_.channel=k[0],_.eVar15=k[0],_.eVar51=k[0],_.eVar52=k[0],_.eVar53=b.substring(0,b.lastIndexOf(":")),k.length-2>=1&&(_.eVar15=_.eVar15+":"+k[1],_.eVar51=_.eVar15,_.eVar52=_.eVar15),k.length-2>=2&&(_.eVar51=_.eVar51+":"+k[2],_.eVar52=_.eVar51),k.length-2>=3&&(_.eVar52=_.eVar52+":"+k[3]),_.eVar5=b.split(":")[b.split(":").length-1],_.eVar7=f.ev7||"",_.eVar11=f.ev11||_satellite.getVar("pageLanguage"),_.eVar12=f.ev12||"",_.eVar16=f.ev16||"",_.eVar24=f.ev24||_satellite.getVar("userID"),_.eVar25=f.ev25||_satellite.getVar("userStatus"),_.eVar27=f.ev27||"",_.eVar28=f.ev28||"",_.eVar29=f.ev29||"",_.eVar32=f.ev32||"",_.eVar34=f.ev34||_satellite.getVar("pageTitle"),_.eVar43=f.ev43||_satellite.getVar("sysEnv"),_.eVar55=f.ev55||"",_.eVar56=f.ev56||"",_.eVar65=f.ev65||"",_.eVar66=f.ev66||"",_.eVar68=f.ev68||"",_.eVar69=f.ev69||"",null!=f.ev70&&(_.eVar70=f.ev70),null!=f.ev81&&(_.eVar81=f.ev81)}t.linkTrackVars=_satellite.getVar("linkTrackVars")+",list2,list3,eVar84,eVar98",_.eVar99=i,a.AnaPage?(t.tl(!0,"o","Asset InView",_),n&&console.log("#### L1 D: trackAssetAction Tracked")):n&&console.log("### L1 D: trackAssetAction. Link NOT Tracked. AnaPage:",a.AnaPage)}else n&&console.log("~~~~ D: trackAssetAction No Assets")}},trackerProperties:{}}}]},{id:"RLc898df635d264672b4037d5415c689e5",name:"OneTrust Preference Change",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"OneTrustPreferences"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=sessionStorage.getItem("com.adobe.alConfig")||{},n=_satellite.getVar("FifaComPages"),i=JSON.parse(a)||{},r=_satellite.getVar("alConfig"),o=_satellite.getVar("AdobeOptIns"),s=adobe||"",l=s.optIn||"",c=l.permissions||"",d=s.OptInCategories||"",u="230510_ER-OTC";if(r.logging&&console.log("### ",u,". New OTPrefs:",r.OTPrefs,". Previous OTPrefs:",i.OTPrefs,". A. OptIns Reqd:",o," . A. OptIns Current:",l.permissions,". AnaPage:",r.AnaPage,". Teal:"+r.TealPage+". Lot:"+r.LotPage+". Tgt (pixels):"+r.Tgt+". GamPage (pixels):"+r.GamPage),!c.aa||!r.AnaPage)for(var g in r.logging&&console.log("### ",u,". Remove falhEvents:",localStorage.getItem("com.adobe.falhEvents")),localStorage.removeItem("com.adobe.falhEvents"),localStorage)/^com\.adobe\.aiv\./.test(g)&&(r.logging&&console.log("### ",u,". Remove key:",g,localStorage.getItem(g)),localStorage.removeItem(g));if(l?(o.aa?l.approve(d.ANALYTICS):l.deny(d.ANALYTICS),o.ecid?l.approve(d.ECID):l.deny(d.ECID),o.mediaaa?l.approve(d.MEDIA_ANALYTICS):l.deny(d.MEDIA_ANALYTICS),r.logging&&console.log("### ",u,". OTPrefs:",r.OTPrefs,". A. OptIns Updated:",l.permissions)):r.logging&&console.log("### ",u,". OptIns NOT Updated adobe.optIn undefined"),window.Tealium={},window.tealium=window.tealium||{q:[]},r.TealPage||r.LotPage||r.Tgt||r.GamPage){r.logging&&console.log("### ",u,". FPLibraries called."),_satellite.track("FPLibraries",{alConfig:r}),r.TealPage&&(u+=",TE"),r.LotPage&&(u+=",LO"),r.fpix&&(u+=",PI",t.events+=",event86");var f={pixEvent:"OT Page View"};f.sEvents=t.events,f.pageName=t.pageName,f.pageLang=t.eVar11,f.u=location.hostname+location.pathname,f.tagIds=t.eVar133||"",r.logging&&console.log("###  ",u,". FPPixelEvents Called***"),setTimeout((function(){_satellite.track("FPPixelEvents",{alConfig:r,cEvents:f})}),750)}else r.logging&&console.log("### ",u,". FPLibraries NOT called not a pixel page.");if(r.AnaPage){try{var p=JSON.parse(sessionStorage.getItem("com.adobe.fPageInfo"))||{}}catch(e){r.logging&&console.log("###  ",u,". Set AA---- fPageInfo parse error, overwrite"),p={}}if(Object.keys(p).length){for(var g in p)/^(eVar|events|channel|pageName|campaign)/.test(g)&&(t[g]=p[g]);sessionStorage.removeItem("com.adobe.fPageInfo"),sessionStorage.setItem("com.adobe.ort",!0),sessionStorage.setItem("com.adobe.orit",!0),t.eVar99=u,t.t(),r.logging&&console.log("###  ",u,". On-page-opt-in Set. fPageInfo:",p,". s:",t)}else r.logging&&console.log("###  ",u,". On-page-opt-in NOT Set. AnaPage:",r.AnaPage,". fPageInfo:",p,". s:",t)}else r.logging&&console.log("###  ",u,". On-page-opt-in NOT Set. AnaPage:",r.AnaPage);!r.Tgt&&i.Tgt&&n?(urlParams=_satellite.getVar("URLParams")||{},void 0===urlParams.context||"app"!=urlParams.context?(r.logging&&console.log("### ",u,". Reloading...."),location.reload()):r.logging&&console.log("### ",u,". Webview Not Reloading....")):r.logging&&console.log("### ",u,". F+ Tgt not changed to off. Not Reloading....fifacom:",n,". !alConfig.Tgt:",!r.Tgt,". preAlConfig.Tgt:",i.Tgt,". cond:",!r.Tgt&&i.Tgt)}},trackerProperties:{}}}]},{id:"RLd3302ddf65bf49e094e558bc077e83d5",name:"trackPidAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPidAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=sessionStorage.getItem("com.adobe.alConfig")||{};try{a=JSON.parse(a)}catch(e){"production"!=_satellite.environment.stage&&console.log("### D:trackPidAction. Set AA---- alConfig parse error, overwrite"),a={}}var n=a.logging,i="."+location.hostname.split(".").slice(-2).join("."),r=e.detail||"",o=r.event||"",s=r.pageName||"",l=r.campaign||"",c=r.context||"",d=r.adobe_mc||"",u=r.appID||r.appId||"",g=(new URLSearchParams(location.search.toLowerCase()),{}),f="231108-DR_PID",p="",m="";n&&console.log("### D:trackPidAction. Context- event:",o,". pageName:",s,". pageLang:",r.pageLang,". campaign:",l,". context",c,". adobe_mC",d,". appId",u),t.clearVars(),t.events="",t.linkTrackVars=a.lTrackV,/pageView|signUpRequest|resetRequest|resetVerified/.test(o)?(t.events="event2",t.pageName="account:"+s,"sign-up-1"==s&&(t.events+=",event18",p="-signUpStart",l&&(m="-signUpStart")),f+="-PV",/signUpRequest/.test(o)?g.pixEvent="F+ Sign Up RequestPage View":g.pixEvent="F+ Page View"):t.pageName="account:"+o,/signUpRequest|resetRequest|resetVerified/.test(o)?t.pageName="account:"+o:"signIn"==o?(_satellite.cookie.set("fs_fliu",!0,{expires:7,domain:i,path:"/"}),t.events="event7",f+="-SI",g.pixEvent="F+ Sign In"):"signUpVerified"==o?(_satellite.cookie.set("fs_fliu",!0,{expires:7,domain:i,path:"/"}),t.events="event19",t.eVar45=t.eVar43+"-"+l,t.linkTrackVars+=",eVar45",f+="-SU",g.pixEvent="F+ Sign Up"):/pageView/.test(o)||(f+="-A",g.pixEvent="F+ Action"),t.eVar46="account:"+(o||"")+p,l&&(t.eVar46+=":"+l,t.pageName+=":"+l,t.list3=l,t.eVar84=l+":"+(o||"")+m,t.eVar109=l,t.linkTrackVars+=",list3,eVar84,eVar109"),t.channel="account",r.cid&&(t.campaign=r.cid,t.linkTrackVars+=",eVar0"),r.intcmp&&(t.eVar2=r.intcmp,t.linkTrackVars+=",eVar2"),t.eVar8="D=pageName",t.eVar9="D=ch",t.eVar10="",/MCMID%3D/.test(d)?d=(d.split("MCMID%3D")[1]||"").split("%7C")[0]:/MCMID=/.test(d)&&(d=(d.split("MCMID=")[1]||"").split("|")[0]),t.eVar43=_satellite.getVar("sysEnv"),t.eVar10+=",cCampaign:"+l+",cContext:"+c+",cAdobeMC:"+d+",cAppId:"+u,t.eVar11=r.pageLang||"",t.eVar25="not logged in",t.eVar34=(document.title||"").toLowerCase(),t.eVar66=t.eVar46||"",t.eVar70=location.hostname+location.pathname,u&&(t.linkTrackVars+=",eVar75",t.eVar75=u),t.eVar81=a.OTPrefs,t.eVar86=document.referrer,t.eVar93=a.lotId,t.eVar94=a.tealId,t.eVar95="D=mid",a.TealPage||a.LotPage||a.GamPage||a.Tgt?(a.TealPage&&(f+=",TE"),a.LotPage&&(f+=",LO"),a.Tgt&&(f+=",PI",t.events+=",event86"),g.pageName=t.pageName,g.pageLang=r.pageLang||"",g.sEvents=t.events,n&&console.log("### D:trackPidAction. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"PID",alConfig:a,cEvents:g})):n&&console.log("### D:trackPidAction. FPPixelEvents NOT Called***"),t.eVar99=f,/Page\sView$/.test(g.pixEvent)&&a.AnaPage?(n&&console.log("### D:trackPidAction. PV fired. AnaPage:",a.AnaPage,". pixEvent:",g.pixEvent,"***"),t.t()):a.AnaPage?(n&&console.log("### D:trackPidAction. Event fired. AnaPage:",a.AnaPage,". pixEvent:",g.pixEvent,"***"),t.tl(!0,"o","PID Action")):n&&console.log("### D:trackPidAction. Event fired. AnaPage:",a.AnaPage,". pixEvent:",g.pixEvent,"***")}},trackerProperties:{}}}]},{id:"RLd90e3f52887b4daeb8f70707d3381d49",name:"dlEvents",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlEvents"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(){var e=_satellite.getVar("URLParams");e||(e={}),(e.cid||o.uP.cid)&&(o.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=o.uP.cid||"",t.events+=",event30",_=!0,o.logging&&console.log("### DLEV . cid from alConfig",t.events,t.campaign,_)):(e.cid&&(t.campaign=e.cid,(/undefined/.test(s.cid)||s.cid!=e.cid)&&(t.events+=",event30")),o.logging&&console.log("### DLEV . cid from urlParams or alC if urlParams null:",t.events,t.campaign,s.cid,"cUp-cid:",e.cid,"alC-id:",o.uP.cid)),s.cid=t.campaign),(e.intcmp||o.uP.intcmp)&&(o.uP.intcmp&&!sessionStorage.getItem("com.adobe.orit")?(t.eVar2=o.uP.intcmp||"",t.events+=",event29",b=!0,o.logging&&console.log("### DLEV fn. cid from alConfig",t.events,t.eVar2,b)):(e.intcmp&&(t.eVar2=e.intcmp,(/undefined/.test(s.intcmp)||s.intcmp!=e.intcmp)&&(t.events+=",event29")),o.logging&&console.log("### DLEV fn. cid from urlParams or alC if urlParams null:",t.events,"s.eVar2:",t.eVar2,"hUp.intcmp:",s.intcmp,"cUp-intcmp:",e.intcmp,"alC-intcmp:",o.uP.intcmp)),s.intcmp=t.eVar2);var a=new URLSearchParams(location.search);if(t.eVar3=a.get("s_oid")||o.uP.s_oid||"",t.eVar4=a.get("s_uid")||o.uP.s_uid||"",t.eVar6=a.get("s_pid")||o.uP.s_pid||"",t.eVar82=a.get("s_cid")||o.uP.s_cid||"",t.eVar83=a.get("linkid"),a.get("c")||a.get("pid")||o.uP.c||o.uP.pid){var n=(a.get("c")||o.uP.c||"")+(a.get("pid")||o.uP.pid||"");t.events+=",event25",t.eVar102=n}if(t.eVar68=a.get("utm_campaign")||o.uP.utm_campaign||"",t.eVar103=a.get("utm_source")||o.uP.utm_source||"",t.eVar104=a.get("utm_medium")||o.uP.utm_medium||"",t.eVar105=a.get("utm_term")||o.uP.utm_term||"",t.eVar106=a.get("utm_content")||o.uP.utm_content||"",t.eVar11=k.pageLang||"",t.pageName=k.pageName||"",!/:games:/.test(k.pageName)&&"selectionComplete"!=m||/pageLoad|viewChange|assetClick/.test(m)||(t.events+=",event127"),t.eVar10="",a.get("campaign")&&(t.eVar10+=",campaign:"+a.get("campaign")),a.get("appId")?t.eVar10+=",appId:"+a.get("appId"):a.get("appID")&&(t.eVar10+=",appId:"+a.get("appID")),a.get("adobe_mc")&&(t.eVar10+=",adobe_mc:"+a.get("adobe_mc")),a.get("context")&&(t.eVar10+=",context:"+a.get("context"),a.get("context")),t.eVar43=_satellite.getVar("sysEnv"),o.AnaPage)switch(sessionStorage.setItem("com.adobe.ort",_),sessionStorage.setItem("com.adobe.orit",b),sessionStorage.removeItem("com.adobe.fPageInfo"),sessionStorage.setItem("com.adobe.falhEvents",JSON.stringify(s)),m){case"pageLoad":case"viewChange":l&&console.log("### DLEV Track AA s.t():",m,u),t.t(u);break;default:l&&console.log("### DLEV Track AA s.tl():",m,u),t.tl(!0,"o",m,u)}else if(/pageLoad|viewChange/.test(m)){var i={};for(var r in t)/^(eVar|events|channel|pageName|campaign)/.test(r)&&(i[r]=t[r]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(i)),l&&console.log("### DLEV. PV NOT fired, not AnaPage. Stored fPageInfo:",i)}else l&&console.log("### DLEV Track Link Blocked. AnaPage:",m,o.AnaPage)}function n(){l&&console.log("### DLEV Ecommerce Update Function"),t.eVar81=o.OTPrefs,u.eVar8=o.pageName,l&&console.log("### DLEV linkTrackVars: "," events: ",t.events);var e=[],a=[],n=[],r=[],c=[],d=[],g=[],p=[],v=f.currencyCode||"";for(v?(u.currencyCode=v,s.currencyCode=v):s.currencyCode&&(u.currencyCode=s.currencyCode),i=0;i<h.length;i++)e[i]=h[i].name.replace(/,|;/g,"-"),e[i]=e[i].replace("FIFA World Cup Qatar 2022\u2122","FWC22").substring(0,92),a[i]=h[i].id||"",a[i]&&(a[i]="eVar141="+a[i]),n[i]=h[i].quantity||"",r[i]=h[i].price||"",h[i].category?(c[i]=h[i].category.replace(/,|;/g,"-"),c[i]=c[i].replace(" / Ticket Price",""),a[i]?c[i]="|eVar80="+c[i]:c[i]="eVar80="+c[i]):c[i]="",n[i]&&r[i]?(d[i]=n[i]*r[i],d[i]=(Math.round(100*d[i])/100).toFixed(2)):d[i]="",g[i]="addToCart"==m?"event107="+n[i]:"eec.purchase"==m?"event106="+d[i]:"",p[i]=";"+e[i]+";"+n[i]+";"+d[i]+";"+g[i]+";"+a[i]+c[i],p[i]=p[i].replace(/;+$/g,"");p=p.toString(),u.products=p,o.AnaPage?(l&&console.log("### DLEV ecommerceUpdate. oRide:",JSON.stringify(u)),sessionStorage.setItem("com.adobe.falhEvents",JSON.stringify(s)),t.tl(!0,"o",m,u)):l&&console.log("### DLEV ecommerceUpdate. Blocked. AnaPage:",o.AnaPage)}function r(){if(l&&console.log("### DLEV Application Event Function"),""!=y){l&&console.log("*** DLEV RSD Updated Products:",y),t.events="event6",u.eVar46="ticketing-lottery-request";var e={confirm:"conf",edit:"ed",delete:"del",submit:"sub","a-ticket-request":"req",clicked:"clik",succeeded:"succ","profile-details":"prof"};y=y.join("|").replace(/\b(?:confirm|edit|delete|submit|a-ticket-request|clicked|succeeded|profile-details)\b/g,(function(t){return e[t]})),u.eVar79=y}null!=u.eVar46?(l&&console.log("*** DLEV RSD Sending Events:",u.eVar46),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(d+=",TE"),o.LotPage&&(d+=",LO"),o.fpix&&(d+=",PI",t.events+=",event86"),k.pixEvent=u.eVar46,k.sEvents=t.events,k.tixProd=u.eVar79,l&&console.log("***### DLEV Ticketing Action. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:k})):l&&console.log("***### DLEV Ticketing Action. FPPixelEvents NOT Called***"),o.AnaPage?(l&&console.log("### DLEV RSD Track Ticketing Action. Link Tracked"),t.tl(!0,"o","Ticketing Event Action",u)):l&&console.log("### DLEV RSD Track Ticketing Action. Blocked. AnaPage:",o.AnaPage)):l&&console.log("*** DLEV RSD NO Events to send")}var o=sessionStorage.getItem("com.adobe.alConfig")||{};try{o=JSON.parse(o)}catch(e){"production"!=_satellite.environment.stage&&console.log("### DLEV. alConfig parse error, overwrite"),o={}}o.uP=o.uP||{};try{var s=JSON.parse(sessionStorage.getItem("com.adobe.falhEvents"))||{}}catch(e){o.logging&&console.log("### DLEV. hEvents parse error, overwrite"),s={}}var l=o.logging,c=parseInt(sessionStorage.getItem("com.adobe.dataLayerS"))||0;l&&console.log("### DLEV dataLayerStart: ",c," dataLayer length: ",dataLayer.length),sessionStorage.setItem("com.adobe.dataLayerS",dataLayer.length);var d="230803-DLC",u={},g={},f={},p={},m="",h=[],v=0,y=(location.pathname,[]),_=sessionStorage.getItem("com.adobe.ort")||"",b=sessionStorage.getItem("com.adobe.orit")||"";t.linkTrackVars="",t.eVar26="",t.eVar41="",t.eVar42="",t.eVar49="",t.eVar63="",t.eVar64="",t.eVar76="",t.eVar79="",t.eVar80="",t.eVar84="",t.eVar140="",t.eVar141="",t.eVar142="",t.products="",t.currencyCode="",t.purchaseID="";var k={};for(k.u=location.hostname+location.pathname,o.fifaplusGames||(k.pageName=t.pageName,k.pageLang=t.eVar11),t.eVar99=d,v=c;v<dataLayer.length;v++){if(g=dataLayer[v],f=g.ecommerce||"",m=g.event||"",g.asset&&(u.eVar84=g.asset),void 0!==g["event-data"]){var C=g["event-data"]||{},S=C.action||"",P=C.label||"";l&&console.log("*** DLEV RSD Event",v,S,P),S=S.toLowerCase().replace(/\s+/g,"-"),P=(P=P.toLowerCase().replace(/\s+/g,"")).replace(/matchgroupmatches/g,"mg").replace(/match/g,"m").replace(/category/g,"cat"),l&&console.log("*** DLEV RSD Event, cleansed",v,S,P)}switch(o.fifaplusGames&&(g.pageName?k.pageName=(g.pageName||"").replace("games:fwc22-hyundai-","worldcup:qatar2022:games:").replace(/ /g,"-").toLowerCase():t.pageName?k.pageName=t.pageName:k.pageName="play:playzone",k.pageLang=g.language||t.eVar11||"unknown",l&&console.log("*** DLEV Games Event",v,g.event,g.asset,". Opted-in:",o.DataPage,". SSO:",g.ssoId),o.DataPage&&(g.ssoId&&(t.eVar22=g.ssoId,o.fpID=t.eVar22),g.userStatus?t.eVar25=g.userStatus:g.ssoId?t.eVar25="logged in":t.eVar25="not logged in",o.uS=t.eVar25)),m){case"ee-productView":l&&console.log("### DLEV Product Detail View Function Init"),t.events="prodView",u.eVar46="ticketing-ecommerce-productView",p=f.detail||"",h=p.products||"",n();break;case"addToCart":l&&console.log("### DLEV Add to Cart Function Init"),t.events="scAdd,event80,event107",u.eVar46="ticketing-ecommerce-add",p=f.add||"",h=p.products||"",n();break;case"removeFromCart":l&&console.log("### DLEV Remove from Cart Function Init"),t.events="scRemove,event81",u.eVar46="ticketing-ecommerce-remove",p=f.remove||"",h=p.products||"",n();break;case"ee-checkout":/tickets:fcfs-.+?:checkout:(confirmation|cancelpayment)/.test(o.pageName)||(l&&console.log("### DLEV Checkout Function Init"),t.events="scCheckout",u.eVar46="ticketing-ecommerce-checkout",p=f.checkout||"",h=p.products||"",n());break;case"eec.purchase":l&&console.log("### DLEV Purchase Function Init"),t.events="purchase,event82,event106",u.eVar46="Purchase";var E=Math.floor(1e13*Math.random()),I=((p=f.purchase||"").actionField||"").id||"";I&&(u.eVar140=I+"-"+E),h=p.products||"",o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(d+=",TE"),o.LotPage&&(d+=",LO"),o.fpix&&(d+=",PI",t.events+=",event86"),k.pixEvent=u.eVar46,k.sEvents=t.events,l&&console.log("***### DLEV Purchase Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:k})):l&&console.log("***### DLEV Purchase Function. FPPixelEvents NOT Called***"),n();break;case"onLoginSuccess":l&&console.log("### DLEV Login Success"),t.eVar24=o.uID,t.eVar25=o.uS,t.eVar26=o.uPID,t.eVar27=_satellite.getVar("userDOB"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry");break;case"APPLICATION_EVENTS":/ticket-request|submit|profile/.test(S)&&(y.push(S+","+P),l&&console.log("*** DLEV RSD Event",v,"Ticket Request",S,P,y)),r();break;case"ACCOUNT_EVENTS":"login-succeeded"==S&&(t.eVar24=o.uID,t.eVar25=o.uS,t.eVar26=o.uPID,t.eVar27=_satellite.getVar("userDOB"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry"),l&&console.log("*** L1 DLEV RSD Event",v,"Login Succeeded",S,P));break;case"pageLoad":l&&console.log("### DLEV Games Page Load - pageName:",k.pageName),t.clearVars(),t.events="event2",t.eVar46="Page View",t.pageName=k.pageName,t.channel=k.pageName.split(":")[1]||"",t.eVar5=k.pageName.split(":")[k.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",u.eVar84&&(t.events+=",event27"),t.eVar11=k.pageLang,o.DataPage&&(g.ssoId&&(t.eVar22=g.ssoId||"",o.fpID=t.eVar22),g.userStatus?t.eVar25=g.userStatus:g.ssoId?t.eVar25="logged in":t.eVar25="not logged in",o.uS=t.eVar25),t.eVar34=_satellite.getVar("pageTitle"),t.eVar70=location.hostname+location.pathname,t.eVar81=o.OTPrefs||"",t.eVar86=document.referrer,t.eVar93=o.lotId,t.eVar94=o.tealId,t.eVar95="D=mid",t.eVar99=d+",DPL",t.eVar107=o.dr||"",t.eVar114=o.g||"",t.eVar115=o.gc||"",l&&console.log("***DLEV Games Page Load. DPL fired s:",t,"***"),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(t.eVar99+=",TE"),o.LotPage&&(t.eVar99+=",LO"),o.fpix&&(t.eVar99+=",PI",t.events+=",event86"),k.pixEvent="F+ Games Page View",k.sEvents=t.events,l&&console.log("***### DLEV pageLoad Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:k})):l&&console.log("***### DLEV pageLoad Function. FPPixelEvents NOT Called***"),a();break;case"viewChange":l&&console.log("### DLEV Games View Change",k.pageName),t.events="event2",t.eVar46="Page View",t.pageName=k.pageName,t.channel=k.pageName.split(":")[1]||"",t.eVar5=k.pageName.split(":")[k.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",u.eVar84&&(t.events+=",event27"),t.eVar34=_satellite.getVar("pageTitle"),t.eVar70=location.hostname+location.pathname,t.eVar99=d+",VC",l&&console.log("### DLEV Games View Change oRide:",u),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(t.eVar99+=",TE"),o.LotPage&&(t.eVar99+=",LO"),o.fpix&&(t.eVar99+=",PI",t.events+=",event86"),k.pixEvent="F+ Games Page View",k.sEvents=t.events,l&&console.log("***### DLEV viewChange Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:k})):l&&console.log("***### DLEV viewChange Function. FPPixelEvents NOT Called***"),a();break;case"videoStart":l&&console.log("### DLEV Games Video Start"),t.events="event12",u.eVar42=g.videoName||"",u.eVar46="Content Bracket Video Start",l&&console.log("### DLEV Games Video Start oRide:",u),a();break;case"videoComplete":l&&console.log("### DLEV Games Video Complete"),t.events="event13",u.eVar42=g.videoName||"",u.eVar46="Content Bracket Video Complete",l&&console.log("### DLEV Games Video Complete oRide:",u),a();break;case"vote":l&&console.log("### DLEV Games Vote"),t.events="event35",u.eVar46="Vote Submit",u.eVar63="fifacom-games-bracket";var A=g.voteSource||"";A&&(A=(A=A.replace(/ /g,"-")).toLowerCase()),u.eVar64=k.pageName.split(":")[k.pageName.split(":").length-3]+":"+k.pageName.split(":")[k.pageName.split(":").length-2]+":"+A,l&&console.log("### DLEV Games Vote oRide:",u),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(t.eVar99+=",TE"),o.LotPage&&(t.eVar99+=",LO"),o.fpix&&(t.eVar99+=",PI",t.events+=",event86"),k.pixEvent="Vote Submit",k.sEvents=t.events,l&&console.log("***### DLEV vote Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:k})):l&&console.log("***### DLEV vote Function. FPPixelEvents NOT Called***"),a();break;case"socialShare":t.events="event26",u.eVar46="Social Click",u.eVar49=g.socialShareSource||"",u.eVar76=g.socialShareType||"",l&&console.log("### DLEV Games Social Share:",u),a();break;case"selectionStart":t.events="event77",u.eVar46="Selection Start",l&&console.log("### DLEV Games Selection Start:",u),a();break;case"selectionComplete":t.events="event45",u.eVar46="Selection Complete",u.eVar63=(g.asset||"").split(":")[0],g.source&&(u.eVar64=u.eVar63+":"+g.source),l&&console.log("### DLEV Games Selection Complete:",u),a();break;case"submitForm":case"submitPledge":t.events="event114",u.eVar46="Submit Form",l&&console.log("### DLEV Games Submit Form:",u),a();break;case"createLeague":t.events="event47",u.eVar46="Create League",l&&console.log("### DLEV Games Create League:",u),a();break;case"joinLeague":t.events="event48",u.eVar46="Join League",l&&console.log("### DLEV Games Join League:",u),a();break;case"leaveLeague":t.events="event49",u.eVar46="Leave League",l&&console.log("### DLEV Games Leave League:",u),a();break;case"deleteLeague":t.events="event50",u.eVar46="Delete League",l&&console.log("### DLEV Games Delete League:",u),a();break;case"autoComplete":t.events="event53",u.eVar46="Auto Complete",l&&console.log("### DLEV Games Auto Complete:",u),a();break;case"playWildcard":t.events="event54",u.eVar46="Play Wild Card",l&&console.log("### DLEV Games Play Wild Card:",u),a();break;case"transferPlayer":t.events="event55",u.eVar46="Transfer Player",l&&console.log("### DLEV Games Transfer Player:",u),a();break;case"boostCaptain":t.events="event56",u.eVar46="Boost Captain",l&&console.log("### DLEV Games Boost Captain:",u),a();break;case"boostTeam":t.events="event56",u.eVar46="Boost Team",l&&console.log("### DLEV Games Boost Team:",u),a();break;case"boostBench":t.events="event57",u.eVar46="Boost Bench",l&&console.log("### DLEV Games Boost Bench:",u),a();break;case"saveTeam":t.events="event58",u.eVar46="Save Team",l&&console.log("### DLEV Games Save Team:",u),a();break;case"resetPrediction":t.events="event78",u.eVar46="Reset Prediction",l&&console.log("### DLEV Games Reset Prediction:",u),a();break;case"downloadPrediction":t.events="event79",u.eVar46="Download Prediction",l&&console.log("### DLEV Games Download Prediction:",u),a();break;case"copyLink":t.events="event51",u.eVar46="Copy Link",u.eVar76=g.socialShareType||"",l&&console.log("### DLEV Games Copy Link:",u),a();break;case"sendInvites":t.events="event51",u.eVar46="Invite to Group",u.eVar76=g.socialShareType||"",l&&console.log("### DLEV Games Send Invites:",u),a();break;case"joinGroup":t.events="event48",u.eVar46="Join Group",l&&console.log("### DLEV Games Join Group:",u),a();break;case"drawNationSelect":case"drawStart":t.events="event77",u.eVar46="Draw Predictor Start",l&&console.log("### DLEV Games Draw Start:",u),a();break;case"drawReset":t.events="event78",u.eVar46="Draw Predictor Reset",l&&console.log("### DLEV Games Draw Reset:",u),a();break;case"drawTeamSwitch":t.events="event66",u.eVar46="Draw Predictor Edit",l&&console.log("### DLEV Games Draw Team Switch:",u),a();break;case"drawSubmit":t.events="event59",u.eVar46="Draw Predictor Submit",l&&console.log("### DLEV Games Draw Submit:",u),a();break;case"assetClick":t.events="event28",u.eVar46="Asset Click",g.source&&(u.eVar63=(g.asset||"").split(":")[0],u.eVar64=u.eVar63+":"+(g.source||"")),l&&console.log("### DLEV assetClick:",u),a();break;case"partnerLinkLoad":t.pageName=k.pageName,t.channel=k.pageName.split(":")[1]||"",t.eVar5=k.pageName.split(":")[k.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",t.events="event27",u.eVar46="Asset Load",u.eVar70=location.hostname+location.pathname,u.eVar84="fwc-2022-draw-predictor:title-banner",l&&console.log("### DLEV Games Draw PartnerLinkLoad:",u),a();break;case"partnerLinkClick":t.events="event28",u.eVar41=((g.partner||"")+":"+(g.source||"")).toLowerCase(),u.eVar46="Asset Click",u.eVar84="fwc-2022-draw-predictor:title-banner",l&&console.log("### DLEV Games Draw PartnerLinkClick:",u),a()}}}},trackerProperties:{}}}]},{id:"RLe37767ad409a4446aa0e17ad901d1c15",name:"trackViewChange",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackViewChange"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("### DR trackViewChange. alConfig parse error, overwrite"),a={}}a.logging&&console.log("### DR trackViewChange activated"),a.uP=a.uP||{};try{var n=JSON.parse(sessionStorage.getItem("com.adobe.alhEvents"))||{}}catch(e){a.logging&&console.log("### DR trackViewChange. Page View. hEvents parse error, overwrite"),n={}}var i=a.logging;i&&console.log("### DR trackViewChange - 2023-12-18 0900 ###");var r=_satellite.getVar("pageName"),o=_satellite.getVar("URLParams")||{},s=_satellite.getVar("pageLanguage"),l=e.detail||"",c=l.action||"",d=l.actionName||"";if(/^(ddlPageNameChange|DURLChange)$/.test(c)&&t.pageName==r&&t.eVar11==s)i&&console.log("### DR trackViewChange Abort, s.pageName:",t.pageName,"_satellite.getVar(pageName)",r,"s.eVar99:",t.eVar99);else{if("Overlay"==c&&(r=r.replace(r.split(":").pop(),"")+d+":overlay"),a.AnaPage){for(var u in localStorage)if(/^com.adobe.aiv.e./.test(u)){sessionStorage.setItem("com.adobe.aiv.a",!0),i&&console.log("### DR trackViewChange Asset InView Tracked 2021-09-30 001. Time:",Date.now(),", direct call trackAssetAction, active flag",sessionStorage.getItem("com.adobe.aiv.a")),_satellite.track("trackAssetAction",{action:"VC AIV"});break}}else i&&console.log("### DR trackViewChange Asset InView Tracking Disabled. Nothing to track or Analytics disabled. ####");var g="231218-DR_VC",f=sessionStorage.getItem("com.adobe.ort")||"";if(void 0!==t.eVar99&&"!"==t.eVar99.substring(0,1)&&(g="!"+g),t.events="event2",i&&console.log("***DR trackViewChange. urlParams:",JSON.stringify(o||""),"hEvents:",JSON.stringify(n||""),"alConfig.uP:",JSON.stringify(a.uP||"")),(o.cid||a.uP.cid)&&(a.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=a.uP.cid||"",t.events+=",event30",f=!0,a.logging&&console.log("***DR trackViewChange. cid from alConfig",t.events,t.campaign,f)):(t.campaign=o.cid||a.uP.cid||"",o.cid&&(/undefined/.test(n.cid)||n.cid!=o.cid)&&(t.events+=",event30"),a.logging&&console.log("***DR trackViewChange. cid from urlParams or alC if urlParams null:",t.events,"s.campaign:",t.campaign,"hEvents.cid:",n.cid,"urlP-cid:",o.cid,"alC-id:",a.uP.cid))),o.intcmp&&((/undefined/.test(n.intcmp)||n.intcmp!=o.intcmp)&&(t.events+=",event29",i&&console.log("***DR trackViewChange. intcmp:",t.events,"hEvents.intcmp:",n.intcmp||"","urlParams.intcmp:",o.intcmp||"")),t.eVar2=o.intcmp||a.uP.intcmp||""),t.eVar3=o.s_oid||a.uP.s_oid||"",t.eVar4=o.s_uid||a.uP.s_uid||"",t.eVar6=o.s_pid||a.uP.s_pid||"",t.eVar82=o.s_cid||a.uP.s_cid||"",t.eVar83=o.linkid,o.c||o.pid||a.uP.c||a.uP.pid){var p=(o.c||a.uP.c||"")+(o.pid||a.uP.pid||"");t.events+=",event25",t.eVar102=p}t.eVar68=o.utm_campaign||a.uP.utm_campaign||"",t.eVar103=o.utm_source||a.uP.utm_source||"",t.eVar104=o.utm_medium||a.uP.utm_medium||"",t.eVar105=o.utm_term||a.uP.utm_term||"",t.eVar106=o.utm_content||a.uP.utm_content||"",a.fifaplusNft&&/payments:success|(unified|credits)-payment-success/.test(r)&&!/:pack-opening:/.test(r)&&(t.events+=",event82"),t.pageName=r;var m=r.split(":");"fifacom"==m[0]?(m.shift(),
t.eVar53=r.substring(r.indexOf(":")+1,r.lastIndexOf(":"))):t.eVar53=r.substring(0,r.lastIndexOf(":")),t.channel=m[0],t.eVar15=m[0],t.eVar51=m[0],t.eVar52=m[0],m.length-2>=1&&(t.eVar15=t.eVar15+":"+m[1],t.eVar51=t.eVar15,t.eVar52=t.eVar15),m.length-2>=2&&(t.eVar51=t.eVar51+":"+m[2],t.eVar52=t.eVar51),m.length-2>=3&&(t.eVar52=t.eVar52+":"+m[3]),t.eVar5=r.split(":")[r.split(":").length-1];var h=0;"undefined"!=typeof dataLayer&&(h=dataLayer.length),i&&console.log("### DR trackViewChange - PageName: ",r,"dataLayer.length:",h,"Events: ",t.events,"Sec:",t.channel,"SS1:",t.eVar15,"SS2:",t.eVar51,"SS3:",t.eVar52,"SS4:",t.eVar53,"###");var v="",y="",_="";if("undefined"!=typeof digitalData&&(digitalData.user&&(t.eVar28=digitalData.user.gender||""),digitalData.page&&(digitalData.page.pageInfo&&(t.eVar12=digitalData.page.pageInfo.pageSlug||"",t.eVar69=digitalData.page.pageInfo.issueDate||"",y=digitalData.page.pageInfo.pageParentID||"",_=digitalData.page.pageInfo.pageParentTitle||""),digitalData.page.attributes&&(t.eVar55=digitalData.page.attributes.status||"",t.eVar56=digitalData.page.attributes.competitionEdition||"",v=digitalData.page.attributes.contentName||"",""==y&&(y=digitalData.page.attributes.xLangContentID||""),""==_&&(_=digitalData.page.attributes.contentName||""),digitalData.page.attributes.entity&&(t.eVar16=digitalData.page.attributes.entity.id||"")))),""==v&&(v=document.title),""==_&&/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/($|(|.+\/)(photos|videos)\/)/.test([location.hostname,location.pathname].join(""))&&(_=location.hash.replace(/#/g,"")),t.eVar5=r.split(":")[r.split(":").length-1],t.eVar7=_satellite.getVar("pageID"),t.eVar8="D=pageName",t.eVar9="D=ch",t.eVar11=s,t.eVar24=_satellite.getVar("userID"),t.eVar25=_satellite.getVar("userStatus"),t.eVar26=_satellite.getVar("userProviderID"),t.eVar27=_satellite.getVar("userDOB"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry"),t.eVar34=v.toLowerCase(),t.eVar43=_satellite.getVar("sysEnv"),t.eVar65=y.toLowerCase(),t.eVar66=_.toLowerCase(),t.eVar70=location.hostname+location.pathname,t.eVar77="",t.eVar81=a.OTPrefs,t.eVar86=document.referrer,t.eVar93=_satellite.getVar("LotID"),t.eVar94=_satellite.getVar("TeaID"),t.eVar95="D=mid",t.eVar107=a.dr||"",/^fifagg:/.test(r)&&/\:thank\-you/.test(r)&&(t.events+=",event64",t.eVar46="Register with Fifa.gg"),(a.mcPages||a.insideFifa||a.ticketing||/^fifagg\:/.test(r))&&(setTimeout((function(){_satellite.track("AssetOnLoad")}),3e3),i&&console.log("('### DR trackViewChange DCR AOL timeout 3000")),a.mcPages||a.insideFifa||a.fifaplusNft?(setTimeout((function(){_satellite.track("AssetOnClick")}),1e3),i&&console.log("### DR trackViewChange DCR AssetOnClick timeout 1000")):i&&console.log("### DR trackViewChange DCR AssetOnClick NOT called"),a.TealPage||a.LotPage||a.Tgt?(a.TealPage&&(g+=",TE"),a.LotPage&&(g+=",LO"),a.Tgt&&(g+=",PI",t.events+=",event86"),cEvents={},cEvents.sEvents=t.events,cEvents.pageName=r,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.urlParams=o,cEvents.pixEvent="FC Page View",i&&console.log("### DR trackViewChange FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"TVC",alConfig:a,cEvents:cEvents})):i&&console.log("### DR trackViewChange FPPixelEvents NOT Called***"),t.eVar99=g,(a.mcPages||a.insideFifa||/^fifagg\:/.test(r))&&setTimeout((function(){_satellite.track("AssetOnLoad")}),3e3),a.mcPages||a.insideFifa||a.fifaplusNft?(setTimeout((function(){_satellite.track("AssetOnClick")}),1e3),i&&console.log("*** TVC - DCR AssetOnClick timeout 1000 ***")):i&&console.log("*** TVC - DCR AssetOnClick NOT fired ***"),a.AnaPage)sessionStorage.setItem("com.adobe.ort",f),sessionStorage.removeItem("com.adobe.fPageInfo"),sessionStorage.setItem("com.adobe.alhEvents",JSON.stringify(o)),i&&console.log("### DR trackViewChange Fired ",location.hostname,a.OTPrefs,g,". ***"),t.t();else{var b={};for(var u in t)/^(eVar|events|channel|pageName|campaign)/.test(u)&&(b[u]=t[u]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(b)),i&&console.log("*** DR trackViewChange NOT fired. AnaPage",a.AnaPage,". Stored fPageInfo:",b)}}}},trackerProperties:{}}}]},{id:"RLe5a72fec68d84c3ba2cfb65917b2e7eb",name:"URL Page Load",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"URLPageLoad"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){var e=_satellite.getVar("LoggingL1"),t=window.location.hostname,a=[location.host,location.pathname].join(""),n="";if("undefined"!=typeof digitalData&&digitalData.page&&digitalData.page.pageInfo&&(n=digitalData.page.pageInfo.pageName||""),e&&console.log("### L1 URL Page Load: ",a,"###"),/^jobs.fifa.com$/.test(t)||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|.+\/)(stories|photos|videos)\//.test(a)||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/$/.test(a)&&""!=window.location.hash.replace(/#/g,"")||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|u17womens|u20womens|womens|u17|u20|club)worldcup(|.+?)\/matches\/match\//.test(a)||_satellite.getVar("FifaggPages")||/lottery(1|2)-(intl|dom)\.fwc22\.tickets\.fifa.com$/.test(t)||_satellite.getVar("McPages")||_satellite.getVar("FifaPlusNFTPages")||/fifadigitalskills\.org/.test(t)||/publications\.fifa\.com/.test(t)||/fifatrainingcentre\.com/.test(t)||/hospitality\.fifa\.com/.test(t)||/ipt\.fifa\.com/.test(t)||/cn\.fifa\.com/.test(t)||/vod\.fifa\.com/.test(t)||/careers\.fifa\.com/.test(t)||/fifafoundation\.com/.test(t)||/fifafoundation\.org/.test(t)||"subuniverse-foundation"==n||/beyondthepitch.keteacher\.com/.test(t)){var i=0;"undefined"!=typeof dataLayer&&(i=dataLayer.length),e&&console.log("### L1 Page Load Call trackViewChange: ",a,"dataLayer.length:",i,"###"),e&&console.log("### L1 URL Page Load Tracking "),_satellite.track("trackViewChange",{action:"DURLChange"})}else e&&console.log("### L1 URL Page Load Disabled: ",a,"###");return!1}},trackerProperties:{}}}]},{id:"RLe9b20fdc1fbf49a9ad63f180fa3f7d34",name:"FEvents",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"FPEvents"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(){y&&console.log("***FEC. pageLoaded fn:",C,"c.pageName",_.hPageName,"h.pageName:",b.pageName,"cEvents:",JSON.stringify(_));var e=_||{};if("first-page"==(_={hPageName:_.pageName||"first-page"}).hPageName||_satellite.cookie.get("adobeSessionCookie")||(_.hPageName="first-page-of-visit"),_.perfTO=e.perfTO||0,_.uS=e.uS||{},y&&console.log("***FEC. pageLoaded fn. cEvents reload cEvents:",JSON.stringify(_),"plEvents:",JSON.stringify(e)),_.uP=_satellite.getVar("URLParams")||{},_.GamIds=[],_.u=location.hostname+location.pathname,_.dt=(document.title||"").toLowerCase(),_.dr=document.referrer,_.intcmp=fevents[C].intcmp||"",void 0!==fevents[C].session&&(_.appId=fevents[C].session.appId||"",_.adobe_mc=(fevents[C].session.adobe_mc||"").toLowerCase(),_.context=fevents[C].session.context||""),"app"==_.uP.context||_.uP.adobe_mc||"App Web View"==_.context||_.adobe_mc?(S="app",_.sysEnv="fifaComAppWebView"):(S="web",_.sysEnv="fifaComWeb"),_.sTagsIds=[],_.sTagsNs=[],void 0!==fevents[C].page&&(y&&console.log("***FEC. pageLoaded fn:",C,"page found"," ***"),_.contentfulChangeDate=(fevents[C].page.contentfulChangeDate||"").split("T")[0],_.contentfulCreatedDate=(fevents[C].page.contentfulCreatedDate||"").split("T")[0],_.contentfulEntryId=fevents[C].page.contentfulEntryId||"",_.contentfulInternalTitle=fevents[C].page.contentfulInternalTitle||"",""==_.contentfulInternalTitle&&(_.contentfulInternalTitle=fevents[C].page.contentfulPageName||""),_.contentfulPageName=(fevents[C].page.contentfulPageName||"").toLowerCase(),_.contentfulType=(fevents[C].page.contentfulType||"").toLowerCase(),_.pageError=fevents[C].page.pageError||"",(A=fevents[C].page.tags||[]).length>0&&r()),_.entryType="",void 0!==fevents[C].sections&&void 0!==fevents[C].sections[0]&&(y&&console.log("***FEC. pageLoaded fn:",C,"sections found"," ***"),""==_.contentfulEntryId&&(_.contentfulEntryId=fevents[C].sections[0].entryId||""),/(^(video|movie)(|episode)detailstemplate|eventtemplate)$/.test(_.contentfulType)&&(_.entryType=(fevents[C].sections[0].entryType||"").toLowerCase().replace("details","").replace("episode","-episode")),void 0!==fevents[C].sections[0].properties&&(_.pHeading=(fevents[C].sections[0].properties.heading||"").toLowerCase())),y&&console.log("***FEC. pageLoaded fn. pageName 0 - pathname:",location.pathname),"watch/"==(m=location.pathname.replace(/^\/(fifaplus\/fifaplus\/[a-z]{2}(\/|$)|fifaplus\/[a-z]{2}(\/|$)|fifaplus|[a-z]{2}(\/|$))/,"").replace(_.contentfulEntryId,"")).substring(0,6)&&""==_.contentfulEntryId&&(y&&console.log("***FEC. pageLoaded fn. pageName fix for watch urls and contentfulEntryID being undefined from",m),m=m.split("/").slice(0,-1).join("/")+"/"+_.contentfulType.toLowerCase().replace("detailstemplate","").replace("eventtemplate","")),/match(|-)cent(re|er)/.test(location.pathname))o();else{if(y&&console.log("***FEC. pageLoaded fn. replace 1 pageName:",m),/^(\/|fifacom|)$/.test(m)?m="home:hub":/(^(video|movie)(|episode)detailstemplate|eventtemplate)$/.test(_.contentfulType)?m=(m+_.entryType).replace("movie/movie","movie"):/categorytemplate$/.test(_.contentfulType)?m=m.replace("cat","category")+_.pHeading+":category-list":/calendartemplate$/.test(_.contentfulType)?m=m+_.pHeading+":list":/^articletemplate$/.test(_.contentfulType)?(_.pageSlug=m.split("articles/").slice(-1)[0],m="news:article"):m=(m+"/hub").replace("//","/"),/^tournaments/.test(m)){var t=m.split("/");_.eCategory=t.slice(0,3).join(":").replaceAll("::",":"),m=t.length>3?m.replace(/^tournaments\/(mens|womens)\//,""):m.replace(/^(mens|womens)(|\/)/,"")}y&&console.log("***FEC. pageLoaded fn. transform 1 pageName:",m)}_.pageName=("fifacom:"+m).replaceAll("/",":").replaceAll(" ","-").replaceAll("::",":"),_.pageError&&(_.pageName=_.pageError+":"+_.pageName,_.eCategory&&(_.eCategory=_.pageError+":"+_.eCategory));var a=location.pathname.replace("fifaplus/","").substring(1,4);/^[a-z]{2}(|\/)$/.test(a)||(a="en"),_.pageLang=a.substring(0,2),y&&console.log("***FEC. pageLoaded fn. analytics c.pageName:",_.pageName,"c.pageLang:",_.pageLang,"cEvents:",JSON.stringify(_));var n=(performance||{}).timeOrigin||0;y&&console.log("***FEC. pageLoaded fn. Performance Time. Origin:",n,"Stored Origin:",_.perfTO),n>0&&_.perfTO<n?(_.perfTO=n,y&&console.log("***FEC. pageLoaded fn. Performance Time to Update. Origin:",n)):(_.perfTO=n+1,y&&console.log("***FEC. pageLoaded fn. Performance Time to NOT Update. Origin:",_.perfTO)),/^((video|movie)(|episode)|matchcentermatch)detailstemplate$/.test(_.contentfulType)||/^maott.+?template$/.test(_.contentfulType)&&_.contentfulInternalTitle==_.contentfulEntryId?(T="video-pageLoaded",y&&console.log("***FEC. pageLoaded fn. analyticsPageView NOT Called. Call updateTracker. c.pageName:",_.pageName),f()):(y&&console.log("***FEC. pageLoaded fn. analyticsPageView Called. c.pageName:",_.pageName,"cEvents:",JSON.stringify(_)),_.pvType="DPL",s(),0!=Object.keys(b).length?(y&&console.log("***FEC. pageLoaded fn. analyticsEvents Called. c.pageName:",_.pageName,". h.pageName:",b.pageName,". hEvents:",JSON.stringify(b)),l()):(T="non-video-pageLoaded",b=_,y&&console.log("***FEC. pageLoaded fn. analyticsEvents NOT Called. Call updateTracker. c.pageName:",_.pageName),f()),setTimeout((function(){_satellite.track("AssetOnClick")}),1500))}function n(){if(y&&console.log("***FEC. sectionLoaded fn.:",C,". c.pageName",_.pageName," ***"),void 0!==fevents[C].sections){var e=fevents[C].sections[0];y&&console.log("***FEC. sectionLoaded fn.:",C,". section found:",e.entryType,e," ***"),"ad"==e.entryType?null!=e.entryId?(_.GamIds.push(e.entryId),_.adConfigurations=_.adConfigurations||[],_.adConfigurations.push(e.entryId+"||"+(e.adConfiguration||"")),y&&console.log("***FEC. sectionLoaded fn.:",C,". adConfigurations found. Call updateTracker:",_.adConfigurations),T="sectionLoaded update",f(),_.GamIds.length>0&&h.GamPage?(y&&console.log("***FEC. sectionLoaded fn.: ",C,". dfpAdsDisplay Called. c.GamIds",_.GamIds),c()):y&&console.log("***FEC. sectionLoaded fn.: ",C,". dfpAdsDisplay NOT Called. GamPage:",h.GamPage,"c.GamIds",_.GamIds)):y&&console.log("***FEC. sectionLoaded fn.: ",C,". dfpAdsDisplay NOT Called. entryType:",e.entryType,"entryId:",e.entryId):/^(video|movie)(|episode)detailstemplate$/.test(_.contentfulType)&&!_.pvt?(/^movie$/.test(_.entryType)&&null!=e.video&&(e=e.video),/^(video|movie)$/.test(_.entryType)?_.contentfulInternalTitle=e.internalTitle||"":/^video-episode$/.test(_.entryType)&&(_.contentfulInternalTitle=e.episodeInternalTitle||""),_.vEntryId=e.videoEntryId||"",_.vEpisode=_.contentfulInternalTitle+". S"+(e.seasonNumber||"")+". E"+(e.episodeNumber||"")+" of "+(e.seriesInternalTitle||"")+" --- "+_.vEntryId,_.vTitle=e.title||"",_.contentfulCreatedDate=(e.dateOfRelease||"").split("T")[0],_.contentfulChangeDate=(e.dateOfLastEdit||"").split("T")[0],null!=e.backgroundImage&&(_.bImg=(e.backgroundImage.src||"").replace("https://","")),_.videoCategory=e.videoCategory||"",_.videoSubcategory=e.videoSubcategory||"",(A=e.semanticTags||[]).length>0&&r(),_.videoCategory&&/^fifacom:watch:/.test(_.pageName)&&(_.pageName="fifacom:"+_.videoCategory.replaceAll(" ","-").toLowerCase()+":watch"+_.pageName.replace("fifacom:watch","")),y&&console.log("***FEC. sectionLoaded fn.:",C,". analyticsPageView Called. c.pageName",_.pageName,"contentfulType:",_.contentfulType),_.pvt=!0,_.pvType="DPLS",s(),setTimeout((function(){_satellite.track("AssetOnClick")}),1500),0!=Object.keys(b).length?(y&&console.log("***FEC. sectionLoaded fn. analyticsEvents Called. c.pageName:",_.pageName,". h.pageName:",b.pageName,". hEvents:",JSON.stringify(b)),l()):(T="sectionLoaded video",b=_,y&&console.log("***FEC. sectionLoaded fn. analyticsEvents NOT Called. Call updateTracker. c.pageName:",_.pageName,". cEvents:",JSON.stringify(_)),f())):/maott.+?template$/.test(_.contentfulType)&&(e.season_name||e.description)?(_.contentfulInternalTitle="Season: "+e.season_name+" - Description: "+e.description,y&&console.log("***FEC. sectionLoaded fn.:",C,". analyticsPageView Called from MAOTT. c.pageName",_.pageName,"contentfulInternalTitle:",_.contentfulInternalTitle),_.pvt=!0,_.pvType="DPLS",s(),setTimeout((function(){_satellite.track("AssetOnClick")}),1500),0!=Object.keys(b).length?(y&&console.log("***FEC. sectionLoaded fn. analyticsEvents Called from MAOTT. c.pageName:",_.pageName,". h.pageName:",b.pageName,". hEvents:",JSON.stringify(b)),l()):(T="sectionLoaded MA OTT",b=_,y&&console.log("***FEC. sectionLoaded fn. analyticsEvents NOT Called from MAOTT. Call updateTracker. c.pageName:",_.pageName,". cEvents:",JSON.stringify(_)),f())):y&&console.log("***FEC. sectionLoaded fn.:",C,". Not an ad or video type, or page already tracked or . c.pageName:",_.pageName,". entryType:",_.entryType,". previously tracked:",_.pvt)}}function i(){_.pvt&&_.pageName&&(_.hPageName=_.pageName),_.sTagsNs=[],_.sTagsIds=[],o(),_.pageName=("fifacom:"+m).replaceAll("/",":").replaceAll(" ","-").replaceAll("::",":"),_.pageError&&(_.pageName=_.pageError+":"+_.pageName,_.eCategory&&(_.eCategory=_.pageError+":"+_.eCategory)),y&&console.log("***FEC. tabLoaded fn.:",C,". analyticsPageView Called. c.pageName",_.pageName,"contentfulType:",_.contentfulType),_.pvType="TC",s(),0!=Object.keys(b).length?(y&&console.log("***FEC. tabLoaded fn.:",C,". analyticsEvents Called. c.pageName:",_.pageName,". h.pageName:",b.pageName,". hEvents:",JSON.stringify(b)),l()):(T="tab-change-pageLoaded",b=_,y&&console.log("***FEC. tabLoaded fn.:",C,". analyticsEvents NOT Called. Call updateTracker. c.pageName:",_.pageName,". cEvents:",JSON.stringify(_)),f())}function r(){for(var e=0;e<A.length;e++)/^[A-Z]{3}$/.test(A[e].tagId)||(_.sTagsIds.push(A[e].tagId||A[e].id||""),_.sTagsNs.push(A[e].tagName||A[e].title||""))}function o(){var e=location.protocol+"//"+location.host+location.pathname,t=location.search,a="",n="matches:",i="list-matches",r="",o="match-centre:",s="mens:";y&&console.log("***FEC. ",k,". exFDCPNameTags fn. onChange:",JSON.stringify(fevents[C])),fevents[C].currentUrl&&(e=fevents[C].currentUrl.split("?")[0],t=fevents[C].currentUrl.split("?")[1]||""),m=e.replace(/https:\/\/www.fifa.com\/fifaplus\/[a-z]{2}(\/|$)/,""),/match-centre\/match/.test(m)&&(n="matches:match-info:",i="match-details"),A=(A=m.split(/match\/|competition\//)||[]).length>1?A[1].split("/"):[];for(var l=0;l<A.length;l++)_.sTagsIds.push(A[l]);if(y&&console.log("***FEC. ",k,". exFDCPNameTags fn. pageName 1:",m,". urlParams: ",t,". FDCP Tags: ",A),/(^|\?|&)gender=2/.test(t)&&(s="womens:"),/(^|\?|&)date=[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}/.test(t)&&(r=t.split(/(^|\?|&)date=/)[2]).split("&").length>1&&(r=r.split("&")[0]),r&&(r+=":"),fevents[C].tabId?a=fevents[C].tabId:/(^|\?|&)tab=/.test(t)&&(a=t.split(/(^|\?|&)tab=/)[2]).split("&").length>1&&(a=a.split("&")[0]),a)if(/[0-9]{1,2}/.test(a))switch(a){case"1":n="line-ups:",i="list-players";break;case"2":n="timeline:";break;case"3":n="stats:";break;case"4":n="standings:",i="list-standings";break;case"5":n="related-matches:",i="list-matches";break;case"6":n="news:",i="list-news";break;case"7":n="overview:";break;case"8":n="liveblog:"}else/[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}/.test(a)?r=fevents[C].tabId:"matchCentreWhereToWatch"===a&&(n="where-to-watch:",i="list-matches");if(y&&console.log("***FEC. ",k,". exFDCPNameTags fn. collect data 1. tabId: ",a,". tabName: ",n,". pageType: ",i,". tabDate: ",r,". competition: ",o,". gender: ",s),/\/17|520(\/|$)/.test(m)?o="worldcup:":/\/103|521(\/|$)/.test(m)?o="womensworldcup:":/\/(2|506|500|107|101|10007|106|10004|10003|516|102|108|519|104|10005|10006|10002|512|509|530|531)(\/|$)/.test(m)?(o="tournaments:",_.sTagsIds.length>0&&(o+=_.sTagsIds[0]+":")):/competition(\/|$)/.test(m)&&(n="competition:"),y&&console.log("***FEC. ",k,". exFDCPNameTags fn. collect data 2. tabId: ",a,". tabName: ",n,". pageType: ",i,". tabDate: ",r,". competition: ",o,". gender: ",s),"match-centre:"==o)m=o+n+s,_.sTagsIds.length>0&&(m+=_.sTagsIds[0]+":"),m+=r+i;else{if(m=o+n,y&&console.log("***FEC. pageLoaded fn. fifa tournament 1 cEvents.sTagsIds.length:",_.sTagsIds.length,". length: ",_.sTagsIds),_.sTagsIds.length>1){var c=_.sTagsIds.shift();y&&console.log("***FEC. pageLoaded fn. fifa tournament 2 cEvents.sTagsIds:",_.sTagsIds.length),m+=_.sTagsIds.join(":")+":",_.sTagsIds.unshift(c)}else m+=r;m+=i}y&&console.log("***FEC. ",k,". exFDCPNameTags fn. pageName 2:",m)}function s(){var e=k+_.pvType||"";if(t.clearVars(),t.pageType="",t.eVar10="",_.uP.adobe_mc||_.adobe_mc){var a=_.uP.adobe_mc||_.adobe_mc||"";/mcmid%3d/.test(a)?a=(a.split("mcmid%3d")[1]||"").split("%7c")[0]:/mcmid=/.test(a)&&(a=(a.split("mcmid=")[1]||"").split("|")[0]),a&&(t.eVar10=",vid:"+a),_.appId&&(t.eVar75=_.appId)}if(t.channel=_.pageName.split(":")[1]||"",_.pageError&&(t.pageType="errorPage",t.channel="error page"),t.events="event2",t.pageName=_.pageName,t.eVar5=_.pageName.split(":")[_.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",Object.keys(_.uP).length)for(var n in _.uP)/^(context|appid|adobe_mc|campaign|liveblog)/.test(n)&&(t.eVar10+=","+n+":"+_.uP[n]);_.adobe_mc&&(t.eVar10+=",fadobe_mc:"+_.adobe_mc),_.appId&&(t.eVar10+=",faappId:"+_.appId),_.context&&(t.eVar10+=",fcontext:"+_.context),t.eVar10&&(t.eVar10+=","),y&&console.log("***FEC. analyticsPageView fn. c.pageName:",_.pageName,"error:",_.pageError,"cEvents:",JSON.stringify(_));var i=b.uP||{};if(v&&console.log("***FEC. analyticsPageView fn. cEvents.uP:",JSON.stringify(_.uP||""),"hEvents.uP:",JSON.stringify(i||""),"alConfig.uP:",JSON.stringify(h.uP||"")),(_.uP.cid||h.uP.cid)&&(h.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=h.uP.cid||"",t.events+=",event30",w=!0,h.logging&&console.log("***FEC. analyticsPageView fn. cid from alConfig",t.events,t.campaign,w)):(_.uP.cid&&(t.campaign=_.uP.cid,(/undefined/.test(i.cid)||i.cid!=_.uP.cid)&&(t.events+=",event30")),h.logging&&console.log("***FEC. analyticsPageView fn. cid from urlParams or alC if urlParams null:",t.events,"s.campaign:",t.campaign,"hUp.cid:",i.cid,"urlP-cid:",_.uP.cid,"alC-id:",h.uP.cid))),_.intcmp&&(_.uP.intcmp=_.intcmp,y&&console.log("***FEC. analyticsPageView fn. c.pageName:",_.pageName,"intcmp overwritten from fevents[].intcmp:",_.intcmp)),_.uP.intcmp&&(t.eVar2=_.uP.intcmp,(/undefined/.test(i.intcmp)||i.intcmp!=_.uP.intcmp)&&(y&&console.log("***FEC. analyticsPageView fn. c.pageName:",_.pageName,"hEvents.uP.intcmp:",i.intcmp||"","cEvents.uP.intcmp:",_.uP.intcmp||""),t.events+=",event29")),t.eVar3=_.uP.s_oid||h.uP.s_oid||"",t.eVar4=_.uP.s_uid||h.uP.s_uid||"",t.eVar6=_.uP.s_pid||h.uP.s_pid||"",t.eVar82=_.uP.s_cid||h.uP.s_cid||"",t.eVar83=_.uP.linkid,_.uP.c||_.uP.pid||h.uP.c||h.uP.pid){var r=(_.uP.c||h.uP.c||"")+(_.uP.pid||h.uP.pid||"");t.events+=",event25",t.eVar102=r}t.eVar68=_.uP.utm_campaign||h.uP.utm_campaign||"",t.eVar103=_.uP.utm_source||h.uP.utm_source||"",t.eVar104=_.uP.utm_medium||h.uP.utm_medium||"",t.eVar105=_.uP.utm_term||h.uP.utm_term||"",t.eVar106=_.uP.utm_content||h.uP.utm_content||"",t.eVar11=_.pageLang,t.eVar12=_.pageSlug||"",h.DataPage&&(_.uS.ssoId&&(t.eVar22=_.uS.ssoId,h.fpID=t.eVar22),_.uS.status&&(t.eVar25=_.uS.status.toLowerCase(),h.uS=t.eVar25),_.uS.dateOfBirth&&(t.eVar27=_.uS.dateOfBirth.split("T")[0]),_.uS.countryOfResidence&&(t.eVar32=_.uS.countryOfResidence.toLowerCase())),t.eVar34=_.dt,t.eVar43=_satellite.getVar("sysEnv"),t.eVar46="Page View",t.eVar65=_.contentfulEntryId,t.eVar66=_.contentfulInternalTitle,t.eVar69=_.contentfulCreatedDate,t.eVar70=_.u,t.eVar81=h.OTPrefs||"",t.eVar86=_.dr,t.eVar93=h.lotId,t.eVar94=h.tealId,t.eVar95="D=mid",t.eVar107=h.dr||"",t.eVar110=_.hPageName,t.eVar111=_.contentfulPageName,t.eVar112=_.contentfulType,t.eVar113=_.contentfulChangeDate,t.eVar114=h.g||"",t.eVar115=h.gc||"",t.eVar120=_.vTitle||"",t.eVar121=_.vEpisode||"",t.eVar123=_.vEntryId||"",/^video|movie(|episode)detailstemplate$/.test(_.contentfulType)&&(t.eVar42="D=v66"),t.eVar126=_.videoCategory||"",t.eVar127=_.entryType||"",t.eVar128=_.videoSubcategory||"",t.eVar129=_.eCategory||"",t.eVar132=(_.sTagsNs||[]).join(","),_.sTagsIds.length>0&&(t.eVar133=","+_.sTagsIds.join(",")+","),t.eVar134="Tag Length. Names- #Tags:"+(_.sTagsNs||[]).length+". #Chars:"+(t.eVar132||[]).length+". Ids- #Tags:"+(_.sTagsIds||[]).length+". #Chars:"+(t.eVar133||[]).length;var o=performance||{},s=o.timeOrigin||0,l=o.timing||"",c={};if(s>0&&(null==_.perfTO||_.perfTO<=s)?(y&&console.log("***FEC. analyticsPageView fn. Performance Updating:",l),c.nav_start=l.navigationStart||0,c.fetch_start=l.fetchStart||0,c.con_start=l.connectStart||0,c.resp_start=l.responseStart||0,c.dom_int=l.domInteractive||0,c.load_end=l.loadEventEnd||0,c.nav_start>0&&c.load_end>0?(t.eVar130=c.load_end-c.nav_start,t.eVar131=JSON.stringify(c),t.events+=",event105="+t.eVar130):y&&console.log("***FEC. analyticsPageView fn. Performance Updating. NOT Tracked. nav_start:",c.nav_start,"load_end:",c.lod_end)):y&&console.log("***FEC. analyticsPageView fn. Performance Not Updating. TimeOrigin:",s,"Stored TO:",_.perfTO),h.TealPage||h.LotPage||h.GamPage||h.Tgt?(h.TealPage&&(e+=",TE"),h.LotPage&&(e+=",LO"),h.Tgt&&(e+=",PI",t.events+=",event86"),_.pixEvent="F+ Page View",_.sEvents=t.events,y&&console.log("***FEC. analyticsPageView fn. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"FPEventsPV",alConfig:h,cEvents:_})):y&&console.log("***FEC. analyticsPageView fn. FPPixelEvents NOT Called***"),_.pvt=!0,t.eVar99=e,h.AnaPage)sessionStorage.setItem("com.adobe.ort",w),sessionStorage.removeItem("com.adobe.fPageInfo"),y&&console.log("***FEC. analyticsPageView fn. DPL fired***"),t.t();else{var d={};for(var u in t)/^(eVar|events|channel|pageName|campaign)/.test(u)&&(d[u]=t[u]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(d)),y&&console.log("***FEC. analyticsPageView fn. PV NOT fired, not AnaPage. Stored fPageInfo:",d)}}function l(){var e=k+"AE",a={},n="o",i=fevents[C],r="";if(y&&console.log("***FEC. analyticsEvents fn. fired. h.pageName:",b.pageName,"eventData:",i),y&&console.log("***FEC. analyticsEvents fn. DFPAds hEvents:",JSON.stringify(b)),/searchOpen|searchEmpty|searchError|searchClose|userClickedAsset|searchTrendingClick/.test(i.event)){if(/searchOpen/.test(i.event))e+="-SOP",a.events="event100";else if(/searchTrendingClick/.test(i.event))e+="-STC",a.events="event1,event101";else if(/searchEmpty/.test(i.event))e+="-SEM",a.events="event102";else if(/searchError/.test(i.event))e+="-SER",a.events="event103";else if(/searchClose/.test(i.event))e+="-SCL",a.events="event104";else if("userClickedAsset"==i.event)if(e+="-AC","search"==i.eventType)a.events="event1",a.eVar46="Search Click";else if("navigate"==i.eventType){a.events="event9,event28",a.eVar46="Tracked Link",a.eVar48="Asset Click";var o=i.sections||[],s=[];o.length>0&&(s=o[0].items||[]),s.length>0&&(a.eVar41=s[0].src||""),t.linkTrackVars+=",eVar41,eVar48"}else a.events="event28",a.eVar46="Asset Click";a.eVar1=i.searchTerm||"",a.eVar1&&(t.linkTrackVars+=",eVar1"),a.eVar46||(a.eVar46=i.event)}else if(/^(pageLoaded|sectionLoaded)$/.test(i.event)||"onChange"==i.event&&"tab"==i.eventType){a.eVar46="Page Events Data",e+="-CE",t.linkTrackVars+="eVar111,eVar112,eVar116,eVar117,eVar129",a.events="event99",a.pageName=b.pageName;var l=(b.pageName||"").split(":");if(a.channel=l[1]||"",a.eVar5=l[l.length-1],a.eVar8="D=pageName",a.eVar9="D=ch",a.eVar12=b.pageSlug||"",a.eVar34=b.dt,a.eVar43=_satellite.getVar("sysEnv"),a.eVar65=b.contentfulEntryId,a.eVar66=b.contentfulInternalTitle,a.eVar69=b.contentfulCreatedDate,a.eVar70=b.u,a.eVar86=b.dr,a.eVar111=b.contentfulPageName,a.eVar112=b.contentfulType,a.eVar113=b.contentfulChangeDate,null!=b.vScroll&&(a.eVar116=JSON.stringify(b.vScroll),a.eVar117=(b.vScroll||"").ptS||""),null!=b.GamA){for(var c=[],d=0;d<b.GamA.length;d++)c.push(b.GamA[d].split("||")[1]);0!=c.length&&(t.linkTrackVars+=",eVar85,eVar119",a.eVar85=c.join("|"),a.events+=",event92",a.eVar119=(b.adConfigurations||[]).join("|"),_.GamA=[],_.adConfigurations=[])}}else t.events="";/userClickedAsset|searchClick/.test(i.event)&&(h.TealPage||h.LotPage||h.Tgt)?(h.TealPage&&(e+=",TE"),h.LotPage&&(e+=",LO"),h.Tgt&&(e+=",PI",a.events+=",event86"),_.pixEvent=i.event,_.sEvents=t.events,r&&(_.link=(a.eVar72||"")+" | Link:"+r),y&&console.log("***FEC. analyticsEvents fn. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"FPEventsA",alConfig:h,cEvents:_})):y&&console.log("***FEC. analyticsEvents fn. FPPixelEvents NOT Called***"),a.eVar99=e,h.AnaPage&&!/^(pageLoaded|sectionLoaded|onChange)$/.test(i.event)?(y&&console.log("***FEC. analyticsEvents fn. Analytics Event Fired***"),t.tl(!0,n,a.eVar46,a)):y&&console.log("***FEC. analyticsEvents fn. Analytics Event NOT Fired, pageLoaded|sectionLoaded|onChange only***"),T="analyticsEvents",b=_,f(),y&&console.log("***FEC. analyticsEvents fn. complete. current & historic synced. oRide:",a)}function c(){function e(){window.googletag&&googletag.apiReady?(y&&console.log("***FEC. DFPAds fn. gtagConfig fn APIs Ready. Configure gtag. After:",r*n),clearInterval(V),googletag.cmd.push((function(){googletag.pubads().setTargeting("site",[_.pageLang]),googletag.pubads().setTargeting("user",["notloggedin"]),googletag.pubads().setTargeting("prefs",[h.OTPrefs]),googletag.pubads().enableAsyncRendering(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),y&&console.log("***FEC. DFPAds fn. gtagConfig fn. Set targeting, calling gtagDisplay. Site:",[_.pageLang],"user:",["notloggedin"],"prefs:",[h.OTPrefs]),googletag.pubads().addEventListener("slotRenderEnded",(function(e){P=e.slot.getSlotElementId()||"",0==e.isEmpty?(document.getElementById(P)&&document.getElementById(P).setAttribute("class","adIsIncluded"),P+="||gam-ld:",y&&console.log("***FEC. DFPAds fn. Rendered Event. Slot:",P,e),u()):(P+="||gam-ldE:",y&&console.log("***FEC. DFPAds fn. Rendered Event BUT slot empty. Slot:",P,e),u())})),googletag.pubads().addEventListener("impressionViewable",(function(e){P=(e.slot.getSlotElementId()||"")+"||gam-vw:",y&&console.log("***FEC. DFPAds fn. Viewable Event. Slot:",P,e),u()}))})),d()):(y&&console.log("***FEC. DFPAds fn. gtagConfig fn APIs NOT Ready After:",r*n),++r>a&&(y&&console.log("***FEC. DFPAds fn. gtagConfig fn APIs NOT Ready and Cancelled After:",r*n),clearInterval(V)))}function t(){window.googletag&&googletag.apiReady?(y&&console.log("***FEC. DFPAds fn. gtagDisplayDelay fn APIs Ready. Display Ad. After:",i*n),clearInterval(D)):(y&&console.log("***FEC. DFPAds fn. gtagDisplayDelay fn NOT Ready After:",i*n),++i>a&&(y&&console.log("***FEC. DFPAds fn. gtagDisplayDelay fn NOT Ready and Cancelled After:",i*n),clearInterval(D)))}window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],y&&console.log("***FEC. DFPAds fn.c.GamIds:",_.GamIds,"w.gtag:",window.googletag,"gtag.apiReady:",googletag.apiReady,"-",!googletag.apiReady,"gtag.pubadsReady",googletag.pubadsReady);var a=20,n=100;if(1!=_.GamIds.length||window.googletag&&googletag.apiReady)if(window.googletag&&googletag.apiReady)clearInterval(V),clearInterval(D),googletag.pubadsReady?(y&&console.log("***FEC. DFPAds fn. gtag.apiReady, pubadsReady. Calling gtagDisplay. c.GamIds",_.GamIds),d()):(y&&console.log("***FEC. DFPAds fn. gtag.apiReady, NOT pubadsReady. Calling gtagConfig. c.GamIds",_.GamIds),e());else{y&&console.log("***FEC. DFPAds fn. NOT First Ad & NOT gtag.apiReady, c.GamIds:",_.GamIds,"gtagDisplayReadyCheck init.");var i=1;D=window.setInterval(t,n)}else{y&&console.log("***FEC. DFPAds fn. First Ad, NOT gtag.apiReady, c.GamIds:",_.GamIds,"gtagAPIReadyCheck init.");var r=1;V=window.setInterval(e,n)}}function d(){clearInterval(V),clearInterval(D),y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. c.GamIds",_.GamIds),googletag.cmd.push((function(){E=googletag.pubads().getSlots()||[];for(var e=0;e<_.GamIds.length;e++){y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. GamId to Check :",_.GamIds[e]);var t=0;if(/div-gpt-/.test(_.GamIds[e]))y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. GamId already updated:",_.GamIds[e]);else{y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. GamId not upadted on page:",_.GamIds[e]);var a="div-gpt-"+_.GamIds[e];_.GamIds[e]=a;for(var n=0;n<E.length;n++){var i=E[n].getSlotElementId()||"";if(y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. Iterating existing adSlots:",i,i,"==",a),i==a){googletag.pubads().refresh([E[n]],{changeCorrelator:!1}),y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. Existing adSlot. Refreshing:",n,a),t=1,_.GamA=_.GamA||[],_.GamA.push(a+"||gam-rf:"),T="gtagRefresh",f();break}}if(0==t){var r="",o="web";"app"==S&&(o="appview"),_.adConfigurations=_.adConfigurations||[];for(var s=0;s<_.adConfigurations.length;s++)if(y&&console.log("***FEC DFPAds fn. gtagDisplay fn. New ad slot. Retrieving adConfiguration for:",a,"div-gpt-"+_.adConfigurations[s]),new RegExp(a).test("div-gpt-"+_.adConfigurations[s])){r=(r=_.adConfigurations[s].split("||")[1]).replace("/web/","/"+o+"/"),y&&console.log("***FEC DFPAds fn. gtagDisplay fn. New ad slot. Found adConfiguration for:",r,S,o);break}r||(r="/21817916705/web");var l=l||[];l[s]=googletag.defineSlot(r,[970,250],a).addService(googletag.pubads());var c=googletag.sizeMapping().addSize([1024,0],[970,250]).addSize([300,0],[300,250]).addSize([0,0],[]).build();l[s].defineSizeMapping(c),googletag.display(a),y&&console.log("***FEC DFPAds fn. gtagDisplay fn. New ad slot. Defined & Displayed... adSlotid:",a,"adunit:",r,"viewContext:",S,"adplatform:",o,"element exists:",document.getElementById(a),"adSlot:",l[s]),_.adConfigurations=_.adConfigurations||[],_.adConfigurations.push(r),_.GamA=_.GamA||[],_.GamA.push(a+"||gam-ds:"),T="gtagDisplay",f()}}}}))}function u(){E=googletag.pubads().getSlots()||[];for(var e=0;e<E.length;e++)if(P.split("||")[0]==googletag.pubads().getSlots()[e].getSlotElementId()){var t=googletag.pubads().getSlots()[e].getResponseInformation()||"";P+=(t.advertiserId||"")+","+(t.campaignId||"")+","+(t.creativeId||""),y&&console.log("***FEC. DFPAds fn. gtagEventSave fn. found AdEvent. Slot #:",e,". AdEvent:",P,". EadSlots:",E),adm=1;break}y&&console.log("***FEC. DFPAds fn. gtagEventSave fn. Calling updateTracker. c.pageName:",_.pageName,"AdEvent:",P),T="gtagEventSave",f()}function g(){var e=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{};I=e.vScroll||{}
;var t=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+a,i=Math.min(Math.round(n/t*100),100),r=Math.floor(n/a);folds=Math.floor(t/a),void 0===I.u||I.u!=location.hostname+location.pathname||t>I.pH||n>I.pxS?(I={u:location.hostname+location.pathname,pH:t,iH:a,pxS:n,ptS:i,fS:r,f:folds},y&&console.log("***FEC. vScroll fn. Call updateTracker. c.pageName:",_.pageName,"vScroll:",I),T="vScroll",f()):y&&console.log("***FEC. vScroll fn. vScroll NOT updated. c.pageName:",_.pageName)}function f(){/vScroll|gtagEventSave/.test(T)&&(_=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{},b=JSON.parse(localStorage.getItem("com.adobe.falhEvents"))||{},"gtagEventSave"==T?(_.GamA=_.GamA||[],_.GamA.push(P)):"vScroll"==T&&(_.vScroll=I)),y&&console.log("***FEC. updateTracker fn. event:",T,". hEvents.u:",b.u,". url:",location.hostname+location.pathname,". AdEvent:",P,". scrollD",I),void 0!==b.u&&b.u==location.hostname+location.pathname?(b=_,localStorage.setItem("com.adobe.falcEvents",JSON.stringify(_)),h.AnaPage&&localStorage.setItem("com.adobe.falhEvents",JSON.stringify(b)),y&&console.log("***FEC. updateTracker fn. cEvents & hEvents synced and updated. event:",T,". c.pageName:",_.pageName,"---cEvents:",JSON.stringify(_))):(localStorage.setItem("com.adobe.falcEvents",JSON.stringify(_)),y&&console.log("***FEC. updateTracker fn. Only cEvents updated. event:",T,". c.pageName:",_.pageName,"---cEvents:",JSON.stringify(_),"---hEvents:",JSON.stringify(b)))}if("undefined"!=typeof fevents){var p=parseInt(sessionStorage.getItem("com.adobe.feventsS"))||0;sessionStorage.setItem("com.adobe.feventsS",fevents.length);var m,h=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},v=JSON.parse(localStorage.getItem("com.adobe.falLogEn"))||!1,y=h.logging,_=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{},b=JSON.parse(localStorage.getItem("com.adobe.falhEvents"))||{},k="231025-FEC_",C=0,S="",P="",E="",I={},A=[],T="",V="",D="",w=sessionStorage.getItem("com.adobe.ort")||"";if(h.uP=h.uP||{},y&&console.log("________________FEC. fevents Change Staring...... feventsStart:",p,"fevents length:",fevents.length,"c.pageName:",_.pageName,"h.pageName:",b.pageName,"cEvents.GamA:",_.GamA,"_____"),v&&console.log("________________FEC. fevents Change Starting... Updated hEvents (from storage). c.pageName",_.pageName,"cEvents:",JSON.stringify(_),"...hEvents:",JSON.stringify(b)),t.linkTrackVars=h.lTrackV,h.prodPages||"production"!=_satellite.environment.stage||(t.sa("fifadev"),k="!"+k),null==h.g){var O=JSON.parse(sessionStorage.getItem("com.adobe.xresp"))||"";if(""!=O&&h.AnaPage){h.g=O;var L=(O||"").split("country_code=");h.gc=(L[1]||"").substring(0,2).toLowerCase(),h.logging&&console.log("### FEC alGeo Set:",O)}}if(0==p){if(y&&console.log("***FEC. feventsStart == 0"),window.addEventListener("scroll",g),h.tealId&&h.Tgt&&h.TealPage){var N=[];N.push("tealium_cookie_sync=true"),N.push("google_nid=tealium_dmp"),N.push("google_cm"),N.push("tealium_vid="+h.tealId),N.push("tealium_account="+h.tSettings.account),N.push("tealium_profile="+h.tSettings.profile);var M="https://cm.g.doubleclick.net/pixel?"+N.join("&");y&&console.log("***FEC. TealiumIDMatch. Setting pixel:",M);var x=document.createElement("img");x.src=M,x.addEventListener?x.addEventListener("load",(function(){y&&console.log("***FEC. TealiumIDMatch listener loaded")}),!1):x.onreadystatechange=function(){y&&console.log("***FEC. TealiumIDMatch onreadystatechange:",this.readyState),"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null)}}}else y&&console.log("***FEC. feventsStart != 0 alConfig.g:",h.g);for(C=p;C<fevents.length;C++)switch(y&&console.log("------FEC. fevents iterating:",C,fevents[C].event,"c.pageName:",_.pageName,"h.pageName:",b.pageName,"cEvents:",JSON.stringify(_),"-------"),fevents[C].event||""){case"userStatus":h.DataPage&&(_.uS=fevents[C]);break;case"searchOpen":case"searchEmpty":case"searchError":case"searchClose":case"userClickedAsset":case"searchTrendingClick":l();break;case"sectionLoaded":n();break;case"pageLoaded":a();break;case"onChange":"tab"==fevents[C].eventType&&i()}g(),y&&console.log("-----FEC. fevents iterating COMPLETE:",C,"c.pageName:",_.pageName,"h.pageName:",b.pageName,"cEvents:",JSON.stringify(_),"-----")}else"production"!=_satellite.environment.stage&&console.log("***FEC. fevents Change. fevents undefined. 2022-06-07 ***")}},trackerProperties:{}}}]},{id:"RLee6d986a9ad0422faf6330f3e28b017a",name:"PixelEvents",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"FPPixelEvents"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){function t(){window.lotame_16003?(u&&console.log("***DR FPPixelEvents. fireLotame called after:",U*H),clearInterval(q),setTimeout((function(){a()}),1e3)):(u&&console.log("***DR FPPixelEvents. fireLotame NOT ready after:",U*H),++U>G&&(u&&console.log("***DR FPPixelEvents. fireLotame NOT ready and cancelled after:",U*H),clearInterval(q)))}function a(){window.lotame_16003?(window.lotame_16003.cmd.push((function(){window.lotame_16003.page({ruleBuilder:B}),d.LotConsents!=d.lotConsentResp?(u&&console.log("DR FPPixelEvents. fireLotame fn. Lotame Consent Fired. Tgt:",d.Tgt,"LotConsents",d.LotConsents,"lotConsentResp",d.lotConsentResp,"***"),window.lotame_16003.setConsent(l,16003,d.LotConsents)):u&&console.log("DR FPPixelEvents. fireLotame fn. Lotame Consent NOT Fired. Tgt:",d.Tgt,"LotConsents",d.LotConsents,"lotConsentResp",d.lotConsentResp,"***")})),u&&console.log("DR FPPixelEvents. fireLotame fn. Lotame Fired. LotObj:",B,"***")):u&&console.log("***DR FPPixelEvents. fireLotame fn. Lotame Disabled. lotame:",window.lotame_16003,"alConfig.LotPage:",d.LotPage,"***")}function n(){"undefined"!=typeof fbq||"undefined"!=typeof gtag?(u&&console.log("***DR FPPixelEvents. firePixels called after:",z*J),clearInterval(W),setTimeout((function(){r()}),1050)):(u&&console.log("***DR FPPixelEvents. firePixels NOT ready after:",z*J),++z>$&&(u&&console.log("***DR FPPixelEvents. firePixels NOT ready and cancelled after:",z*J,". pixEvent:",g.pixEvent,". FbE:",m,"FbEC:",h,"Add. TwIds:",S,"TwE:",v,"Add. GtId:",C,"GtE:",y,"ScE:",_,"ttcat:",P,"ttcatevent:",E),clearInterval(W)))}function r(){u&&console.log("***DR FPPixelEvents. firePixels fn. pixEvent:",g.pixEvent,". FbE:",m,"FbEC:",h,"Add. TwIds:",S,"TwE:",v,"Add. GtId:",C,"GtE:",y,"ScE:",_,"ttcat:",P,"ttcatevent:",E);var e=0;if("undefined"!=typeof fbq&&(/Page View$/.test(g.pixEvent)&&fbq("track","PageView"),m&&fbq("track",m),h&&fbq("trackCustom",h)),"undefined"!=typeof gtag){for(e=0;e<C.length;e++)gtag("config",C[e]);for(e=0;e<y.length;e++){if(d.fifaplusNft)if("F+ Collect Purchase Page View"==g.pixEvent){D="purchase";var t=g.paymentId||"[OrderID]";V={allow_custom_scripts:!0,value:"[Revenue]",transaction_id:t,u2:"[Product Name]",u3:"[Product ID]",u4:"[User ID]",send_to:y[e]},gtag("config","AW-10901012476")}else D="conversion",V={allow_custom_scripts:!0,u4:"[User ID]",send_to:y[e]};else D="conversion",V={allow_custom_scripts:!0,u1:location.pathname,u2:p,u3:g.pageLang,u9:g.searchTerm||"null",session_id:_satellite.getVar("sessionID"),send_to:y[e]};gtag("event",D,V)}}if("undefined"!=typeof snaptr&&(/Page View$/.test(g.pixEvent)&&snaptr("track","PAGE_VIEW"),_&&snaptr("track",_)),"undefined"!=typeof ttq&&(/Page View$/.test(g.pixEvent)&&(ttq.page(),d.fifacom||d.fifaplusGames?(P.push("fifaplus"),E.push("SubmitForm")):d.ticketing?(P.push("ticketing"),E.push("AddPaymentInfo")):d.insideFifa&&(P.push("fifacom"),E.push("AddToWishlist"))),P.length>0))for(e=0;e<P.length;e++)ttq.track(E[e],{content_type:"product_group",content_id:"1",content_category:P[e]});if("undefined"!=typeof twq){for(e=0;e<S.length;e++)u&&console.log("***DR FPPixelEvents. firePixels fn. Twitter Config. pixEvent:",g.pixEvent,". Add. TwIds:",S),twq("config",S[e]);for(e=0;e<v.length;e++)u&&console.log("***DR FPPixelEvents. firePixels fn. Twitter Event. pixEvent:",g.pixEvent,". TwE:",v),twq("event",v[e],{})}}function o(){for(u&&console.log("***DR FPPixelEvents. imagePixels fn. pixEvent:",g.pixEvent,". imgpixsc:",b,"imgfEvent:",k),i=0;i<b.length;i++){var e=new Image(1,1),t=1e13*(Math.random()+"");e.src="https://"+b[i].replace("AXELRND",t)}for(i=0;i<k.length;i++){var a=new Image(1,1),n=1e13*(Math.random()+"");a.src="https://"+k[i].replace("AXELRND",n)}}function s(){var e=d.tSettings.endpoint||"https://visitor-service.tealiumiq.com",t=(new Date).getTime(),a=encodeURI(e+"/"+d.tSettings.account+"/"+d.tSettings.profile+"/"+d.tealId+"?callback=tealium_adobe_enrich&rnd="+t);if(""==d.tealId||void 0!==d.tSettings.cookieName&&""!==d.tSettings.cookieName?u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. Cookie found. Executing. Settings:",JSON.stringify(d.tSettings)):u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. No cookie found. Running before Tealium Collect?"),u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. url:",a),d.tealId){document.getElementById("tealEscript22")&&document.getElementById("tealEscript22").remove();var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",a),n.setAttribute("id","tealEscript22"),n.async=!0,document.head.appendChild(n),u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. Script Appended")}}function l(e){u&&console.log("***DR FPPixelEvents. Lotame Consent Callback fn.",e)}if(_satellite.getVar("WidgetPages"))(/development|staging/.test(_satellite.environment.stage)||localStorage.getItem("com.adobe.alLogging"))&&console.log("DR FPPixelEvents. Abort Widget Page:",location.hostname+location.pathname);else{var c=e.detail||"",d=c.alConfig||{},u=d.logging||!1,g=c.cEvents||{},f=c.rule||"",p=g.pageName||"",m="",h="",v=[],y=[],_="",b=[],k=[],C=[],S=[],P=[],E=[];if(g.urlParams=g.urlParams||{},u&&console.log("***DR FPPixelEvents. Referring Rule:",f,location.hostname+location.pathname),/^FPEventsPV$/.test(f)?(y=["DC-11606562/pagev0/allpa0+standard"],"fifacom:home:hub"==g.pageName?y.push("DC-11606562/pagev0/homep0+standard"):"tickets:hub"==g.pageName?(y.push("DC-11606562/pagev0/pagev00+standard"),S.push("nzrco")):/^fifacom:womensworldcup:australia-new-zealand2023:tickets:hub$/.test(p)&&(y.push("DC-11608620/pagev0/pagev002+standard"),y.push("DC-5220915/merch0/pc_tt00a+standard"),v=["tw-o9js1-oc7ac"])):/^PID$/.test(f)?"F+ Page View"==g.pixEvent?y=["DC-11606562/pagev0/allpa0+standard"]:"F+ Sign Up RequestPage View"==g.pixEvent?k=["secure.adnxs.com/imptr?id=1618679&seg=31143463&t=2","insight.adsrvr.org/track/pxl/?adv=oiqvnl5&ct=0:9spuip6&fmt=3","ad.doubleclick.net/ddm/activity/src=11620671;type=invmedia;cat=fifa-000;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=AXELRND?"]:"F+ Sign In"==g.pixEvent?y=["DC-11606562/log/userl0+per_session"]:"F+ Sign Up"==g.pixEvent&&(y=["DC-11606562/fifam0/fifas0+unique","AW-10844267629/NyIRCP74zNgDEO3I-bIo"],h="FIFAPlusRegistration",v=["tw-o7p7l-obsu6"],_="SIGN_UP",P.push("fifaplus"),E.push("SubmitForm"),k=["secure.adnxs.com/imptr?id=1618677&seg=31143461&t=2","insight.adsrvr.org/track/pxl/?adv=oiqvnl5&ct=0:1xeodlm&fmt=3","ad.doubleclick.net/ddm/activity/src=11620671;type=invmedia;cat=fifa-00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=AXELRND?"]):/^(DPL|TVC)$/.test(f)?(d.fifaplusNft?(g.pixEvent="F+ Collect Page View",y.push("DC-12372855/rtf2w0/fifac0+standard"),/^collect$/.test(p)?y.push("DC-12372855/sitev0/landi0+standard"):/payments:success|(unified|credits)-payment-success/.test(p)&&!/:pack-opening:/.test(p)?(g.pixEvent="F+ Collect Purchase Page View",y.push("DC-12372855/typpw0/fifac0+transactions"),g.paymentId=g.urlParams.paymentid||""):/:checkout/.test(p)?y.push("DC-12372855/buypc0/fifac0+standard"):/verify-email/.test(p)?y.push("DC-12372855/signu0/fifac0+standard"):/:drops/.test(p)&&y.push("DC-12372855/viewp0/fifac0+standard")):d.insideFifa||d.ticketing?y.push("DC-11608620/pagev0/allpa0+standard"):d.account&&y.push("DC-11608620/pagev0/pagev001+per_session"),/^(fifacom:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-aus:/.test(p)?(y.push("DC-11608620/pagev0/pagev003+per_session"),y.push("DC-5220915/merch0/pc_tt004+standard"),v=["tw-o9js1-oc7ac"]):/^(fifacom:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-nzl:/.test(p)?(y.push("DC-11608620/pagev0/pagev004+per_session"),y.push("DC-5220915/merch0/pc_tt009+standard"),v=["tw-o9js1-oc7ac"]):/^fifagg:c:cph22$/.test(p)&&y.push("DC-11606847/pagev0/pagev0+standard")):"Asset Click Ticketmaster"==g.pixEvent?y=["DC-11606562/excl/exter0+per_session"]:"Asset Click F+ Collect GTW"==g.pixEvent?y=["DC-12372855/learn0/fifac0+standard"]:"Video Playing"==g.pixEvent?y=["DC-11606562/vid/video0+standard"]:"Video Ended"==g.pixEvent?y=["DC-11606562/vid/video00+standard"]:"Purchase"==g.pixEvent?/^fenc:tickets:fcfs:checkout:confirmation/.test(p)?(m="Purchase",y=["DC-11606847/trans0/ticke0+transactions"],P.push("ticketing"),E.push("CompletePayment")):/^(fifacom:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-aus:checkout:confirmation/.test(p)?(y.push("DC-11608620/ticke0/ticke000+transactions"),y.push("DC-5220915/merch0/pc_tt003+standard"),P.push("ticketing"),E.push("PlaceAnOrder"),v=["tw-o9js1-oc7ak"],m="Purchase",_="PURCHASE"):/^(fifacom:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-nzl:checkout:confirmation/.test(p)&&(y.push("DC-11608620/ticke0/ticke00+transactions"),y.push("DC-5220915/merch0/pc_tt00-+standard"),P.push("ticketing"),E.push("PlaceAnOrder"),v=["tw-o9js1-oc7ak"],m="Purchase",_="PURCHASE"):"F+ Games Page View"==g.pixEvent?y=["DC-11606562/pagev0/allpa0+standard"]:"F+ Games Page View"==g.pixEvent&&(y=["DC-11606562/vosub/fanvo0+per_session"]),/Page View$/.test(g.pixEvent)&&(d.fifacom||d.fifaplusGames)&&(b=["secure.adnxs.com/px?id=1565764&seg=29463820&t=2","ad.doubleclick.net/ddm/activity/src=11620671;type=invmedia;cat=fifa-0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=AXELRND?","insight.adsrvr.org/track/pxl/?adv=oiqvnl5&ct=0:ffdkfc7&fmt=3"]),g.sTagsNs&&g.sTagsNs.length>0)var I=(g.sTagsNs||[]).join(",");if(g.sTagsIds&&g.sTagsIds.length>0)var A=","+g.sTagsIds.join(",")+",";var T={event:g.pixEvent||"",events:g.sEvents||"",fpID:d.fpID||"",uID:d.uID||"",eVar24:d.uID||"",uS:d.uS||"",eVar25:d.uS||"",uPID:d.uPID||"",lotId:d.lotId||"",eVar79:g.tixProd||"",g:d.g||"",gC:d.gc||"",pageName:p,eventCat:g.eCategory||"",pageLang:g.pageLang||"",lang:g.pageLang||"",url:g.u||"",prefs:d.OTPrefs||"",eVar81:d.OTPrefs||"",link:g.link||"",videoTitle:g.contentfulInternalTitle||"",videoCategory:g.videoCategory||"",videoSubCategory:g.videoSubcategory||"",entryType:g.pEntryType||"",tags:I||"",tagIds:A||""},V={},D="";u&&console.log("***DR FPPixelEvents. Referring Rule:",f,". analyticsObj:",T,". cEvents:",g,". alConfig:",d);var w=/Page View|Video Playing/.test(g.pixEvent);if(d.TealPage&&w){var O={},L=T.event||"";O.dataObject={},O.dataObject.analytics=T,u&&console.log("***DR FPPixelEvents. Tealium Tracking",O,"***"),window.tealium_adobe_enrich=function(e){var t=JSON.stringify(e);"{}"!==t&&""!==t&&(localStorage.setItem("teal_adbe_enrichment_data",t),u&&console.log("***DR FPPixelEvents. Tealium Enrichment Callback. Enrichment Stored"))},void 0===window.tealium.track?(u&&console.log("***DR FPPixelEvents. Tealium Tracking queued. TealEnrich, calling, after delay"),window.tealium.q.push(["track",L,O]),setTimeout((function(){s()}),1e3)):(u&&console.log("***DR FPPixelEvents. Tealium Tracked. Enrichment Called. Data: "+O),window.tealium.track(L,O),s())}else u&&console.log("***DR FPPixelEvents. Tealium Disabled ***");var N=/Page View|Video Playing/.test(g.pixEvent)&&(/womensworldcup\/australia-new-zealand2023(|\/|\/tickets(|\/))$/.test(location.hostname+location.pathname)||/^womensworldcup.+?(tickets:fcfs-(aus|nzl):)(account:register|selection-(date|seat)|cart:shoppingcart|checkout:(summary|confirmation))/.test(p));if(d.LotPage&&N){u&&console.log("DR FPPixelEvents. Lotame Tracking Enabled","***");var M=[];d.fifacom?M=["asset: fifaComWeb"]:d.insideFifa&&(M=["asset: insideFifaWeb"]),T.link&&M.push(T.link);var x=[];for(var F in T)x.push(F+":"+T[F]);var R=[],j=JSON.parse(localStorage.getItem("teal_adbe_enrichment_data"))||"";if(j.audiences)for(var F in j.audiences)R.push(F+":"+j.audiences[F]);var B={asset:M,segments:x,audiences:R},U=1,G=30,H=100,q=window.setInterval(t,H)}else u&&console.log("***DR FPPixelEvents. Lotame Disabled. LotPage:",d.LotPage,". LotEvent:",N,"***");if(d.Tgt)if(/Page View$/.test(g.pixEvent)||"undefined"==typeof fbq&&"undefined"==typeof gtag){var z=1,$=10,J=100,W=window.setInterval(n,J);setTimeout((function(){o()}),2e3)}else u&&console.log("***DR FPPixelEvents. firePixels called immediately."),r();else u&&console.log("***DR FPPixelEvents. Pixels Disabled. Targeting:",d.Tgt,"***")}}}}],actions:[]},{id:"RLeea59be7c36244839264eb5ae1082f32",name:"URL Change",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("LoggingL1"),t=window.location.hostname,a=[location.host,location.pathname].join(""),n="";if("undefined"!=typeof digitalData&&digitalData.page&&digitalData.page.pageInfo&&(n=digitalData.page.pageInfo.pageName||""),e&&console.log("### L1 URL Change: ",a,"###"),/^jobs.fifa.com$/.test(t)||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|.+\/)(stories|photos|videos)\//.test(a)||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/$/.test(a)&&""!=window.location.hash.replace(/#/g,"")||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|u17womens|u20womens|womens|u17|u20|club)worldcup(|.+?)\/matches\/match\//.test(a)||_satellite.getVar("FifaggPages")||/lottery(1|2)-(intl|dom)\.fwc22\.tickets\.fifa.com$/.test(t)||_satellite.getVar("McPages")||_satellite.getVar("FifaPlusNFTPages")||/fifadigitalskills\.org/.test(t)||/publications\.fifa\.com/.test(t)||/fifatrainingcentre\.com/.test(t)||/hospitality\.fifa\.com/.test(t)||/ipt\.fifa\.com/.test(t)||/cn\.fifa\.com/.test(t)||/vod\.fifa\.com/.test(t)||/careers\.fifa\.com/.test(t)||/fifafoundation\.com/.test(t)||/fifafoundation\.org/.test(t)||"subuniverse-foundation"==n||/beyondthepitch.keteacher\.com/.test(t)){var i=0;"undefined"!=typeof dataLayer&&(i=dataLayer.length),e&&console.log("### L1 URL Change Call trackViewChange: ",a,"dataLayer.length:",i,"###"),_satellite.track("trackViewChange",{action:"DURLChange"})}else e&&console.log("### L1 URL Change Disabled: ",a,"###");return!1}}}],actions:[]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}function a(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})})),t}function n(e){var t={exports:{}};return e(t,t.exports),t.exports}function i(e){var t=this.constructor;return this.then((function(a){return t.resolve(e()).then((function(){return a}))}),(function(a){return t.resolve(e()).then((function(){return t.reject(a)}))}))}function r(e){return Boolean(e&&void 0!==e.length)}function o(){}function s(e,t){return function(){e.apply(t,arguments)}}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var a=1===e._state?t.onFulfilled:t.onRejected;if(null!==a){var n;try{n=a(e._value)}catch(e){return void u(t.promise,e)}d(t.promise,n)}else(1===e._state?d:u)(t.promise,e._value)}))):e._deferreds.push(t)}function d(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof l)return e._state=3,e._value=t,void g(e);if("function"==typeof a)return void p(s(a,t),e)}e._state=1,e._value=t,g(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,g(e)}function g(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,a=e._deferreds.length;t<a;t++)c(e,e._deferreds[t]);e._deferreds=null}function f(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function p(e,t){var a=!1;try{e((function(e){a||(a=!0,d(t,e))}),(function(e){a||(a=!0,u(t,e))}))}catch(e){if(a)return;a=!0,u(t,e)}}function m(e){return!0===Be(e)&&"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function y(e){return e.substr(0,e.indexOf("["))}function _(e,t,a){if(e.length&&Ue(t)){var n=e[0];if(1!==e.length){var i=e.slice(1);if(!v(n))return _(i,t[n],a);var r=t[n=y(n)];Array.isArray(r)&&r.forEach((function(e){return _(i,e,a)}))}else t.hasOwnProperty(n)&&"string"==typeof t[n]&&(t[n]=a(t[n]))}}if(window.atob){var b=document,k=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,P=t()?Object.assign:function(t){for(var a,n,i=e(t),r=1;r<arguments.length;r++){for(var o in a=Object(arguments[r]))C.call(a,o)&&(i[o]=a[o]);if(k){n=k(a);for(var s=0;s<n.length;s++)S.call(a,n[s])&&(i[n[s]]=a[n[s]])}}return i},E=P,I=window,A=function(e,t,a,n){var i,r=Boolean(t&&Array.isArray(a)),o=Boolean(r&&e),s=document.createElement("a");if(r){var l=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||l(),/^\/\/.+/.test(e)?s.href=I.location.protocol+e:s.href=e),s.hostname||l(),-1===a.indexOf(s.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}}var d=function(){if(null!=i)return i;if(o){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),i=s.protocol+"//"+e}else i="";return i},u=function(e){return o&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},g={getTurbineHost:d,decorateWithDynamicHost:u,get isDynamicEnforced(){return r}};return I&&n.onDebugChanged((function(e){e?I.dynamicHostResolver=g:delete I.dynamicHostResolver})),g},T=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(a){t.push({rule:e,event:a})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},V="debug",D=function(e,t){var a=function(){return"true"===e.getItem(V)},n=function(t){e.setItem(V,t)},i=[],r=function(e){i.push(e)};return t.outputEnabled=a(),{onDebugChanged:r,getDebugEnabled:a,setDebugEnabled:function(e){a()!==e&&(n(e),t.outputEnabled=e,i.forEach((function(t){t(e)})))}}},w="Module did not export a function.",O=function(e,t,a){return function(n,i,r){r=r||[];var o=e.getModuleExports(n.modulePath);if("function"!=typeof o)throw new Error(w);var s=e.getModuleDefinition(n.modulePath),l=n.settings||{};!n.hasTransformedFilePaths&&s.filePaths&&(a(l,s.filePaths,n.modulePath),n.hasTransformedFilePaths=!0);var c=t(l,i);return o.bind(null,c).apply(null,r)}},L=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},N={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},M="\ud83d\ude80",x=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":M,F=!1,R=function(e){if(F&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(x),e!==N.DEBUG||window.console[e]||(e=N.INFO),window.console[e].apply(window.console,t)}},j=R.bind(null,N.LOG),B=R.bind(null,N.INFO),U=R.bind(null,N.DEBUG),G=R.bind(null,N.WARN),H=R.bind(null,N.ERROR),q=function(){var e=F;F=!0,R.apply(null,Array.prototype.concat(N.WARN,Array.prototype.slice.call(arguments))),e||(F=!1)},z={log:j,info:B,debug:U,warn:G,error:H,deprecation:q,get outputEnabled(){return F},set outputEnabled(e){F=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:j.bind(null,t),info:B.bind(null,t),debug:U.bind(null,t),warn:G.bind(null,t),error:H.bind(null,t)}}},$="com.adobe.reactor.",J=function(e,t){var a=$+(t||"");return{getItem:function(t){try{return I[e].getItem(a+t)}catch(e){return null}},setItem:function(t,n){try{return I[e].setItem(a+t,n),!0}catch(e){return!1}}}},W="dataElements.",Q=J("sessionStorage",W),Y=J("localStorage",W),K={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},X={},Z=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,a){var n;switch(t){case K.PAGEVIEW:return void(X[e]=a);case K.SESSION:return void((n=Z(a))&&Q.setItem(e,n));case K.VISITOR:return void((n=Z(a))&&Y.setItem(e,n))}},getValue:function(e,t){var a;switch(t){case K.PAGEVIEW:return X.hasOwnProperty(e)?X[e]:null;case K.SESSION:return null===(a=Q.getItem(e))?a:JSON.parse(a);case K.VISITOR:return null===(a=Y.getItem(e))?a:JSON.parse(a)}}},te=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},ae=function(e,t,a,n,i){return function(r,o){var s=t(r);if(!s)return n?"":void 0;var l,c,d=s.storageDuration;try{l=e.getModuleExports(s.modulePath),c=e.getModuleDefinition(s.modulePath)}catch(e){return void z.error(te(s,r,e.message,e.stack))}if("function"==typeof l){var u,g=s.settings||{};!s.hasTransformedFilePaths&&c.filePaths&&(i(g,c.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=l(a(g,o),o)}catch(e){return void z.error(te(s,r,e.message,e.stack))}return d&&(null!=u?ee.setValue(r,d,u):u=ee.getValue(r,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=L(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}z.error(te(s,r,"Module did not export a function."))}},ne={text:function(e){return e.textContent},cleanText:function(e){return L(e.textContent)}},ie=function(e,t,a){for(var n,i=e,r=0,o=t.length;r<o;r++){if(null==i)return;var s=t[r];if(a&&"@"===s.charAt(0)){var l=s.slice(1);i=ne[l](i)}else if(i.getAttribute&&(n=s.match(/^getAttribute\((.+)\)$/))){var c=n[1];i=i.getAttribute(c)}else i=i[s]}return i},re=function(e,t,a){return function(n,i){var r;if(t(n))r=a(n,i);else{var o=n.split("."),s=o.shift();"this"===s?i&&(r=ie(i.element,o,!0)):"event"===s?i&&(r=ie(i,o)):"target"===s?i&&(r=ie(i.target,o)):r=ie(e[s],o)}return r}},oe=function(e,t){return function(a){var n=a.split(".")[0];return Boolean(t(a)||"this"===n||"event"===n||"target"===n||e.hasOwnProperty(n))}},se=function(e,t,a){var n={exports:{}};return e.call(n.exports,n,n.exports,t,a),n.exports},le=function(){var e={},t=function(t){var a=e[t];if(!a)throw new Error("Module "+t+" not found.");return a},a=function(){Object.keys(e).forEach((function(e){try{n(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");z.error(t)}}))},n=function(e){var a=t(e);return a.hasOwnProperty("exports")||(a.exports=se(a.definition.script,a.require,a.turbine)),a.exports};return{registerModule:function(t,a,n,i,r){var o={definition:a,extensionName:n,require:i,turbine:r};o.require=i,e[t]=o},hydrateCache:a,getModuleExports:n,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ce=!1,de=function(e){return function(t,a){var n=e._monitors;n&&(ce||(z.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ce=!0),n.forEach((function(e){e[t]&&e[t](a)})))}},ue=function(e,t,a){var n,i,r,o,s=[],l=function(n,i,r){if(!e(i))return n;s.push(i);var o=t(i,r);return s.pop(),null==o&&a?"":o};return n=function(e,t){var a=/^%([^%]+)%$/.exec(e);return a?l(e,a[1],t):e.replace(/%(.+?)%/g,(function(e,a){return l(e,a,t)}))},i=function(e,t){for(var a={},n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],s=e[r];a[r]=o(s,t)}return a},r=function(e,t){for(var a=[],n=0,i=e.length;n<i;n++)a.push(o(e[n],t));return a},o=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?r(e,t):"object"==typeof e&&null!==e?i(e,t):e},function(e,t){return s.length>10?(z.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,t)}},ge=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)e[a]=t[a]}}},fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pe=setTimeout;l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var a=new this.constructor(o);return c(this,new f(e,t,a)),a},l.prototype.finally=i,l.all=function(e){return new l((function(t,a){function n(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(t){n(e,t)}),a)}i[e]=r,0==--o&&t(i)}catch(e){a(e)}}if(!r(e))return a(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,s=0;s<i.length;s++)n(s,i[s])}))},l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,a){a(e)}))},l.race=function(e){return new l((function(t,a){if(!r(e))return a(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)l.resolve(e[n]).then(t,a)}))},l._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){pe(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var me=a(Object.freeze({__proto__:null,default:l})),he="undefined"!=typeof window&&window.Promise||void 0!==fe&&fe.Promise||me.default||me,ve=function(e,t,a){return function(n,i,r,o){return o.then((function(){var o,s=n.delayNext;return new he((function(t,a){var i=e(n,r,[r]);if(!s)return t();var l=n.timeout,c=new he((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+l/1e3+" seconds to complete. "))}),l)}));he.race([i,c]).then(t,a)})).catch((function(e){return clearTimeout(o),e=t(e),a(n,i,e),he.reject(e)})).then((function(){clearTimeout(o)}))}))}},ye=function(e,t,a,n,i){return function(r,o,s,l){return l.then((function(){var l;return new he((function(t,a){var n=e(r,s,[s]),i=r.timeout,o=new he((function(e,t){l=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+i/1e3+" seconds to complete. "))}),i)}));he.race([n,o]).then(t,a)})).catch((function(e){return clearTimeout(l),e=t(e),n(r,o,e),he.reject(e)})).then((function(e){if(clearTimeout(l),!a(r,e))return i(r,o),he.reject()}))}))}},_e=he.resolve(),be=function(e,t,a){return function(n,i){return n.conditions&&n.conditions.forEach((function(t){_e=e(t,n,i,_e)})),n.actions&&n.actions.forEach((function(e){_e=t(e,n,i,_e)})),_e=(_e=_e.then((function(){a(n)}))).catch((function(){}))}},ke=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Ce=function(e,t,a,n){return function(i,r){var o;if(i.conditions)for(var s=0;s<i.conditions.length;s++){o=i.conditions[s];try{var l=e(o,r,[r]);if(ke(l))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,l))return a(o,i),!1}catch(e){return n(o,i,e),!1}}return!0}},Se=function(e,t){return function(a,n){e(a,n)&&t(a,n)}},Pe=function(e){return function(t){
var a=e.getModuleDefinition(t.modulePath);return a&&a.displayName||t.modulePath}},Ee=function(e){return function(t){var a=t.rule,n=t.event,i=e.getModuleDefinition(n.modulePath).name;return{$type:e.getModuleExtensionName(n.modulePath)+"."+i,$rule:{id:a.id,name:a.name}}}},Ie=function(e,t,a,n,i,r){return function(o,s){var l=s.rule,c=s.event;c.settings=c.settings||{};try{var d=i(s);t(c,null,[function(t){var n=a(d,t);o((function(){e(n,l)}))}])}catch(e){r.error(n(c,l,e))}}},Ae=function(e,t,a,n){return function(i,r,o){var s=t(i);a.error(e(s,r.name,o)),n("ruleActionFailed",{rule:r,action:i})}},Te=function(e,t,a,n){return function(i,r,o){var s=t(i);a.error(e(s,r.name,o)),n("ruleConditionFailed",{rule:r,condition:i})}},Ve=function(e,t,a){return function(n,i){var r=e(n);t.log('Condition "'+r+'" for rule "'+i.name+'" was not met.'),a("ruleConditionFailed",{rule:i,condition:n})}},De=function(e,t){return function(a){e.log('Rule "'+a.name+'" fired.'),t("ruleCompleted",{rule:a})}},we=function(e,t,a){return function(n,i){var r;if(n.actions)for(var o=0;o<n.actions.length;o++){r=n.actions[o];try{e(r,i,[i])}catch(e){return void t(r,n,e)}}a(n)}},Oe=function(e,t,a,n){return function(i,r){n("ruleTriggered",{rule:r}),e?a(r,i):t(r,i)}},Le=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},Ne=function(e,t){return t&&!e.negate||!t&&e.negate},Me=[],xe=!1,Fe=function(e){xe?e():Me.push(e)},Re=function(e,t,a){e(t).forEach((function(e){a(Fe,e)})),xe=!0,Me.forEach((function(e){e()})),Me=[]},je=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Be=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ue=function(e){var t,a;return!1!==m(e)&&("function"==typeof(t=e.constructor)&&(!1!==m(a=t.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf")))},Ge=function(e,t){return Ue(t=t||{})?t=E({},t,e):E(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return z.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},He=function(e,t){return function(a,n){var i=e[a];if(i){var r=i.modules;if(r)for(var o=Object.keys(r),s=0;s<o.length;s++){var l=o[s],c=r[l];if(c.shared&&c.name===n)return t.getModuleExports(l)}}}},qe=function(e,t){return function(){return t?e(t):{}}},ze=function(e,t,a){return function(n){if(a){var i=n.split(".");i.splice(i.length-1||1,0,"min"),n=i.join(".")}return e(t)+n}},$e=".js",Je=function(e){return e.substr(0,e.lastIndexOf("/"))},We=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Qe=function(e,t){We(t,$e)||(t+=$e);var a=t.split("/"),n=Je(e).split("/");return a.forEach((function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))})),n.join("/")},Ye=n((function(e){!function(t){if(e.exports=t(),!!0){var a=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=a,n}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(n){function i(){}function r(t,a,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},i.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var o=JSON.stringify(a);/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in r)r[l]&&(s+="; "+l,!0!==r[l]&&(s+="="+r[l].split(";")[0]));return document.cookie=t+"="+a+s}}function o(e,a){if("undefined"!=typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var s=r[o].split("="),l=s.slice(1).join("=");a||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(n.read||n)(l,c)||t(l),a)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=r,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,a){r(t,"",e(a,{expires:-1}))},i.defaults={},i.withConverter=a,i}return a((function(){}))}))})),Ke={get:Ye.get,set:Ye.set,remove:Ye.remove},Xe=function(e,t){return new he((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script "+e))}}))},Ze=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=Xe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},et=function(e,t,a,n){t=t||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;var r=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var l=0;l<s;++l){var c,d,u,g,f=e[l].replace(r,"%20"),p=f.indexOf(a);p>=0?(c=f.substr(0,p),d=f.substr(p+1)):(c=f,d=""),u=decodeURIComponent(c),g=decodeURIComponent(d),h(i,u)?Array.isArray(i[u])?i[u].push(g):i[u]=[i[u],g]:i[u]=g}return i},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},at=function(e,t,a,n){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var i=encodeURIComponent(tt(n))+a;return Array.isArray(e[n])?e[n].map((function(e){return i+encodeURIComponent(tt(e))})).join(t):i+encodeURIComponent(tt(e[n]))})).join(t):n?encodeURIComponent(tt(n))+a+encodeURIComponent(tt(e)):""},nt=n((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=at})),it="@adobe/reactor-",rt={cookie:Ke,document:b,"load-script":Ze,"object-assign":E,promise:he,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),nt.parse(e)},stringify:function(e){return nt.stringify(e)}},window:I},ot=function(e){return function(t){if(0===t.indexOf(it)){var a=t.substr(it.length),n=rt[a];if(n)return n}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,a,n,i,r,o){var s=e.extensions,l=e.buildInfo,c=e.environment,d=e.property.settings;if(s){var u=He(s,t);Object.keys(s).forEach((function(g){var f=s[g],p=f.settings;Array.isArray(f.filePaths)&&(p=r(p,f.filePaths));var m=qe(n,p);if(f.modules){var h=z.createPrefixedLogger(f.displayName),v=ze(o,f.hostedLibFilesBaseUrl,l.minified),y={buildInfo:l,environment:c,property:{name:e.property.name,id:e.property.id},getDataElementValue:i,getExtensionSettings:m,getHostedLibFileUrl:v,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:n,onDebugChanged:a.onDebugChanged,get debugEnabled(){return a.getDebugEnabled()}};Object.keys(f.modules).forEach((function(e){var a=f.modules[e],n=ot((function(a){var n=Qe(e,a);return t.getModuleExports(n)}));t.registerModule(e,a,g,n,y)}))}})),t.hydrateCache()}return t},lt=function(e,t,a,n,i){var r=z.createPrefixedLogger("Custom Script");e.track=function(e){z.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=r,e.notify=function(e,t){switch(z.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:r.info(e);break;case 4:r.warn(e);break;case 5:r.error(e);break;default:r.log(e)}},e.getVar=n,e.setVar=i,e.setCookie=function(e,t,a){var n="",i={};a&&(n=", { expires: "+a+" }",i.expires=a);var r='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";z.deprecation(r),Ke.set(e,t,i)},e.readCookie=function(e){return z.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Ke.get(e)},e.removeCookie=function(e){z.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Ke.remove(e)},e.cookie=Ke,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(z.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},ct=function(e,t){return function(a,n,i){return e&&Ue(a)&&Object.keys(a).length&&Array.isArray(n)&&n.length?(n.forEach((function(e){Boolean(null!=i&&/^core\/.*actions.*\/customCode\.js$/.test(i))&&"source"===e&&!a.isExternal||_(e.split("."),a,t)})),a):a}},dt=window._satellite;if(dt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var ut=dt.container;delete dt.container;var gt=E({},ut.buildInfo);Object.defineProperty(gt,"environment",{get:function(){return z.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),ut.environment.stage}}),ut.buildInfo=gt;var ft,pt=D(J("localStorage"),z),mt="";b.currentScript&&b.currentScript.getAttribute("src")&&(mt=b.currentScript.getAttribute("src"));try{ft=A(mt,Boolean(ut.company.dynamicCdnEnabled),ut.company.cdnAllowList,pt)}catch(e){throw z.warn("Please review the following error:"),e}var ht,vt=ct(ft.isDynamicEnforced,ft.decorateWithDynamicHost),yt=le(),_t=ut.property.settings.undefinedVarsReturnEmpty,bt=ut.property.settings.ruleComponentSequencingEnabled,kt=ut.dataElements||{},Ct=function(e){return kt[e]},St=function(){return ht.apply(null,arguments)},Pt=ae(yt,Ct,St,_t,vt),Et={},It=ge(Et),At=oe(Et,Ct),Tt=re(Et,Ct,Pt);ht=ue(At,Tt,_t),lt(dt,ut,pt.setDebugEnabled,Tt,It),st(ut,yt,pt,ht,Pt,vt,ft.decorateWithDynamicHost);var Vt=de(dt),Dt=O(yt,ht,vt),wt=Pe(yt),Ot=Ve(wt,z,Vt),Lt=Te(Le,wt,z,Vt),Nt=Ae(Le,wt,z,Vt),Mt=De(z,Vt),xt=Ie(Oe(bt,Se(Ce(Dt,Ne,Ot,Lt),we(Dt,Nt,Mt)),be(ye(Dt,je,Ne,Lt,Ot),ve(Dt,je,Nt),Mt),Vt),Dt,Ge,Le,Ee(yt),z);Re(T,ut.rules||[],xt)}return dt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();